(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["chatsora"]=t():e["chatsora"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),s={};s[i]="z",e.exports="[object z]"===String(s)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==s.call(e)?o(e):i(r(e))}},"0676":function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),s=n("5c6c"),a=n("fc6a"),o=n("c04e"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=o(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return s(!i.f.call(e,t),e[t])}},"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"0a06":function(e,t,n){"use strict";var r=n("c532"),i=n("30b5"),s=n("f6b4"),a=n("5270"),o=n("4a7b");function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=o(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=o(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(o(r||{},{method:e,url:t,data:n}))}})),e.exports=c},"0cb2":function(e,t,n){var r=n("7b0b"),i=Math.floor,s="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,c,u,l){var f=n+e.length,h=c.length,d=o;return void 0!==u&&(u=r(u),d=a),s.call(l,d,(function(r,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":a=u[s.slice(1,-1)];break;default:var o=+s;if(0===o)return r;if(o>h){var l=i(o/10);return 0===l?r:l<=h?void 0===c[l-1]?s.charAt(1):c[l-1]+s.charAt(1):r}a=c[o-1]}return void 0===a?"":a}))}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),s=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"11b0":function(e,t,n){function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("e260"),n("ddb0"),n("a630"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),s=n("825a"),a=n("1d80"),o=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("14c3"),f=n("9263"),h=n("d039"),d=[].push,p=Math.min,v=4294967295,m=!h((function(){return!RegExp(v,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),s=void 0===n?v:n>>>0;if(0===s)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,s);var o,c,u,l=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,h+"g");while(o=f.call(m,r)){if(c=m.lastIndex,c>p&&(l.push(r.slice(p,o.index)),o.length>1&&o.index<r.length&&d.apply(l,o.slice(1)),u=o[0].length,p=c,l.length>=s))break;m.lastIndex===o.index&&m.lastIndex++}return p===r.length?!u&&m.test("")||l.push(""):l.push(r.slice(p)),l.length>s?l.slice(0,s):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=s(e),h=String(this),d=o(f,RegExp),g=f.unicode,y=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),w=new d(m?f:"^(?:"+f.source+")",y),b=void 0===i?v:i>>>0;if(0===b)return[];if(0===h.length)return null===l(w,h)?[h]:[];var x=0,_=0,k=[];while(_<h.length){w.lastIndex=m?_:0;var C,S=l(w,m?h:h.slice(_));if(null===S||(C=p(u(w.lastIndex+(m?0:_)),h.length))===x)_=c(h,_,g);else{if(k.push(h.slice(x,_)),k.length===b)return k;for(var E=1;E<=S.length-1;E++)if(k.push(S[E]),k.length===b)return k;_=x=C}}return k.push(h.slice(x)),k}]}),!m)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1315:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return u=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),s=new i;return n&&o(s,n.prototype),s},u.apply(null,arguments)}function l(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function f(e){var t="function"===typeof Map?new Map:void 0;return f=function(e){if(null===e||!l(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},f(e)}function h(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=0;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=d(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return t=e[Symbol.iterator](),t.next.bind(t)}Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t}(f(Error)),g=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return s(t,e),t}(m),y=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return s(t,e),t}(m),w=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return s(t,e),t}(m),b=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t}(m),x=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return s(t,e),t}(m),_=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t}(m),k=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return s(t,e),t}(m),C="numeric",S="short",E="long",O={year:C,month:C,day:C},T={year:C,month:S,day:C},M={year:C,month:S,day:C,weekday:S},A={year:C,month:E,day:C},R={year:C,month:E,day:C,weekday:E},U={hour:C,minute:C},I={hour:C,minute:C,second:C},j={hour:C,minute:C,second:C,timeZoneName:S},D={hour:C,minute:C,second:C,timeZoneName:E},P={hour:C,minute:C,hour12:!1},L={hour:C,minute:C,second:C,hour12:!1},N={hour:C,minute:C,second:C,hour12:!1,timeZoneName:S},$={hour:C,minute:C,second:C,hour12:!1,timeZoneName:E},q={year:C,month:C,day:C,hour:C,minute:C},F={year:C,month:C,day:C,hour:C,minute:C,second:C},B={year:C,month:S,day:C,hour:C,minute:C},V={year:C,month:S,day:C,hour:C,minute:C,second:C},z={year:C,month:S,day:C,weekday:S,hour:C,minute:C},H={year:C,month:E,day:C,hour:C,minute:C,timeZoneName:S},Z={year:C,month:E,day:C,hour:C,minute:C,second:C,timeZoneName:S},W={year:C,month:E,day:C,weekday:E,hour:C,minute:C,timeZoneName:E},Y={year:C,month:E,day:C,weekday:E,hour:C,minute:C,second:C,timeZoneName:E};function J(e){return"undefined"===typeof e}function G(e){return"number"===typeof e}function Q(e){return"number"===typeof e&&e%1===0}function K(e){return"string"===typeof e}function X(e){return"[object Date]"===Object.prototype.toString.call(e)}function ee(){try{return"undefined"!==typeof Intl&&Intl.DateTimeFormat}catch(e){return!1}}function te(){return!J(Intl.DateTimeFormat.prototype.formatToParts)}function ne(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function re(e){return Array.isArray(e)?e:[e]}function ie(e,t,n){if(0!==e.length)return e.reduce((function(e,r){var i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function se(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}function ae(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oe(e,t,n){return Q(e)&&e>=t&&e<=n}function ce(e,t){return e-t*Math.floor(e/t)}function ue(e,t){void 0===t&&(t=2);var n,r=e<0?"-":"",i=r?-1*e:e;return n=i.toString().length<t?("0".repeat(t)+i).slice(-t):i.toString(),""+r+n}function le(e){return J(e)||null===e||""===e?void 0:parseInt(e,10)}function fe(e){if(!J(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function he(e,t,n){void 0===n&&(n=!1);var r=Math.pow(10,t),i=n?Math.trunc:Math.round;return i(e*r)/r}function de(e){return e%4===0&&(e%100!==0||e%400===0)}function pe(e){return de(e)?366:365}function ve(e,t){var n=ce(t-1,12)+1,r=e+(t-n)/12;return 2===n?de(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function me(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function ge(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function ye(e){return e>99?e:e>60?1900+e:2e3+e}function we(e,t,n,r){void 0===r&&(r=null);var i=new Date(e),s={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);var a=Object.assign({timeZoneName:t},s),o=ee();if(o&&te()){var c=new Intl.DateTimeFormat(n,a).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return c?c.value:null}if(o){var u=new Intl.DateTimeFormat(n,s).format(i),l=new Intl.DateTimeFormat(n,a).format(i),f=l.substring(u.length),h=f.replace(/^[, \u200e]+/,"");return h}return null}function be(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var r=parseInt(t,10)||0,i=n<0||Object.is(n,-0)?-r:r;return 60*n+i}function xe(e){var t=Number(e);if("boolean"===typeof e||""===e||Number.isNaN(t))throw new _("Invalid unit value "+e);return t}function _e(e,t,n){var r={};for(var i in e)if(ae(e,i)){if(n.indexOf(i)>=0)continue;var s=e[i];if(void 0===s||null===s)continue;r[t(i)]=xe(s)}return r}function ke(e,t){var n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return""+i+ue(n,2)+":"+ue(r,2);case"narrow":return""+i+n+(r>0?":"+r:"");case"techie":return""+i+ue(n,2)+ue(r,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function Ce(e){return se(e,["hour","minute","second","millisecond"])}var Se=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function Ee(e){return JSON.stringify(e,Object.keys(e).sort())}var Oe=["January","February","March","April","May","June","July","August","September","October","November","December"],Te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Me=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ae(e){switch(e){case"narrow":return Me;case"short":return Te;case"long":return Oe;case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Re=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ue=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ie=["M","T","W","T","F","S","S"];function je(e){switch(e){case"narrow":return Ie;case"short":return Ue;case"long":return Re;case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var De=["AM","PM"],Pe=["Before Christ","Anno Domini"],Le=["BC","AD"],Ne=["B","A"];function $e(e){switch(e){case"narrow":return Ne;case"short":return Le;case"long":return Pe;default:return null}}function qe(e){return De[e.hour<12?0:1]}function Fe(e,t){return je(t)[e.weekday-1]}function Be(e,t){return Ae(t)[e.month-1]}function Ve(e,t){return $e(t)[e.year<0?0:1]}function ze(e,t,n,r){void 0===n&&(n="always"),void 0===r&&(r=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&s){var a="days"===e;switch(t){case 1:return a?"tomorrow":"next "+i[e][0];case-1:return a?"yesterday":"last "+i[e][0];case 0:return a?"today":"this "+i[e][0]}}var o=Object.is(t,-0)||t<0,c=Math.abs(t),u=1===c,l=i[e],f=r?u?l[1]:l[2]||l[1]:u?i[e][0]:e;return o?c+" "+f+" ago":"in "+c+" "+f}function He(e){var t=se(e,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),n=Ee(t),r="EEEE, LLLL d, yyyy, h:mm a";switch(n){case Ee(O):return"M/d/yyyy";case Ee(T):return"LLL d, yyyy";case Ee(M):return"EEE, LLL d, yyyy";case Ee(A):return"LLLL d, yyyy";case Ee(R):return"EEEE, LLLL d, yyyy";case Ee(U):return"h:mm a";case Ee(I):return"h:mm:ss a";case Ee(j):return"h:mm a";case Ee(D):return"h:mm a";case Ee(P):return"HH:mm";case Ee(L):return"HH:mm:ss";case Ee(N):return"HH:mm";case Ee($):return"HH:mm";case Ee(q):return"M/d/yyyy, h:mm a";case Ee(B):return"LLL d, yyyy, h:mm a";case Ee(H):return"LLLL d, yyyy, h:mm a";case Ee(W):return r;case Ee(F):return"M/d/yyyy, h:mm:ss a";case Ee(V):return"LLL d, yyyy, h:mm:ss a";case Ee(z):return"EEE, d LLL yyyy, h:mm a";case Ee(Z):return"LLLL d, yyyy, h:mm:ss a";case Ee(Y):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return r}}function Ze(e,t){for(var n,r="",i=v(e);!(n=i()).done;){var s=n.value;s.literal?r+=s.val:r+=t(s.val)}return r}var We={D:O,DD:T,DDD:A,DDDD:R,t:U,tt:I,ttt:j,tttt:D,T:P,TT:L,TTT:N,TTTT:$,f:q,ff:B,fff:H,ffff:W,F:F,FF:V,FFF:Z,FFFF:Y},Ye=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,n){return void 0===n&&(n={}),new e(t,n)},e.parseFormat=function(e){for(var t=null,n="",r=!1,i=[],s=0;s<e.length;s++){var a=e.charAt(s);"'"===a?(n.length>0&&i.push({literal:r,val:n}),t=null,n="",r=!r):r||a===t?n+=a:(n.length>0&&i.push({literal:!1,val:n}),n=a,t=a)}return n.length>0&&i.push({literal:r,val:n}),i},e.macroTokenToFormatOpts=function(e){return We[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());var n=this.systemLoc.dtFormatter(e,Object.assign({},this.opts,t));return n.format()},t.formatDateTime=function(e,t){void 0===t&&(t={});var n=this.loc.dtFormatter(e,Object.assign({},this.opts,t));return n.format()},t.formatDateTimeParts=function(e,t){void 0===t&&(t={});var n=this.loc.dtFormatter(e,Object.assign({},this.opts,t));return n.formatToParts()},t.resolvedOptions=function(e,t){void 0===t&&(t={});var n=this.loc.dtFormatter(e,Object.assign({},this.opts,t));return n.resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return ue(e,t);var n=Object.assign({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)},t.formatDateTimeFromString=function(t,n){var r=this,i="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&te(),a=function(e,n){return r.loc.extract(t,e,n)},o=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},c=function(){return i?qe(t):a({hour:"numeric",hour12:!0},"dayperiod")},u=function(e,n){return i?Be(t,e):a(n?{month:e}:{month:e,day:"numeric"},"month")},l=function(e,n){return i?Fe(t,e):a(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},f=function(n){var i=e.macroTokenToFormatOpts(n);return i?r.formatWithSystemDefault(t,i):n},h=function(e){return i?Ve(t,e):a({era:e},"era")},d=function(e){switch(e){case"S":return r.num(t.millisecond);case"u":case"SSS":return r.num(t.millisecond,3);case"s":return r.num(t.second);case"ss":return r.num(t.second,2);case"m":return r.num(t.minute);case"mm":return r.num(t.minute,2);case"h":return r.num(t.hour%12===0?12:t.hour%12);case"hh":return r.num(t.hour%12===0?12:t.hour%12,2);case"H":return r.num(t.hour);case"HH":return r.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:r.opts.allowZ});case"ZZ":return o({format:"short",allowZ:r.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:r.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:r.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:r.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return s?a({day:"numeric"},"day"):r.num(t.day);case"dd":return s?a({day:"2-digit"},"day"):r.num(t.day,2);case"c":return r.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return r.num(t.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return s?a({month:"numeric",day:"numeric"},"month"):r.num(t.month);case"LL":return s?a({month:"2-digit",day:"numeric"},"month"):r.num(t.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return s?a({month:"numeric"},"month"):r.num(t.month);case"MM":return s?a({month:"2-digit"},"month"):r.num(t.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return s?a({year:"numeric"},"year"):r.num(t.year);case"yy":return s?a({year:"2-digit"},"year"):r.num(t.year.toString().slice(-2),2);case"yyyy":return s?a({year:"numeric"},"year"):r.num(t.year,4);case"yyyyyy":return s?a({year:"numeric"},"year"):r.num(t.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return r.num(t.weekYear.toString().slice(-2),2);case"kkkk":return r.num(t.weekYear,4);case"W":return r.num(t.weekNumber);case"WW":return r.num(t.weekNumber,2);case"o":return r.num(t.ordinal);case"ooo":return r.num(t.ordinal,3);case"q":return r.num(t.quarter);case"qq":return r.num(t.quarter,2);case"X":return r.num(Math.floor(t.ts/1e3));case"x":return r.num(t.ts);default:return f(e)}};return Ze(e.parseFormat(n),d)},t.formatDurationFromString=function(t,n){var r=this,i=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},s=function(e){return function(t){var n=i(t);return n?r.num(e.get(n),t.length):t}},a=e.parseFormat(n),o=a.reduce((function(e,t){var n=t.literal,r=t.val;return n?e:e.concat(r)}),[]),c=t.shiftTo.apply(t,o.map(i).filter((function(e){return e})));return Ze(a,s(c))},e}(),Je=function(){function e(e,t){this.reason=e,this.explanation=t}var t=e.prototype;return t.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),Ge=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new k},t.formatOffset=function(e,t){throw new k},t.offset=function(e){throw new k},t.equals=function(e){throw new k},i(e,[{key:"type",get:function(){throw new k}},{key:"name",get:function(){throw new k}},{key:"universal",get:function(){throw new k}},{key:"isValid",get:function(){throw new k}}]),e}(),Qe=null,Ke=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.offsetName=function(e,t){var n=t.format,r=t.locale;return we(e,n,r)},n.formatOffset=function(e,t){return ke(this.offset(e),t)},n.offset=function(e){return-new Date(e).getTimezoneOffset()},n.equals=function(e){return"local"===e.type},i(t,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return ee()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===Qe&&(Qe=new t),Qe}}]),t}(Ge),Xe=RegExp("^"+Se.source+"$"),et={};function tt(e){return et[e]||(et[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),et[e]}var nt={year:0,month:1,day:2,hour:3,minute:4,second:5};function rt(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),i=r[1],s=r[2],a=r[3],o=r[4],c=r[5],u=r[6];return[a,i,s,o,c,u]}function it(e,t){for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var s=n[i],a=s.type,o=s.value,c=nt[a];J(c)||(r[c]=parseInt(o,10))}return r}var st={},at=function(e){function t(n){var r;return r=e.call(this)||this,r.zoneName=n,r.valid=t.isValidZone(n),r}s(t,e),t.create=function(e){return st[e]||(st[e]=new t(e)),st[e]},t.resetCache=function(){st={},et={}},t.isValidSpecifier=function(e){return!(!e||!e.match(Xe))},t.isValidZone=function(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}},t.parseGMTOffset=function(e){if(e){var t=e.match(/^Etc\/GMT([+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null};var n=t.prototype;return n.offsetName=function(e,t){var n=t.format,r=t.locale;return we(e,n,r,this.name)},n.formatOffset=function(e,t){return ke(this.offset(e),t)},n.offset=function(e){var t=new Date(e),n=tt(this.name),r=n.formatToParts?it(n,t):rt(n,t),i=r[0],s=r[1],a=r[2],o=r[3],c=r[4],u=r[5],l=24===o?0:o,f=me({year:i,month:s,day:a,hour:l,minute:c,second:u,millisecond:0}),h=+t,d=h%1e3;return h-=d>=0?d:1e3+d,(f-h)/6e4},n.equals=function(e){return"iana"===e.type&&e.name===this.name},i(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(Ge),ot=null,ct=function(e){function t(t){var n;return n=e.call(this)||this,n.fixed=t,n}s(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(be(n[1],n[2]))}return null},i(t,null,[{key:"utcInstance",get:function(){return null===ot&&(ot=new t(0)),ot}}]);var n=t.prototype;return n.offsetName=function(){return this.name},n.formatOffset=function(e,t){return ke(this.fixed,t)},n.offset=function(){return this.fixed},n.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},i(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+ke(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),t}(Ge),ut=function(e){function t(t){var n;return n=e.call(this)||this,n.zoneName=t,n}s(t,e);var n=t.prototype;return n.offsetName=function(){return null},n.formatOffset=function(){return""},n.offset=function(){return NaN},n.equals=function(){return!1},i(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(Ge);function lt(e,t){var n;if(J(e)||null===e)return t;if(e instanceof Ge)return e;if(K(e)){var r=e.toLowerCase();return"local"===r?t:"utc"===r||"gmt"===r?ct.utcInstance:null!=(n=at.parseGMTOffset(e))?ct.instance(n):at.isValidSpecifier(r)?at.create(e):ct.parseSpecifier(r)||new ut(e)}return G(e)?ct.instance(e):"object"===typeof e&&e.offset&&"number"===typeof e.offset?e:new ut(e)}var ft=function(){return Date.now()},ht=null,dt=null,pt=null,vt=null,mt=!1,gt=function(){function e(){}return e.resetCaches=function(){Dt.resetCache(),at.resetCache()},i(e,null,[{key:"now",get:function(){return ft},set:function(e){ft=e}},{key:"defaultZoneName",get:function(){return e.defaultZone.name},set:function(e){ht=e?lt(e):null}},{key:"defaultZone",get:function(){return ht||Ke.instance}},{key:"defaultLocale",get:function(){return dt},set:function(e){dt=e}},{key:"defaultNumberingSystem",get:function(){return pt},set:function(e){pt=e}},{key:"defaultOutputCalendar",get:function(){return vt},set:function(e){vt=e}},{key:"throwOnInvalid",get:function(){return mt},set:function(e){mt=e}}]),e}(),yt={};function wt(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=yt[n];return r||(r=new Intl.DateTimeFormat(e,t),yt[n]=r),r}var bt={};function xt(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=bt[n];return r||(r=new Intl.NumberFormat(e,t),bt[n]=r),r}var _t={};function kt(e,t){void 0===t&&(t={});var n=t,r=(n.base,h(n,["base"])),i=JSON.stringify([e,r]),s=_t[i];return s||(s=new Intl.RelativeTimeFormat(e,t),_t[i]=s),s}var Ct=null;function St(){if(Ct)return Ct;if(ee()){var e=(new Intl.DateTimeFormat).resolvedOptions().locale;return Ct=e&&"und"!==e?e:"en-US",Ct}return Ct="en-US",Ct}function Et(e){var t=e.indexOf("-u-");if(-1===t)return[e];var n,r=e.substring(0,t);try{n=wt(e).resolvedOptions()}catch(o){n=wt(r).resolvedOptions()}var i=n,s=i.numberingSystem,a=i.calendar;return[r,s,a]}function Ot(e,t,n){return ee()?n||t?(e+="-u",n&&(e+="-ca-"+n),t&&(e+="-nu-"+t),e):e:[]}function Tt(e){for(var t=[],n=1;n<=12;n++){var r=hi.utc(2016,n,1);t.push(e(r))}return t}function Mt(e){for(var t=[],n=1;n<=7;n++){var r=hi.utc(2016,11,13+n);t.push(e(r))}return t}function At(e,t,n,r,i){var s=e.listingMode(n);return"error"===s?null:"en"===s?r(t):i(t)}function Rt(e){return(!e.numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||ee()&&"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)}var Ut=function(){function e(e,t,n){if(this.padTo=n.padTo||0,this.floor=n.floor||!1,!t&&ee()){var r={useGrouping:!1};n.padTo>0&&(r.minimumIntegerDigits=n.padTo),this.inf=xt(e,r)}}var t=e.prototype;return t.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}var n=this.floor?Math.floor(e):he(e,3);return ue(n,this.padTo)},e}(),It=function(){function e(e,t,n){var r;if(this.opts=n,this.hasIntl=ee(),e.zone.universal&&this.hasIntl){var i=e.offset/60*-1;i>=-14&&i<=12&&i%1===0?(r=i>=0?"Etc/GMT+"+i:"Etc/GMT"+i,this.dt=e):(r="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:hi.fromMillis(e.ts+60*e.offset*1e3))}else"local"===e.zone.type?this.dt=e:(this.dt=e,r=e.zone.name);if(this.hasIntl){var s=Object.assign({},this.opts);r&&(s.timeZone=r),this.dtf=wt(t,s)}}var t=e.prototype;return t.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var e=He(this.opts),t=Dt.create("en-US");return Ye.create(t).formatDateTimeFromString(this.dt,e)},t.formatToParts=function(){return this.hasIntl&&te()?this.dtf.formatToParts(this.dt.toJSDate()):[]},t.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},e}(),jt=function(){function e(e,t,n){this.opts=Object.assign({style:"long"},n),!t&&ne()&&(this.rtf=kt(e,n))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):ze(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),Dt=function(){function e(e,t,n,r){var i=Et(e),s=i[0],a=i[1],o=i[2];this.locale=s,this.numberingSystem=t||a||null,this.outputCalendar=n||o||null,this.intl=Ot(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,n,r,i){void 0===i&&(i=!1);var s=t||gt.defaultLocale,a=s||(i?"en-US":St()),o=n||gt.defaultNumberingSystem,c=r||gt.defaultOutputCalendar;return new e(a,o,c,s)},e.resetCache=function(){Ct=null,yt={},bt={},_t={}},e.fromObject=function(t){var n=void 0===t?{}:t,r=n.locale,i=n.numberingSystem,s=n.outputCalendar;return e.create(r,i,s)};var t=e.prototype;return t.listingMode=function(e){void 0===e&&(e=!0);var t=ee(),n=t&&te(),r=this.isEnglish(),i=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return n||r&&i||e?!n||r&&i?"en":"intl":"error"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(Object.assign({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(Object.assign({},e,{defaultToEN:!1}))},t.months=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),At(this,e,n,Ae,(function(){var n=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return r.monthsCache[i][e]||(r.monthsCache[i][e]=Tt((function(e){return r.extract(e,n,"month")}))),r.monthsCache[i][e]}))},t.weekdays=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),At(this,e,n,je,(function(){var n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return r.weekdaysCache[i][e]||(r.weekdaysCache[i][e]=Mt((function(e){return r.extract(e,n,"weekday")}))),r.weekdaysCache[i][e]}))},t.meridiems=function(e){var t=this;return void 0===e&&(e=!0),At(this,void 0,e,(function(){return De}),(function(){if(!t.meridiemCache){var e={hour:"numeric",hour12:!0};t.meridiemCache=[hi.utc(2016,11,13,9),hi.utc(2016,11,13,19)].map((function(n){return t.extract(n,e,"dayperiod")}))}return t.meridiemCache}))},t.eras=function(e,t){var n=this;return void 0===t&&(t=!0),At(this,e,t,$e,(function(){var t={era:e};return n.eraCache[e]||(n.eraCache[e]=[hi.utc(-40,1,1),hi.utc(2017,1,1)].map((function(e){return n.extract(e,t,"era")}))),n.eraCache[e]}))},t.extract=function(e,t,n){var r=this.dtFormatter(e,t),i=r.formatToParts(),s=i.find((function(e){return e.type.toLowerCase()===n}));return s?s.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new Ut(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new It(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new jt(this.intl,this.isEnglish(),e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||ee()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},i(e,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=Rt(this)),this.fastNumbersCached}}]),e}();function Pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+r+"$")}function Lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var r=t[0],i=t[1],s=t[2],a=n(e,s),o=a[0],c=a[1],u=a[2];return[Object.assign(r,o),i||c,u]}),[{},null,1]).slice(0,2)}}function Nt(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var a=s[i],o=a[0],c=a[1],u=o.exec(e);if(u)return c(u)}return[null,null]}function $t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,i={};for(r=0;r<t.length;r++)i[t[r]]=le(e[n+r]);return[i,null,n+r]}}var qt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ft=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Bt=RegExp(""+Ft.source+qt.source+"?"),Vt=RegExp("(?:T"+Bt.source+")?"),zt=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ht=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Zt=/(\d{4})-?(\d{3})/,Wt=$t("weekYear","weekNumber","weekDay"),Yt=$t("year","ordinal"),Jt=/(\d{4})-(\d\d)-(\d\d)/,Gt=RegExp(Ft.source+" ?(?:"+qt.source+"|("+Se.source+"))?"),Qt=RegExp("(?: "+Gt.source+")?");function Kt(e,t,n){var r=e[t];return J(r)?n:le(r)}function Xt(e,t){var n={year:Kt(e,t),month:Kt(e,t+1,1),day:Kt(e,t+2,1)};return[n,null,t+3]}function en(e,t){var n={hours:Kt(e,t,0),minutes:Kt(e,t+1,0),seconds:Kt(e,t+2,0),milliseconds:fe(e[t+3])};return[n,null,t+4]}function tn(e,t){var n=!e[t]&&!e[t+1],r=be(e[t+1],e[t+2]),i=n?null:ct.instance(r);return[{},i,t+3]}function nn(e,t){var n=e[t]?at.create(e[t]):null;return[{},n,t+1]}var rn=RegExp("^T?"+Ft.source+"$"),sn=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function an(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],c=e[7],u=e[8],l="-"===t[0],f=function(e){return e&&l?-e:e};return[{years:f(le(n)),months:f(le(r)),weeks:f(le(i)),days:f(le(s)),hours:f(le(a)),minutes:f(le(o)),seconds:f(le(c)),milliseconds:f(fe(u))}]}var on={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function cn(e,t,n,r,i,s,a){var o={year:2===t.length?ye(le(t)):le(t),month:Te.indexOf(n)+1,day:le(r),hour:le(i),minute:le(s)};return a&&(o.second=le(a)),e&&(o.weekday=e.length>3?Re.indexOf(e)+1:Ue.indexOf(e)+1),o}var un=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ln(e){var t,n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],c=e[7],u=e[8],l=e[9],f=e[10],h=e[11],d=cn(n,s,i,r,a,o,c);return t=u?on[u]:l?0:be(f,h),[d,new ct(t)]}function fn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var hn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,dn=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,pn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function vn(e){var t=e[1],n=e[2],r=e[3],i=e[4],s=e[5],a=e[6],o=e[7],c=cn(t,i,r,n,s,a,o);return[c,ct.utcInstance]}function mn(e){var t=e[1],n=e[2],r=e[3],i=e[4],s=e[5],a=e[6],o=e[7],c=cn(t,o,n,r,i,s,a);return[c,ct.utcInstance]}var gn=Pt(zt,Vt),yn=Pt(Ht,Vt),wn=Pt(Zt,Vt),bn=Pt(Bt),xn=Lt(Xt,en,tn),_n=Lt(Wt,en,tn),kn=Lt(Yt,en),Cn=Lt(en,tn);function Sn(e){return Nt(e,[gn,xn],[yn,_n],[wn,kn],[bn,Cn])}function En(e){return Nt(fn(e),[un,ln])}function On(e){return Nt(e,[hn,vn],[dn,vn],[pn,mn])}function Tn(e){return Nt(e,[sn,an])}var Mn=Lt(en);function An(e){return Nt(e,[rn,Mn])}var Rn=Pt(Jt,Qt),Un=Pt(Gt),In=Lt(Xt,en,tn,nn),jn=Lt(en,tn,nn);function Dn(e){return Nt(e,[Rn,In],[Un,jn])}var Pn="Invalid Duration",Ln={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Nn=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Ln),$n=365.2425,qn=30.436875,Fn=Object.assign({years:{quarters:4,months:12,weeks:$n/7,days:$n,hours:24*$n,minutes:24*$n*60,seconds:24*$n*60*60,milliseconds:24*$n*60*60*1e3},quarters:{months:3,weeks:$n/28,days:$n/4,hours:24*$n/4,minutes:24*$n*60/4,seconds:24*$n*60*60/4,milliseconds:24*$n*60*60*1e3/4},months:{weeks:qn/7,days:qn,hours:24*qn,minutes:24*qn*60,seconds:24*qn*60*60,milliseconds:24*qn*60*60*1e3}},Ln),Bn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Vn=Bn.slice(0).reverse();function zn(e,t,n){void 0===n&&(n=!1);var r={values:n?t.values:Object.assign({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new Yn(r)}function Hn(e){return e<0?Math.floor(e):Math.ceil(e)}function Zn(e,t,n,r,i){var s=e[i][n],a=t[n]/s,o=Math.sign(a)===Math.sign(r[i]),c=!o&&0!==r[i]&&Math.abs(a)<=1?Hn(a):Math.trunc(a);r[i]+=c,t[n]-=c*s}function Wn(e,t){Vn.reduce((function(n,r){return J(t[r])?n:(n&&Zn(e,t,n,t,r),r)}),null)}var Yn=function(){function e(e){var t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||Dt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?Fn:Nn,this.isLuxonDuration=!0}e.fromMillis=function(t,n){return e.fromObject(Object.assign({milliseconds:t},n))},e.fromObject=function(t){if(null==t||"object"!==typeof t)throw new _("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new e({values:_e(t,e.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Dt.fromObject(t),conversionAccuracy:t.conversionAccuracy})},e.fromISO=function(t,n){var r=Tn(t),i=r[0];if(i){var s=Object.assign(i,n);return e.fromObject(s)}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.fromISOTime=function(t,n){var r=An(t),i=r[0];if(i){var s=Object.assign(i,n);return e.fromObject(s)}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new _("need to specify a reason the Duration is invalid");var r=t instanceof Je?t:new Je(t,n);if(gt.throwOnInvalid)throw new w(r);return new e({invalid:r})},e.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new x(e);return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(e,t){void 0===t&&(t={});var n=Object.assign({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Ye.create(this.loc,n).formatDurationFromString(this,e):Pn},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=Object.assign({},this.values);return e.includeConfig&&(t.conversionAccuracy=this.conversionAccuracy,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toISO=function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=he(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var n=this.shiftTo("hours","minutes","seconds","milliseconds"),r="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));var i=n.toFormat(r);return e.includePrefix&&(i="T"+i),i},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(e){if(!this.isValid)return this;for(var t,n=Jn(e),r={},i=v(Bn);!(t=i()).done;){var s=t.value;(ae(n.values,s)||ae(this.values,s))&&(r[s]=n.get(s)+this.get(s))}return zn(this,{values:r},!0)},t.minus=function(e){if(!this.isValid)return this;var t=Jn(e);return this.plus(t.negate())},t.mapUnits=function(e){if(!this.isValid)return this;for(var t={},n=0,r=Object.keys(this.values);n<r.length;n++){var i=r[n];t[i]=xe(e(this.values[i],i))}return zn(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){if(!this.isValid)return this;var n=Object.assign(this.values,_e(t,e.normalizeUnit,[]));return zn(this,{values:n})},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,i=t.conversionAccuracy,s=this.loc.clone({locale:n,numberingSystem:r}),a={loc:s};return i&&(a.conversionAccuracy=i),zn(this,a)},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return Wn(this.matrix,e),zn(this,{values:e},!0)},t.shiftTo=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));for(var i,s,a={},o={},c=this.toObject(),u=v(Bn);!(s=u()).done;){var l=s.value;if(n.indexOf(l)>=0){i=l;var f=0;for(var h in o)f+=this.matrix[h][l]*o[h],o[h]=0;G(c[l])&&(f+=c[l]);var d=Math.trunc(f);for(var p in a[l]=d,o[l]=f-d,c)Bn.indexOf(p)>Bn.indexOf(l)&&Zn(this.matrix,c,p,a,l)}else G(c[l])&&(o[l]=c[l])}for(var m in o)0!==o[m]&&(a[i]+=m===i?o[m]:o[m]/this.matrix[i][m]);return zn(this,{values:a},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var r=n[t];e[r]=-this.values[r]}return zn(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;function t(e,t){return void 0===e||0===e?void 0===t||0===t:e===t}for(var n,r=v(Bn);!(n=r()).done;){var i=n.value;if(!t(this.values[i],e.values[i]))return!1}return!0},i(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}();function Jn(e){if(G(e))return Yn.fromMillis(e);if(Yn.isDuration(e))return e;if("object"===typeof e)return Yn.fromObject(e);throw new _("Unknown duration argument "+e+" of type "+typeof e)}var Gn="Invalid Interval";function Qn(e,t){return e&&e.isValid?t&&t.isValid?t<e?Kn.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:Kn.invalid("missing or invalid end"):Kn.invalid("missing or invalid start")}var Kn=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new _("need to specify a reason the Interval is invalid");var r=t instanceof Je?t:new Je(t,n);if(gt.throwOnInvalid)throw new y(r);return new e({invalid:r})},e.fromDateTimes=function(t,n){var r=di(t),i=di(n),s=Qn(r,i);return null==s?new e({start:r,end:i}):s},e.after=function(t,n){var r=Jn(n),i=di(t);return e.fromDateTimes(i,i.plus(r))},e.before=function(t,n){var r=Jn(n),i=di(t);return e.fromDateTimes(i.minus(r),i)},e.fromISO=function(t,n){var r=(t||"").split("/",2),i=r[0],s=r[1];if(i&&s){var a,o,c,u;try{a=hi.fromISO(i,n),o=a.isValid}catch(s){o=!1}try{c=hi.fromISO(s,n),u=c.isValid}catch(s){u=!1}if(o&&u)return e.fromDateTimes(a,c);if(o){var l=Yn.fromISO(s,n);if(l.isValid)return e.after(a,l)}else if(u){var f=Yn.fromISO(i,n);if(f.isValid)return e.before(c,f)}}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.isInterval=function(e){return e&&e.isLuxonInterval||!1};var t=e.prototype;return t.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN;var t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&(this.s<=e&&this.e>e)},t.set=function(t){var n=void 0===t?{}:t,r=n.start,i=n.end;return this.isValid?e.fromDateTimes(r||this.s,i||this.e):this},t.splitAt=function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.map(di).filter((function(e){return t.contains(e)})).sort(),a=[],o=this.s,c=0;while(o<this.e){var u=s[c]||this.e,l=+u>+this.e?this.e:u;a.push(e.fromDateTimes(o,l)),o=l,c+=1}return a},t.splitBy=function(t){var n=Jn(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];var r,i,s=this.s,a=[];while(s<this.e)r=s.plus(n),i=+r>+this.e?this.e:r,a.push(e.fromDateTimes(s,i)),s=i;return a},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e===+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e===+this.s},t.engulfs=function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)},t.equals=function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))},t.intersection=function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>r?null:e.fromDateTimes(n,r)},t.union=function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=e[0],r=e[1];return r?r.overlaps(t)||r.abutsStart(t)?[n,r.union(t)]:[n.concat([r]),t]:[n,t]}),[[],null]),n=t[0],r=t[1];return r&&n.push(r),n},e.xor=function(t){for(var n,r,i=null,s=0,a=[],o=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),c=(n=Array.prototype).concat.apply(n,o),u=c.sort((function(e,t){return e.time-t.time})),l=v(u);!(r=l()).done;){var f=r.value;s+="s"===f.type?1:-1,1===s?i=f.time:(i&&+i!==+f.time&&a.push(e.fromDateTimes(i,f.time)),i=null)}return e.merge(a)},t.difference=function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.xor([this].concat(r)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?"["+this.s.toISO()+"  "+this.e.toISO()+")":Gn},t.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):Gn},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():Gn},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):Gn},t.toFormat=function(e,t){var n=void 0===t?{}:t,r=n.separator,i=void 0===r?"  ":r;return this.isValid?""+this.s.toFormat(e)+i+this.e.toFormat(e):Gn},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):Yn.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},i(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),Xn=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=gt.defaultZone);var t=hi.now().setZone(e).set({month:12});return!e.universal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return at.isValidSpecifier(e)&&at.isValidZone(e)},e.normalizeZone=function(e){return lt(e,gt.defaultZone)},e.months=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s,o=n.outputCalendar,c=void 0===o?"gregory":o;return Dt.create(i,a,c).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s,o=n.outputCalendar,c=void 0===o?"gregory":o;return Dt.create(i,a,c).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s;return Dt.create(i,a,null).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s;return Dt.create(i,a,null).weekdays(e,!0)},e.meridiems=function(e){var t=void 0===e?{}:e,n=t.locale,r=void 0===n?null:n;return Dt.create(r).meridiems()},e.eras=function(e,t){void 0===e&&(e="short");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r;return Dt.create(i,null,"gregory").eras(e)},e.features=function(){var e=!1,t=!1,n=!1,r=!1;if(ee()){e=!0,t=te(),r=ne();try{n="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(i){n=!1}}return{intl:e,intlTokens:t,zones:n,relative:r}},e}();function er(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=n(t)-n(e);return Math.floor(Yn.fromMillis(r).as("days"))}function tr(e,t,n){for(var r,i,s=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=er(e,t);return(n-n%7)/7}],["days",er]],a={},o=0,c=s;o<c.length;o++){var u=c[o],l=u[0],f=u[1];if(n.indexOf(l)>=0){var h;r=l;var d,p=f(e,t);if(i=e.plus((h={},h[l]=p,h)),i>t)e=e.plus((d={},d[l]=p-1,d)),p-=1;else e=i;a[l]=p}}return[e,a,i,r]}function nr(e,t,n,r){var i=tr(e,t,n),s=i[0],a=i[1],o=i[2],c=i[3],u=t-s,l=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));if(0===l.length){var f;if(o<t)o=s.plus((f={},f[c]=1,f));o!==s&&(a[c]=(a[c]||0)+u/(o-s))}var h,d=Yn.fromObject(Object.assign(a,r));return l.length>0?(h=Yn.fromMillis(u,r)).shiftTo.apply(h,l).plus(d):d}var rr={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},ir={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},sr=rr.hanidec.replace(/[\[|\]]/g,"").split("");function ar(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(-1!==e[n].search(rr.hanidec))t+=sr.indexOf(e[n]);else for(var i in ir){var s=ir[i],a=s[0],o=s[1];r>=a&&r<=o&&(t+=r-a)}}return parseInt(t,10)}return t}function or(e,t){var n=e.numberingSystem;return void 0===t&&(t=""),new RegExp(""+rr[n||"latn"]+t)}var cr="missing Intl.DateTimeFormat.formatToParts support";function ur(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var n=e[0];return t(ar(n))}}}var lr=String.fromCharCode(160),fr="( |"+lr+")",hr=new RegExp(fr,"g");function dr(e){return e.replace(/\./g,"\\.?").replace(hr,fr)}function pr(e){return e.replace(/\./g,"").replace(hr," ").toLowerCase()}function vr(e,t){return null===e?null:{regex:RegExp(e.map(dr).join("|")),deser:function(n){var r=n[0];return e.findIndex((function(e){return pr(r)===pr(e)}))+t}}}function mr(e,t){return{regex:e,deser:function(e){var t=e[1],n=e[2];return be(t,n)},groups:t}}function gr(e){return{regex:e,deser:function(e){var t=e[0];return t}}}function yr(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function wr(e,t){var n=or(t),r=or(t,"{2}"),i=or(t,"{3}"),s=or(t,"{4}"),a=or(t,"{6}"),o=or(t,"{1,2}"),c=or(t,"{1,3}"),u=or(t,"{1,6}"),l=or(t,"{1,9}"),f=or(t,"{2,4}"),h=or(t,"{4,6}"),d=function(e){return{regex:RegExp(yr(e.val)),deser:function(e){var t=e[0];return t},literal:!0}},p=function(p){if(e.literal)return d(p);switch(p.val){case"G":return vr(t.eras("short",!1),0);case"GG":return vr(t.eras("long",!1),0);case"y":return ur(u);case"yy":return ur(f,ye);case"yyyy":return ur(s);case"yyyyy":return ur(h);case"yyyyyy":return ur(a);case"M":return ur(o);case"MM":return ur(r);case"MMM":return vr(t.months("short",!0,!1),1);case"MMMM":return vr(t.months("long",!0,!1),1);case"L":return ur(o);case"LL":return ur(r);case"LLL":return vr(t.months("short",!1,!1),1);case"LLLL":return vr(t.months("long",!1,!1),1);case"d":return ur(o);case"dd":return ur(r);case"o":return ur(c);case"ooo":return ur(i);case"HH":return ur(r);case"H":return ur(o);case"hh":return ur(r);case"h":return ur(o);case"mm":return ur(r);case"m":return ur(o);case"q":return ur(o);case"qq":return ur(r);case"s":return ur(o);case"ss":return ur(r);case"S":return ur(c);case"SSS":return ur(i);case"u":return gr(l);case"a":return vr(t.meridiems(),0);case"kkkk":return ur(s);case"kk":return ur(f,ye);case"W":return ur(o);case"WW":return ur(r);case"E":case"c":return ur(n);case"EEE":return vr(t.weekdays("short",!1,!1),1);case"EEEE":return vr(t.weekdays("long",!1,!1),1);case"ccc":return vr(t.weekdays("short",!0,!1),1);case"cccc":return vr(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return mr(new RegExp("([+-]"+o.source+")(?::("+r.source+"))?"),2);case"ZZZ":return mr(new RegExp("([+-]"+o.source+")("+r.source+")?"),2);case"z":return gr(/[a-z_+-/]{1,256}?/i);default:return d(p)}},v=p(e)||{invalidReason:cr};return v.token=e,v}var br={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function xr(e,t,n){var r=e.type,i=e.value;if("literal"===r)return{literal:!0,val:i};var s=n[r],a=br[r];return"object"===typeof a&&(a=a[s]),a?{literal:!1,val:a}:void 0}function _r(e){var t=e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"");return["^"+t+"$",e]}function kr(e,t,n){var r=e.match(t);if(r){var i={},s=1;for(var a in n)if(ae(n,a)){var o=n[a],c=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+c))),s+=c}return[r,i]}return[r,{}]}function Cr(e){var t,n=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};t=J(e.Z)?J(e.z)?null:at.create(e.z):new ct(e.Z),J(e.q)||(e.M=3*(e.q-1)+1),J(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),J(e.u)||(e.S=fe(e.u));var r=Object.keys(e).reduce((function(t,r){var i=n(r);return i&&(t[i]=e[r]),t}),{});return[r,t]}var Sr=null;function Er(){return Sr||(Sr=hi.fromMillis(1555555555555)),Sr}function Or(e,t){if(e.literal)return e;var n=Ye.macroTokenToFormatOpts(e.val);if(!n)return e;var r=Ye.create(t,n),i=r.formatDateTimeParts(Er()),s=i.map((function(e){return xr(e,t,n)}));return s.includes(void 0)?e:s}function Tr(e,t){var n;return(n=Array.prototype).concat.apply(n,e.map((function(e){return Or(e,t)})))}function Mr(e,t,n){var r=Tr(Ye.parseFormat(n),e),i=r.map((function(t){return wr(t,e)})),s=i.find((function(e){return e.invalidReason}));if(s)return{input:t,tokens:r,invalidReason:s.invalidReason};var a=_r(i),o=a[0],c=a[1],u=RegExp(o,"i"),l=kr(t,u,c),f=l[0],h=l[1],d=h?Cr(h):[null,null],p=d[0],v=d[1];if(ae(h,"a")&&ae(h,"H"))throw new b("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:u,rawMatches:f,matches:h,result:p,zone:v}}function Ar(e,t,n){var r=Mr(e,t,n),i=r.result,s=r.zone,a=r.invalidReason;return[i,s,a]}var Rr=[0,31,59,90,120,151,181,212,243,273,304,334],Ur=[0,31,60,91,121,152,182,213,244,274,305,335];function Ir(e,t){return new Je("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function jr(e,t,n){var r=new Date(Date.UTC(e,t-1,n)).getUTCDay();return 0===r?7:r}function Dr(e,t,n){return n+(de(e)?Ur:Rr)[t-1]}function Pr(e,t){var n=de(e)?Ur:Rr,r=n.findIndex((function(e){return e<t})),i=t-n[r];return{month:r+1,day:i}}function Lr(e){var t,n=e.year,r=e.month,i=e.day,s=Dr(n,r,i),a=jr(n,r,i),o=Math.floor((s-a+10)/7);return o<1?(t=n-1,o=ge(t)):o>ge(n)?(t=n+1,o=1):t=n,Object.assign({weekYear:t,weekNumber:o,weekday:a},Ce(e))}function Nr(e){var t,n=e.weekYear,r=e.weekNumber,i=e.weekday,s=jr(n,1,4),a=pe(n),o=7*r+i-s-3;o<1?(t=n-1,o+=pe(t)):o>a?(t=n+1,o-=pe(n)):t=n;var c=Pr(t,o),u=c.month,l=c.day;return Object.assign({year:t,month:u,day:l},Ce(e))}function $r(e){var t=e.year,n=e.month,r=e.day,i=Dr(t,n,r);return Object.assign({year:t,ordinal:i},Ce(e))}function qr(e){var t=e.year,n=e.ordinal,r=Pr(t,n),i=r.month,s=r.day;return Object.assign({year:t,month:i,day:s},Ce(e))}function Fr(e){var t=Q(e.weekYear),n=oe(e.weekNumber,1,ge(e.weekYear)),r=oe(e.weekday,1,7);return t?n?!r&&Ir("weekday",e.weekday):Ir("week",e.week):Ir("weekYear",e.weekYear)}function Br(e){var t=Q(e.year),n=oe(e.ordinal,1,pe(e.year));return t?!n&&Ir("ordinal",e.ordinal):Ir("year",e.year)}function Vr(e){var t=Q(e.year),n=oe(e.month,1,12),r=oe(e.day,1,ve(e.year,e.month));return t?n?!r&&Ir("day",e.day):Ir("month",e.month):Ir("year",e.year)}function zr(e){var t=e.hour,n=e.minute,r=e.second,i=e.millisecond,s=oe(t,0,23)||24===t&&0===n&&0===r&&0===i,a=oe(n,0,59),o=oe(r,0,59),c=oe(i,0,999);return s?a?o?!c&&Ir("millisecond",i):Ir("second",r):Ir("minute",n):Ir("hour",t)}var Hr="Invalid DateTime",Zr=864e13;function Wr(e){return new Je("unsupported zone",'the zone "'+e.name+'" is not supported')}function Yr(e){return null===e.weekData&&(e.weekData=Lr(e.c)),e.weekData}function Jr(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new hi(Object.assign({},n,t,{old:n}))}function Gr(e,t,n){var r=e-60*t*1e3,i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;var s=n.offset(r);return i===s?[r,i]:[e-60*Math.min(i,s)*1e3,Math.max(i,s)]}function Qr(e,t){e+=60*t*1e3;var n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Kr(e,t,n){return Gr(me(e),t,n)}function Xr(e,t){var n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),s=Object.assign({},e.c,{year:r,month:i,day:Math.min(e.c.day,ve(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),a=Yn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=me(s),c=Gr(o,n,e.zone),u=c[0],l=c[1];return 0!==a&&(u+=a,l=e.zone.offset(u)),{ts:u,o:l}}function ei(e,t,n,r,i){var s=n.setZone,a=n.zone;if(e&&0!==Object.keys(e).length){var o=t||a,c=hi.fromObject(Object.assign(e,n,{zone:o,setZone:void 0}));return s?c:c.setZone(a)}return hi.invalid(new Je("unparsable",'the input "'+i+"\" can't be parsed as "+r))}function ti(e,t,n){return void 0===n&&(n=!0),e.isValid?Ye.create(Dt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function ni(e,t){var n=t.suppressSeconds,r=void 0!==n&&n,i=t.suppressMilliseconds,s=void 0!==i&&i,a=t.includeOffset,o=t.includePrefix,c=void 0!==o&&o,u=t.includeZone,l=void 0!==u&&u,f=t.spaceZone,h=void 0!==f&&f,d=t.format,p=void 0===d?"extended":d,v="basic"===p?"HHmm":"HH:mm";r&&0===e.second&&0===e.millisecond||(v+="basic"===p?"ss":":ss",s&&0===e.millisecond||(v+=".SSS")),(l||a)&&h&&(v+=" "),l?v+="z":a&&(v+="basic"===p?"ZZZ":"ZZ");var m=ti(e,v);return c&&(m="T"+m),m}var ri={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ii={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},si={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ai=["year","month","day","hour","minute","second","millisecond"],oi=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ci=["year","ordinal","hour","minute","second","millisecond"];function ui(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new x(e);return t}function li(e,t){for(var n,r=v(ai);!(n=r()).done;){var i=n.value;J(e[i])&&(e[i]=ri[i])}var s=Vr(e)||zr(e);if(s)return hi.invalid(s);var a=gt.now(),o=t.offset(a),c=Kr(e,o,t),u=c[0],l=c[1];return new hi({ts:u,zone:t,o:l})}function fi(e,t,n){var r=!!J(n.round)||n.round,i=function(e,i){e=he(e,r||n.calendary?0:2,!0);var s=t.loc.clone(n).relFormatter(n);return s.format(e,i)},s=function(r){return n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)};if(n.unit)return i(s(n.unit),n.unit);for(var a,o=v(n.units);!(a=o()).done;){var c=a.value,u=s(c);if(Math.abs(u)>=1)return i(u,c)}return i(0,n.units[n.units.length-1])}var hi=function(){function e(e){var t=e.zone||gt.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Je("invalid input"):null)||(t.isValid?null:Wr(t));this.ts=J(e.ts)?gt.now():e.ts;var r=null,i=null;if(!n){var s=e.old&&e.old.ts===this.ts&&e.old.zone.equals(t);if(s){var a=[e.old.c,e.old.o];r=a[0],i=a[1]}else{var o=t.offset(this.ts);r=Qr(this.ts,o),n=Number.isNaN(r.year)?new Je("invalid input"):null,r=n?null:r,i=n?null:o}}this._zone=t,this.loc=e.loc||Dt.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(t,n,r,i,s,a,o){return J(t)?new e({}):li({year:t,month:n,day:r,hour:i,minute:s,second:a,millisecond:o},gt.defaultZone)},e.utc=function(t,n,r,i,s,a,o){return J(t)?new e({ts:gt.now(),zone:ct.utcInstance}):li({year:t,month:n,day:r,hour:i,minute:s,second:a,millisecond:o},ct.utcInstance)},e.fromJSDate=function(t,n){void 0===n&&(n={});var r=X(t)?t.valueOf():NaN;if(Number.isNaN(r))return e.invalid("invalid input");var i=lt(n.zone,gt.defaultZone);return i.isValid?new e({ts:r,zone:i,loc:Dt.fromObject(n)}):e.invalid(Wr(i))},e.fromMillis=function(t,n){if(void 0===n&&(n={}),G(t))return t<-Zr||t>Zr?e.invalid("Timestamp out of range"):new e({ts:t,zone:lt(n.zone,gt.defaultZone),loc:Dt.fromObject(n)});throw new _("fromMillis requires a numerical input, but received a "+typeof t+" with value "+t)},e.fromSeconds=function(t,n){if(void 0===n&&(n={}),G(t))return new e({ts:1e3*t,zone:lt(n.zone,gt.defaultZone),loc:Dt.fromObject(n)});throw new _("fromSeconds requires a numerical input")},e.fromObject=function(t){var n=lt(t.zone,gt.defaultZone);if(!n.isValid)return e.invalid(Wr(n));var r=gt.now(),i=n.offset(r),s=_e(t,ui,["zone","locale","outputCalendar","numberingSystem"]),a=!J(s.ordinal),o=!J(s.year),c=!J(s.month)||!J(s.day),u=o||c,l=s.weekYear||s.weekNumber,f=Dt.fromObject(t);if((u||a)&&l)throw new b("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new b("Can't mix ordinal dates with month/day");var h,d,p=l||s.weekday&&!u,m=Qr(r,i);p?(h=oi,d=ii,m=Lr(m)):a?(h=ci,d=si,m=$r(m)):(h=ai,d=ri);for(var g,y=!1,w=v(h);!(g=w()).done;){var x=g.value,_=s[x];J(_)?s[x]=y?d[x]:m[x]:y=!0}var k=p?Fr(s):a?Br(s):Vr(s),C=k||zr(s);if(C)return e.invalid(C);var S=p?Nr(s):a?qr(s):s,E=Kr(S,i,n),O=E[0],T=E[1],M=new e({ts:O,zone:n,o:T,loc:f});return s.weekday&&u&&t.weekday!==M.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+s.weekday+" and a date of "+M.toISO()):M},e.fromISO=function(e,t){void 0===t&&(t={});var n=Sn(e),r=n[0],i=n[1];return ei(r,i,t,"ISO 8601",e)},e.fromRFC2822=function(e,t){void 0===t&&(t={});var n=En(e),r=n[0],i=n[1];return ei(r,i,t,"RFC 2822",e)},e.fromHTTP=function(e,t){void 0===t&&(t={});var n=On(e),r=n[0],i=n[1];return ei(r,i,t,"HTTP",t)},e.fromFormat=function(t,n,r){if(void 0===r&&(r={}),J(t)||J(n))throw new _("fromFormat requires an input string and a format");var i=r,s=i.locale,a=void 0===s?null:s,o=i.numberingSystem,c=void 0===o?null:o,u=Dt.fromOpts({locale:a,numberingSystem:c,defaultToEN:!0}),l=Ar(u,t,n),f=l[0],h=l[1],d=l[2];return d?e.invalid(d):ei(f,h,r,"format "+n,t)},e.fromString=function(t,n,r){return void 0===r&&(r={}),e.fromFormat(t,n,r)},e.fromSQL=function(e,t){void 0===t&&(t={});var n=Dn(e),r=n[0],i=n[1];return ei(r,i,t,"SQL",e)},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new _("need to specify a reason the DateTime is invalid");var r=t instanceof Je?t:new Je(t,n);if(gt.throwOnInvalid)throw new g(r);return new e({invalid:r})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1};var t=e.prototype;return t.get=function(e){return this[e]},t.resolvedLocaleOpts=function(e){void 0===e&&(e={});var t=Ye.create(this.loc.clone(e),e).resolvedOptions(this),n=t.locale,r=t.numberingSystem,i=t.calendar;return{locale:n,numberingSystem:r,outputCalendar:i}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(ct.instance(e),t)},t.toLocal=function(){return this.setZone(gt.defaultZone)},t.setZone=function(t,n){var r=void 0===n?{}:n,i=r.keepLocalTime,s=void 0!==i&&i,a=r.keepCalendarTime,o=void 0!==a&&a;if(t=lt(t,gt.defaultZone),t.equals(this.zone))return this;if(t.isValid){var c=this.ts;if(s||o){var u=t.offset(this.ts),l=this.toObject(),f=Kr(l,u,t);c=f[0]}return Jr(this,{ts:c,zone:t})}return e.invalid(Wr(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,i=t.outputCalendar,s=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:i});return Jr(this,{loc:s})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this;var t,n=_e(e,ui,[]),r=!J(n.weekYear)||!J(n.weekNumber)||!J(n.weekday);r?t=Nr(Object.assign(Lr(this.c),n)):J(n.ordinal)?(t=Object.assign(this.toObject(),n),J(n.day)&&(t.day=Math.min(ve(t.year,t.month),t.day))):t=qr(Object.assign($r(this.c),n));var i=Kr(t,this.o,this.zone),s=i[0],a=i[1];return Jr(this,{ts:s,o:a})},t.plus=function(e){if(!this.isValid)return this;var t=Jn(e);return Jr(this,Xr(this,t))},t.minus=function(e){if(!this.isValid)return this;var t=Jn(e).negate();return Jr(this,Xr(this,t))},t.startOf=function(e){if(!this.isValid)return this;var t={},n=Yn.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if("weeks"===n&&(t.weekday=1),"quarters"===n){var r=Math.ceil(this.month/3);t.month=3*(r-1)+1}return this.set(t)},t.endOf=function(e){var t;return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?Ye.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Hr},t.toLocaleString=function(e){return void 0===e&&(e=O),this.isValid?Ye.create(this.loc.clone(e),e).formatDateTime(this):Hr},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?Ye.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){return void 0===e&&(e={}),this.isValid?this.toISODate(e)+"T"+this.toISOTime(e):null},t.toISODate=function(e){var t=void 0===e?{}:e,n=t.format,r=void 0===n?"extended":n,i="basic"===r?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(i="+"+i),ti(this,i)},t.toISOWeekDate=function(){return ti(this,"kkkk-'W'WW-c")},t.toISOTime=function(e){var t=void 0===e?{}:e,n=t.suppressMilliseconds,r=void 0!==n&&n,i=t.suppressSeconds,s=void 0!==i&&i,a=t.includeOffset,o=void 0===a||a,c=t.includePrefix,u=void 0!==c&&c,l=t.format,f=void 0===l?"extended":l;return ni(this,{suppressSeconds:s,suppressMilliseconds:r,includeOffset:o,includePrefix:u,format:f})},t.toRFC2822=function(){return ti(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return ti(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return ti(this,"yyyy-MM-dd")},t.toSQLTime=function(e){var t=void 0===e?{}:e,n=t.includeOffset,r=void 0===n||n,i=t.includeZone,s=void 0!==i&&i;return ni(this,{includeOffset:r,includeZone:s,spaceZone:!0})},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():Hr},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=Object.assign({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,n){if(void 0===t&&(t="milliseconds"),void 0===n&&(n={}),!this.isValid||!e.isValid)return Yn.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");var r=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},n),i=re(t).map(Yn.normalizeUnit),s=e.valueOf()>this.valueOf(),a=s?this:e,o=s?e:this,c=nr(a,o,i,r);return s?c.negate():c},t.diffNow=function(t,n){return void 0===t&&(t="milliseconds"),void 0===n&&(n={}),this.diff(e.now(),t,n)},t.until=function(e){return this.isValid?Kn.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1;var n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var n=t.base||e.fromObject({zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;return fi(n,this.plus(r),Object.assign(t,{numeric:"always",units:["years","months","days","hours","minutes","seconds"]}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?fi(t.base||e.fromObject({zone:this.zone}),this,Object.assign(t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new _("min requires all arguments be DateTimes");return ie(n,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new _("max requires all arguments be DateTimes");return ie(n,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,n){void 0===n&&(n={});var r=n,i=r.locale,s=void 0===i?null:i,a=r.numberingSystem,o=void 0===a?null:a,c=Dt.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});return Mr(c,e,t)},e.fromStringExplain=function(t,n,r){return void 0===r&&(r={}),e.fromFormatExplain(t,n,r)},i(e,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Yr(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Yr(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Yr(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?$r(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Xn.months("short",{locale:this.locale})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Xn.months("long",{locale:this.locale})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Xn.weekdays("short",{locale:this.locale})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Xn.weekdays("long",{locale:this.locale})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return de(this.year)}},{key:"daysInMonth",get:function(){return ve(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?pe(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?ge(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return O}},{key:"DATE_MED",get:function(){return T}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return M}},{key:"DATE_FULL",get:function(){return A}},{key:"DATE_HUGE",get:function(){return R}},{key:"TIME_SIMPLE",get:function(){return U}},{key:"TIME_WITH_SECONDS",get:function(){return I}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return j}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return D}},{key:"TIME_24_SIMPLE",get:function(){return P}},{key:"TIME_24_WITH_SECONDS",get:function(){return L}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return N}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return $}},{key:"DATETIME_SHORT",get:function(){return q}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return F}},{key:"DATETIME_MED",get:function(){return B}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return V}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return z}},{key:"DATETIME_FULL",get:function(){return H}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Z}},{key:"DATETIME_HUGE",get:function(){return W}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Y}}]),e}();function di(e){if(hi.isDateTime(e))return e;if(e&&e.valueOf&&G(e.valueOf()))return hi.fromJSDate(e);if(e&&"object"===typeof e)return hi.fromObject(e);throw new _("Unknown datetime argument: "+e+", of type "+typeof e)}var pi="1.26.0";t.DateTime=hi,t.Duration=Yn,t.FixedOffsetZone=ct,t.IANAZone=at,t.Info=Xn,t.Interval=Kn,t.InvalidZone=ut,t.LocalZone=Ke,t.Settings=gt,t.VERSION=pi,t.Zone=Ge},"13d5":function(e,t,n){"use strict";var r=n("23e7"),i=n("d58f").left,s=n("a640"),a=n("2d00"),o=n("605d"),c=s("reduce"),u=!o&&a>79&&a<83;r({target:"Array",proto:!0,forced:!c||u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var s=n.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),s=n("17c2"),a=n("9112");for(var o in i){var c=r[o],u=c&&c.prototype;if(u&&u.forEach!==s)try{a(u,"forEach",s)}catch(l){u.forEach=s}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),s=i("forEach");e.exports=s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),s=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){s=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),s=n("2d00"),a=i("species");e.exports=function(e){return s>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fb5":function(e,t,n){"use strict";t.byteLength=l,t.toByteArray=h,t.fromByteArray=v;for(var r=[],i=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=a.length;o<c;++o)r[o]=a[o],i[a.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function l(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function f(e,t,n){return 3*(t+n)/4-n}function h(e){var t,n,r=u(e),a=r[0],o=r[1],c=new s(f(e,a,o)),l=0,h=o>0?a-4:a;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===o&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===o&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(d(r));return i.join("")}function v(e){for(var t,n=e.length,i=n%3,s=[],a=16383,o=0,c=n-i;o<c;o+=a)s.push(p(e,o,o+a>c?c:o+a));return 1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2236:function(e,t,n){var r=n("5a43");function i(e){if(Array.isArray(e))return r(e)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),s=n("50c4"),a=n("0366"),o=n("35a1"),c=n("2a62"),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,f,h,d,p,v,m,g=n&&n.that,y=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),x=a(t,g,1+y+b),_=function(e){return l&&c(l),new u(!0,e)},k=function(e){return y?(r(e),b?x(e[0],e[1],_):x(e[0],e[1])):b?x(e,_):x(e)};if(w)l=e;else{if(f=o(e),"function"!=typeof f)throw TypeError("Target is not iterable");if(i(f)){for(h=0,d=s(e.length);d>h;h++)if(p=k(e[h]),p&&p instanceof u)return p;return new u(!1)}l=f.call(e)}v=l.next;while(!(m=v.call(l)).done){try{p=k(m.value)}catch(C){throw c(l),C}if("object"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,s=n("9112"),a=n("6eeb"),o=n("ce4e"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,f,h,d,p,v=e.target,m=e.global,g=e.stat;if(l=m?r:g?r[v]||o(v,{}):(r[v]||{}).prototype,l)for(f in t){if(d=t[f],e.noTargetGet?(p=i(l,f),h=p&&p.value):h=l[f],n=u(m?f:v+(g?".":"#")+f,e.forced),!n&&void 0!==h){if(typeof d===typeof h)continue;c(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),a(l,f,d,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),s=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},2444:function(e,t,n){"use strict";(function(t){var r=n("c532"),i=n("c8af"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function o(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("b50d")),e}var c={adapter:o(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c}).call(this,n("4362"))},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),s=n("1d80"),a=n("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(s(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),i=n("825a"),s=n("d039"),a=n("ad6d"),o="toString",c=RegExp.prototype,u=c[o],l=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=o;(l||f)&&r(RegExp.prototype,o,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),s=n("b622"),a=n("83ab"),o=s("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},"278c":function(e,t,n){var r=n("c135"),i=n("9b42"),s=n("6613"),a=n("c240");function o(e,t){return r(e)||i(e,t)||s(e,t)||a()}e.exports=o,e.exports["default"]=e.exports,e.exports.__esModule=!0},"29d8":function(e,t,n){},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2cf4":function(e,t,n){var r,i,s,a=n("da84"),o=n("d039"),c=n("0366"),u=n("1be4"),l=n("cc12"),f=n("1cdc"),h=n("605d"),d=a.location,p=a.setImmediate,v=a.clearImmediate,m=a.process,g=a.MessageChannel,y=a.Dispatch,w=0,b={},x="onreadystatechange",_=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},k=function(e){return function(){_(e)}},C=function(e){_(e.data)},S=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};p&&v||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++w]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(w),w},v=function(e){delete b[e]},h?r=function(e){m.nextTick(k(e))}:y&&y.now?r=function(e){y.now(k(e))}:g&&!f?(i=new g,s=i.port2,i.port1.onmessage=C,r=c(s.postMessage,s,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&d&&"file:"!==d.protocol&&!o(S)?(r=S,a.addEventListener("message",C,!1)):r=x in l("script")?function(e){u.appendChild(l("script"))[x]=function(){u.removeChild(this),_(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:p,clear:v}},"2d00":function(e,t,n){var r,i,s=n("da84"),a=n("342f"),o=s.process,c=o&&o.versions,u=c&&c.v8;u?(r=u.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"2d83":function(e,t,n){"use strict";var r=n("387f");e.exports=function(e,t,n,i,s){var a=new Error(e);return r(a,t,n,i,s)}},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"30b5":function(e,t,n){"use strict";var r=n("c532");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),s=a.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),s=n("b622"),a=s("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},"36c4":function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return Pe}));var i=n("1fb5"),s=n("a559"),a=n.n(s),o=n("7037"),c=n.n(o),u=n("4082"),l=n.n(u),f=n("448a"),h=n.n(f),d=n("a34a"),p=n.n(d),v=n("c973"),m=n.n(v),g=n("970b"),y=n.n(g),w=n("5bc3"),b=n.n(w),x=n("9523"),_=n.n(x),k=n("bc3a"),C=n.n(k),S=n("ff91"),E=n.n(S),O=n("278c"),T=n.n(O),M=n("e556"),A=n.n(M),R=n("3fe3"),U=n.n(R);function I(e){return"string"===typeof e}function j(e,t){return t&&I(e)}function D(e,t){var n=[];if(I(e)&&j(e,t)){for(var r=0,i=e.length;r<i;r++)if(e.charAt(r)){var s=e.charAt(r),a=t(s,r,e);n[r]=a}}else if(!I(e)&&!j(e,t))for(var o=0,c=e.length;o<c;o++)if(o in e){var u=e[o],l=t(u,o,e);n[o]=l}return n}var P=function(e){return Object(i["fromByteArray"])(new Uint8Array(D(e,(function(e){return e.charCodeAt(0)}))))},L=function(e){var t,n,r,i,s={},a=String.fromCharCode,o=e.length,c=0,u=0,l="",f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0;t<64;t++)s[f.charAt(t)]=t;for(r=0;r<o;r++){n=s[e.charAt(r)],c=(c<<6)+n,u+=6;while(u>=8)((i=c>>>(u-=8)&255)||r<o-2)&&(l+=a(i))}return l},N=null;function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(){function e(t){var n,r=this;y()(this,e),_()(this,"_channel",void 0),_()(this,"watcher_count",void 0),_()(this,"typing",void 0),_()(this,"read",void 0),_()(this,"messages",void 0),_()(this,"pinnedMessages",void 0),_()(this,"threads",void 0),_()(this,"mutedUsers",void 0),_()(this,"watchers",void 0),_()(this,"members",void 0),_()(this,"unreadCount",void 0),_()(this,"membership",void 0),_()(this,"last_message_at",void 0),_()(this,"isUpToDate",void 0),_()(this,"setIsUpToDate",(function(e){r.isUpToDate=e})),_()(this,"removeMessageFromArray",(function(e,t){var n=e.filter((function(e){return!(e.id&&t.id&&e.id===t.id)}));return{removed:n.length<e.length,result:n}})),this._channel=t,this.watcher_count=0,this.typing=E()({}),this.read=E()({}),this.messages=E()([]),this.pinnedMessages=E()([]),this.threads=E()({}),this.mutedUsers=E()([]),this.watchers=E()({}),this.members=E()({}),this.membership=E()({}),this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=null!=(null===t||void 0===t||null===(n=t.state)||void 0===n?void 0:n.last_message_at)?new Date(t.state.last_message_at):null}return b()(e,[{key:"addMessageSorted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.addMessagesSorted([e],t)}},{key:"messageToImmutable",value:function(e){return E()(q(q({},e),{},{__html:e.html,pinned_at:e.pinned_at?new Date(e.pinned_at):null,created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date,status:e.status||"received"}))}},{key:"addMessagesSorted",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r+=1){var i=this.messageToImmutable(e[r]);n&&i.id&&this.threads[i.id]&&(this.threads=this.threads.without(i.id)),this.last_message_at||(this.last_message_at=new Date(i.created_at.getTime())),i.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(i.created_at.getTime()));var s=i.parent_id;if(s&&!i.show_in_channel||(this.messages=this._addToMessageList(this.messages,i,t)),s){var a=this.threads[s]||E()([]),o=this._addToMessageList(a,i,t);this.threads=this.threads.set(s,o)}}}},{key:"addPinnedMessages",value:function(e){for(var t=0;t<e.length;t+=1)this.addPinnedMessage(e[t])}},{key:"addPinnedMessage",value:function(e){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.messageToImmutable(e),!1,"pinned_at")}},{key:"removePinnedMessage",value:function(e){var t=this.removeMessageFromArray(this.pinnedMessages,e),n=t.result;this.pinnedMessages=n}},{key:"addReaction",value:function(e,t,n){var r=this.messages;if(t){var i=t.parent_id,s=t.show_in_channel;if(i&&this.threads[i])for(var a=this.threads[i],o=0;o<a.length;o++){var c=a[o],u=this._addReactionToMessage(c,e,n);if(u){this.threads=this.threads.set(i,a.set(o,u));break}}if(!s&&!i||s)for(var l=0;l<r.length;l++){var f=r[l],h=this._addReactionToMessage(f,e,n);if(h){this.messages=r.set(l,h);break}}}}},{key:"_addReactionToMessage",value:function(e,t,n){var r,i=!!e.id&&e.id===t.message_id;if(!i)return!1;var s=this._removeReactionFromMessage(e,t,n);return this._channel.getClient().userID===(null===(r=t.user)||void 0===r?void 0:r.id)&&(s=s.update("own_reactions",(function(e){return e.concat([t])}))),s=s.update("latest_reactions",(function(e){return e.concat([t])})),s=s.updateIn(["reaction_counts",t.type],(function(e){return e?e+1:1})),s}},{key:"_removeReactionFromMessage",value:function(e,t,n){var r=function(e){return e.filter((function(e){var r,i,s,a;return n?(null===(r=e.user)||void 0===r?void 0:r.id)!==(null===(i=t.user)||void 0===i?void 0:i.id):e.type!==t.type||(null===(s=e.user)||void 0===s?void 0:s.id)!==(null===(a=t.user)||void 0===a?void 0:a.id)}))},i=e.update("own_reactions",r);if(i=i.update("latest_reactions",r),n){var s,a=null===(s=e.own_reactions)||void 0===s?void 0:s.find((function(e){var n=e.type;return n===t.type}));a&&(i=i.updateIn(["reaction_counts",a.type],(function(e){return e?e-1:0})))}return i}},{key:"removeReaction",value:function(e,t){var n=this.messages;if(t){var r=t.parent_id,i=t.show_in_channel;if(r&&this.threads[r])for(var s=this.threads[r],a=0;a<s.length;a++){var o=s[a],c=!!o.id&&o.id===e.message_id;if(c){var u=this._removeReactionFromMessage(o,e);u=u.updateIn(["reaction_counts",e.type],(function(e){return e?e-1:0})),this.threads=this.threads.set(r,s.set(a,u));break}}if(!i&&!r||i)for(var l=0;l<n.length;l++){var f=n[l],h=!!f.id&&f.id===e.message_id;if(h){var d=this._removeReactionFromMessage(f,e);d=d.updateIn(["reaction_counts",e.type],(function(e){return e?e-1:0})),this.messages=n.set(l,d);break}}}}},{key:"_addToMessageList",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"created_at",i=e;if(n&&(i=i.filter((function(e){return!(e.id&&t.id===e.id)}))),0===i.length)return i.concat(t);var s=t[r].getTime();if(i[i.length-1][r].getTime()<s)return i.concat(t);var a=0,o=0,c=i.length-1;while(a<=c)o=Math.floor((c+a)/2),i[o][r].getTime()<=s?a=o+1:c=o-1;if(!n&&t.id){if(i[a]&&t.id===i[a].id)return i.set(a,t);if(i[a-1]&&t.id===i[a-1].id)return i.set(a-1,t)}var u=i.asMutable();return u.splice(a,0,t),E()(u)}},{key:"removeMessage",value:function(e){var t=!1;if(e.parent_id&&this.threads[e.parent_id]){var n=this.removeMessageFromArray(this.threads[e.parent_id],e),r=n.removed,i=n.result;this.threads=this.threads[e.parent_id].set(e.parent_id,i),t=r}else{var s=this.removeMessageFromArray(this.messages,e),a=s.removed,o=s.result;this.messages=o,t=a}return t}},{key:"filterErrorMessages",value:function(){var e=this.messages.filter((function(e){return"error"!==e.type}));this.messages=e}},{key:"clean",value:function(){for(var e=new Date,t=0,n=Object.entries(this.typing);t<n.length;t++){var r=T()(n[t],2),i=r[0],s=r[1],a="string"===typeof s.received_at&&e.getTime()-new Date(s.received_at).getTime();a>7e3&&(this.typing=this.typing.without(i),this._channel.getClient().dispatchEvent({type:"typing.stop",user:{id:i},cid:this._channel.cid}))}}},{key:"clearMessages",value:function(){this.messages=E()([])}}]),e}();function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={"channel.created":!0,"channel.deleted":!0,"channel.hidden":!0,"channel.muted":!0,"channel.truncated":!0,"channel.unmuted":!0,"channel.updated":!0,"channel.visible":!0,"health.check":!0,"member.added":!0,"member.removed":!0,"member.updated":!0,"message.deleted":!0,"message.new":!0,"message.read":!0,"message.updated":!0,"notification.added_to_channel":!0,"notification.channel_deleted":!0,"notification.channel_mutes_updated":!0,"notification.channel_truncated":!0,"notification.invite_accepted":!0,"notification.invite_rejected":!0,"notification.invited":!0,"notification.mark_read":!0,"notification.message_new":!0,"notification.mutes_updated":!0,"notification.removed_from_channel":!0,"reaction.deleted":!0,"reaction.new":!0,"reaction.updated":!0,"typing.start":!0,"typing.stop":!0,"user.banned":!0,"user.deleted":!0,"user.presence.changed":!0,"user.unbanned":!0,"user.updated":!0,"user.watching.start":!0,"user.watching.stop":!0,"connection.changed":!0,"connection.recovered":!0},H=V(V({},z),{},{all:!0}),Z=function(e){return H[e]||!1};function W(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Y(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function Y(e,t){if(e){if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){e.then().catch((function(e){console.warn("failed to do ".concat(t,", ran into error: "),e)}))}var Q=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function K(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"===typeof e||e instanceof Function)}var X={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function ee(e){return null!==e&&"object"===c()(e)&&(e.readable||"function"===typeof e._read)}function te(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function ne(e){return"undefined"!==typeof window&&"File"in window&&e instanceof File}function re(e,t,n){var r=new A.a;return ee(e)||te(e)||ne(e)?t?r.append("file",e,t):r.append("file",e):r.append("file",{uri:e,name:t||e.split("/").reverse()[0],contentType:n||void 0,type:n||void 0}),r}function ie(e){var t,n=[],r=Array.isArray(e)?e:[e],i=W(r);try{for(i.s();!(t=i.n()).done;){var s=t.value,a=Object.entries(s);a.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(var o=0,c=a;o<c.length;o++){var u=T()(c[o],2),l=u[0],f=u[1];n.push({field:l,direction:f})}}}catch(h){i.e(h)}finally{i.f()}return n}var se="ModuleSymbhasOwnPr0123456789ABCDEFGHNRVfgctiUvzKqYTJkLxpZXIjQW";function ae(){for(var e="",t=0;t<21;t++)e+=se[64*Math.random()|0];return e}function oe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ce(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function ce(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(){function e(t,n,r,i){var s=this;y()(this,e),_()(this,"_client",void 0),_()(this,"type",void 0),_()(this,"id",void 0),_()(this,"data",void 0),_()(this,"_data",void 0),_()(this,"cid",void 0),_()(this,"listeners",void 0),_()(this,"state",void 0),_()(this,"initialized",void 0),_()(this,"lastKeyStroke",void 0),_()(this,"lastTypingEvent",void 0),_()(this,"isTyping",void 0),_()(this,"disconnected",void 0),_()(this,"create",m()(p.a.mark((function e(){var t;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={watch:!1,state:!1,presence:!1},e.next=3,s.query(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),_()(this,"_callChannelListeners",(function(e){var t=s,n=[];t.listeners.all&&n.push.apply(n,h()(t.listeners.all)),t.listeners[e.type]&&n.push.apply(n,h()(t.listeners[e.type]));for(var r=0,i=n;r<i.length;r++){var a=i[r];"string"!==typeof a&&a(e)}})),_()(this,"_channelURL",(function(){if(!s.id)throw new Error("channel id is not defined");return"".concat(s.getClient().baseURL,"/channels/").concat(s.type,"/").concat(s.id)}));var a=/^[\w_-]+$/,o=/^[\w!_-]+$/;if(!a.test(n))throw new Error("Invalid chat type ".concat(n,', letters, numbers and "_-" are allowed'));if("string"===typeof r&&!o.test(r))throw new Error("Invalid chat id ".concat(r,', letters, numbers and "!-_" are allowed'));this._client=t,this.type=n,this.id=r,this.data=i,this._data=fe({},i),this.cid="".concat(n,":").concat(r),this.listeners={},this.state=new F(this),this.initialized=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1}return b()(e,[{key:"getClient",value:function(){if(!0===this.disconnected)throw Error("You can't use a channel after client.disconnect() was called");return this._client}},{key:"getConfig",value:function(){var e=this.getClient();return e.configs[this.type]}},{key:"sendMessage",value:function(){var e=m()(p.a.mark((function e(t){var n;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/message",{message:t});case 2:return n=e.sent,this.state.unreadCount=0,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendFile",value:function(e,t,n,r){return this.getClient().sendFile("".concat(this._channelURL(),"/file"),e,t,n,r)}},{key:"sendImage",value:function(e,t,n,r){return this.getClient().sendFile("".concat(this._channelURL(),"/image"),e,t,n,r)}},{key:"deleteFile",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/file"),{url:e})}},{key:"deleteImage",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/image"),{url:e})}},{key:"sendEvent",value:function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().post(this._channelURL()+"/event",{event:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"search",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},r=fe({filter_conditions:{cid:this.cid}},n),"string"!==typeof t){e.next=6;break}r.query=t,e.next=11;break;case 6:if("object"!==c()(t)){e.next=10;break}r.message_filter_conditions=t,e.next=11;break;case 10:throw Error("Invalid type ".concat(c()(t)," for query parameter"));case 11:return e.next=13,this.getClient().wsPromise;case 13:return e.next=15,this.getClient().get(this.getClient().baseURL+"/search",{payload:r});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"queryMembers",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i,s,a,o,c=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:[],i=c.length>2&&void 0!==c[2]?c[2]:{},a=this.type,this.id?s=this.id:null!==(n=this.data)&&void 0!==n&&n.members&&Array.isArray(this.data.members)&&(o=this.data.members),e.next=6,this.getClient().get(this.getClient().baseURL+"/members",{payload:fe({type:a,id:s,members:o,sort:ie(r),filter_conditions:t},i)});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendReaction",value:function(){var e=m()(p.a.mark((function e(t,n,r,i){var s;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Message id is missing");case 2:if(n&&0!==Object.keys(n).length){e.next=4;break}throw Error("Reaction object is missing");case 4:return s={reaction:n,enforce_unique:i},null!=r&&(s.reaction=fe(fe({},n),{},{user:{id:r}})),e.next=8,this.getClient().post(this.getClient().baseURL+"/messages/".concat(t,"/reaction"),s);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"deleteReaction",value:function(e,t,n){if(this._checkInitialized(),!t||!e)throw Error("Deleting a reaction requires specifying both the message and reaction type");var r=this.getClient().baseURL+"/messages/".concat(e,"/reaction/").concat(t);return n?this.getClient().delete(r,{user_id:n}):this.getClient().delete(r,{})}},{key:"update",value:function(){var e=m()(p.a.mark((function e(){var t,n,r,i,s=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1?s[1]:void 0,r=["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at"],r.forEach((function(e){delete t[e]})),e.next=6,this.getClient().post(this._channelURL(),{message:n,data:t});case 6:return i=e.sent,this.data=i.channel,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updatePartial",value:function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().patch(this._channelURL(),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"enableSlowMode",value:function(){var e=m()(p.a.mark((function e(t){var n;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{cooldown:t});case 2:return n=e.sent,this.data=n.channel,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"disableSlowMode",value:function(){var e=m()(p.a.mark((function e(){var t;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{cooldown:0});case 2:return t=e.sent,this.data=t.channel,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=m()(p.a.mark((function e(){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().delete(this._channelURL(),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"truncate",value:function(){var e=m()(p.a.mark((function e(){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/truncate",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"acceptInvite",value:function(){var e=m()(p.a.mark((function e(){var t,n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,this.getClient().post(this._channelURL(),fe({accept_invite:!0},t));case 3:return n=e.sent,this.data=n.channel,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"rejectInvite",value:function(){var e=m()(p.a.mark((function e(){var t,n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,this.getClient().post(this._channelURL(),fe({reject_invite:!0},t));case 3:return n=e.sent,this.data=n.channel,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addMembers",value:function(){var e=m()(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{add_members:t,message:n});case 2:return r=e.sent,this.data=r.channel,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"addModerators",value:function(){var e=m()(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{add_moderators:t,message:n});case 2:return r=e.sent,this.data=r.channel,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"inviteMembers",value:function(){var e=m()(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{invites:t,message:n});case 2:return r=e.sent,this.data=r.channel,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"removeMembers",value:function(){var e=m()(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{remove_members:t,message:n});case 2:return r=e.sent,this.data=r.channel,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"demoteModerators",value:function(){var e=m()(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{demote_moderators:t,message:n});case 2:return r=e.sent,this.data=r.channel,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"mute",value:function(){var e=m()(p.a.mark((function e(){var t,n=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",fe({channel_cid:this.cid},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"unmute",value:function(){var e=m()(p.a.mark((function e(){var t,n=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",fe({channel_cid:this.cid},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"muteStatus",value:function(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}},{key:"sendAction",value:function(e,t){if(this._checkInitialized(),!e)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+"/messages/".concat(e,"/action"),{message_id:e,form_data:t,id:this.id,type:this.type})}},{key:"keystroke",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==(n=this.getConfig())&&void 0!==n&&n.typing_events){e.next=2;break}return e.abrupt("return");case 2:if(r=new Date,i=this.lastTypingEvent&&r.getTime()-this.lastTypingEvent.getTime(),this.lastKeyStroke=r,this.isTyping=!0,!(null===i||i>2e3)){e.next=10;break}return this.lastTypingEvent=new Date,e.next=10,this.sendEvent({type:"typing.start",parent_id:t});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopTyping",value:function(){var e=m()(p.a.mark((function e(t){var n;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==(n=this.getConfig())&&void 0!==n&&n.typing_events){e.next=2;break}return e.abrupt("return");case 2:return this.lastTypingEvent=null,this.isTyping=!1,e.next=6,this.sendEvent({type:"typing.stop",parent_id:t});case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"lastMessage",value:function(){var e=this.state.messages.length-5;e<0&&(e=0);var t,n=this.state.messages.length+1,r=this.state.messages.slice(e,n).asMutable();return r.sort((function(e,t){return t.created_at.getTime()-e.created_at.getTime()})),r.length>0&&(t=r[0]),t}},{key:"markRead",value:function(){var e=m()(p.a.mark((function e(){var t,n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:{},this._checkInitialized(),null!==(t=this.getConfig())&&void 0!==t&&t.read_events){e.next=4;break}return e.abrupt("return",Promise.resolve(null));case 4:return e.next=6,this.getClient().post(this._channelURL()+"/read",fe({},n));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clean",value:function(){if(this.lastKeyStroke){var e=new Date,t=e.getTime()-this.lastKeyStroke.getTime();t>1e3&&this.isTyping&&G(this.stopTyping(),"stop typing event")}this.state.clean()}},{key:"watch",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={state:!0,watch:!0,presence:!1},e.next=3,this.getClient().wsPromise;case 3:return this.getClient()._hasConnectionID()||(n.watch=!1),r=fe(fe({},n),t),e.next=7,this.query(r);case 7:return i=e.sent,this.initialized=!0,this.data=i.channel,this._client.logger("info","channel:watch() - started watching channel ".concat(this.cid),{tags:["channel"],channel:this}),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopWatching",value:function(){var e=m()(p.a.mark((function e(){var t;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/stop-watching",{});case 2:return t=e.sent,this._client.logger("info","channel:watch() - stopped watching channel ".concat(this.cid),{tags:["channel"],channel:this}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getReplies",value:function(){var e=m()(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().get(this.getClient().baseURL+"/messages/".concat(t,"/replies"),fe({},n));case 2:return r=e.sent,r.messages&&this.state.addMessagesSorted(r.messages),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getReactions",value:function(e,t){return this.getClient().get(this.getClient().baseURL+"/messages/".concat(e,"/reactions"),fe({},t))}},{key:"getMessagesById",value:function(e){return this.getClient().get(this._channelURL()+"/messages",{ids:e.join(",")})}},{key:"lastRead",value:function(){this._checkInitialized();var e=this.getClient(),t=e.userID;if(t)return this.state.read[t]?this.state.read[t].last_read:null}},{key:"_countMessageAsUnread",value:function(e){var t,n;return!e.shadowed&&(!e.silent&&((null===(t=e.user)||void 0===t?void 0:t.id)!==this.getClient().userID&&(null===(n=e.user)||void 0===n||!n.id||!this.getClient().userMuteStatus(e.user.id))))}},{key:"countUnread",value:function(e){if(!e)return this.state.unreadCount;for(var t=0,n=0;n<this.state.messages.length;n+=1){var r=this.state.messages[n];r.created_at>e&&this._countMessageAsUnread(r)&&t++}return t}},{key:"countUnreadMentions",value:function(){for(var e=this.lastRead(),t=this.getClient().userID,n=0,r=0;r<this.state.messages.length;r+=1){var i,s=this.state.messages[r];this._countMessageAsUnread(s)&&(!e||s.created_at>e)&&null!==(i=s.mentioned_users)&&void 0!==i&&i.find((function(e){return e.id===t}))&&n++}return n}},{key:"query",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i,s,a;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().wsPromise;case 2:return n="".concat(this.getClient().baseURL,"/channels/").concat(this.type),this.id&&(n+="/".concat(this.id)),e.next=6,this.getClient().post(n+"/query",fe({data:this._data,state:!0},t));case 6:return r=e.sent,this.id||(this.id=r.channel.id,this.cid=r.channel.cid,s=null===(i=r.members.map((function(e){return e.user_id})))||void 0===i?void 0:i.sort().join(","),a="".concat(this.type,":!members-").concat(s),a in this.getClient().activeChannels&&delete this.getClient().activeChannels[a],this.cid in this.getClient().activeChannels||(this.getClient().activeChannels[this.cid]=this)),this.getClient()._addChannelConfig(r),this._initializeState(r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"banUser",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().banUser(t,fe(fe({},n),{},{type:this.type,id:this.id}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"hide",value:function(){var e=m()(p.a.mark((function e(){var t,n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,n=r.length>1&&void 0!==r[1]&&r[1],this._checkInitialized(),e.next=5,this.getClient().post("".concat(this._channelURL(),"/hide"),{user_id:t,clear_history:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"show",value:function(){var e=m()(p.a.mark((function e(){var t,n=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,this._checkInitialized(),e.next=4,this.getClient().post("".concat(this._channelURL(),"/show"),{user_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"unbanUser",value:function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().unbanUser(t,{type:this.type,id:this.id});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"shadowBan",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().shadowBan(t,fe(fe({},n),{},{type:this.type,id:this.id}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"removeShadowBan",value:function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().removeShadowBan(t,{type:this.type,id:this.id});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"on",value:function(e,t){var n=t?e:"all",r=Z(n);if(!r)throw Error("Invalid event type ".concat(n));var i=t||e;n in this.listeners||(this.listeners[n]=[]),this._client.logger("info","Attaching listener for ".concat(n," event on channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[n].push(i)}},{key:"off",value:function(e,t){var n=t?e:"all",r=Z(n);if(!r)throw Error("Invalid event type ".concat(n));var i=t||e;n in this.listeners||(this.listeners[n]=[]),this._client.logger("info","Removing listener for ".concat(n," event from channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[n]=this.listeners[n].filter((function(e){return e!==i}))}},{key:"_handleChannelEvent",value:function(e){var t,n,r,i,s,a,o,c=this;this._client.logger("info","channel:_handleChannelEvent - Received event of type { ".concat(e.type," } on ").concat(this.cid),{tags:["event","channel"],channel:this});var u=c.state;switch(e.type){case"typing.start":null!==(t=e.user)&&void 0!==t&&t.id&&(u.typing=u.typing.set(e.user.id,E()(e)));break;case"typing.stop":null!==(n=e.user)&&void 0!==n&&n.id&&(u.typing=u.typing.without(e.user.id));break;case"message.read":var l,f;if(null!==(r=e.user)&&void 0!==r&&r.id)u.read=u.read.set(e.user.id,E()({user:fe({},e.user),last_read:e.received_at})),(null===(l=e.user)||void 0===l?void 0:l.id)===(null===(f=this.getClient().user)||void 0===f?void 0:f.id)&&(u.unreadCount=0);break;case"user.watching.start":case"user.updated":null!==(i=e.user)&&void 0!==i&&i.id&&(u.watchers=u.watchers.set(e.user.id,E()(e.user)));break;case"user.watching.stop":null!==(s=e.user)&&void 0!==s&&s.id&&(u.watchers=u.watchers.without(e.user.id));break;case"message.deleted":e.message&&(e.hard_delete?u.removeMessage(e.message):u.addMessageSorted(e.message),e.message.pinned&&u.removePinnedMessage(e.message));break;case"message.new":if(e.message){var h,d,p,v=(null===(h=e.user)||void 0===h?void 0:h.id)===(null===(d=this.getClient().user)||void 0===d?void 0:d.id),m=e.message.parent_id&&!e.message.show_in_channel;(this.state.isUpToDate||m)&&u.addMessageSorted(e.message,v),e.message.pinned&&u.addPinnedMessage(e.message),v&&null!==(p=e.user)&&void 0!==p&&p.id?(u.unreadCount=0,u.read=u.read.set(e.user.id,E()({user:fe({},e.user),last_read:new Date(e.created_at)}))):this._countMessageAsUnread(e.message)&&(u.unreadCount=u.unreadCount+1)}break;case"message.updated":e.message&&(u.addMessageSorted(e.message),e.message.pinned?u.addPinnedMessage(e.message):u.removePinnedMessage(e.message));break;case"channel.truncated":u.clearMessages(),u.unreadCount=0;break;case"member.added":case"member.updated":var g;if(null!==(a=e.member)&&void 0!==a&&a.user_id)u.members=u.members.set(null===(g=e.member)||void 0===g?void 0:g.user_id,E()(e.member));break;case"member.removed":null!==(o=e.user)&&void 0!==o&&o.id&&(u.members=u.members.without(e.user.id));break;case"channel.updated":e.channel&&(c.data=E()(e.channel));break;case"reaction.new":e.reaction&&u.addReaction(e.reaction,e.message);break;case"reaction.deleted":e.reaction&&u.removeReaction(e.reaction,e.message);break;case"reaction.updated":e.reaction&&u.addReaction(e.reaction,e.message,!0);break;case"channel.hidden":e.clear_history&&u.clearMessages();break}void 0!==e.watcher_count&&(c.state.watcher_count=e.watcher_count)}},{key:"_checkInitialized",value:function(){if(!this.initialized&&!this.getClient()._isUsingServerAuth())throw Error("Channel ".concat(this.cid," hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve"))}},{key:"_initializeState",value:function(e){if(e.members){var t,n=oe(e.members);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.user&&this.getClient().state.updateUserReference(r.user,this.cid)}}catch(b){n.e(b)}finally{n.f()}}this.state.membership=E()(e.membership?e.membership:{});var i=e.messages||[];if(this.state.messages||(this.state.messages=E()([])),this.state.addMessagesSorted(i,!1,!0),this.state.pinnedMessages||(this.state.pinnedMessages=E()([])),this.state.addPinnedMessages(e.pinned_messages||[]),this.state.watcher_count=e.watcher_count?e.watcher_count:0,e.watchers){var s,o=oe(e.watchers);try{for(o.s();!(s=o.n()).done;){var c=s.value;c&&(this.getClient().state.updateUserReference(c,this.cid),this.state.watchers=this.state.watchers.set(c.id,c))}}catch(b){o.e(b)}finally{o.f()}}if(null!=this.getClient().userID){var u=null!=this.state.last_message_at?this.state.last_message_at:new Date,l=this.getClient(),f=l.user;f&&(this.state.read=this.state.read.set(f.id,{user:this.getClient().user,last_read:u}))}if(e.read){var h,d=oe(e.read);try{for(d.s();!(h=d.n()).done;){var p,v=h.value,m=a()(fe({},v));m.last_read=new Date(v.last_read),this.state.read=this.state.read.set(v.user.id,m),v.user.id===(null===(p=this.getClient().user)||void 0===p?void 0:p.id)&&(this.state.unreadCount=m.unread_messages)}}catch(b){d.e(b)}finally{d.f()}}if(e.members){var g,y=oe(e.members);try{for(y.s();!(g=y.n()).done;){var w=g.value;w.user&&(this.state.members=this.state.members.set(w.user.id,w))}}catch(b){y.e(b)}finally{y.f()}}}},{key:"_disconnect",value:function(){this._client.logger("info","channel:disconnect() - Disconnecting the channel ".concat(this.cid),{tags:["connection","channel"],channel:this}),this.disconnected=!0}}]),e}();function de(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=pe(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function pe(e,t){if(e){if("string"===typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me=function(){function e(){y()(this,e),_()(this,"users",void 0),_()(this,"userChannelReferences",void 0),this.users=E()({}),this.userChannelReferences={}}return b()(e,[{key:"updateUsers",value:function(e){var t,n=de(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.updateUser(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"updateUser",value:function(e){null!=e&&(this.users=this.users.set(e.id,E()(e)))}},{key:"updateUserReference",value:function(e,t){null!=e&&(this.updateUser(e),this.userChannelReferences[e.id]||(this.userChannelReferences[e.id]={}),this.userChannelReferences[e.id][t]=!0)}}]),e}(),ge=function(e){return void 0!==e.code},ye=function(e){return void 0!==e.error},we=function(){function e(t){var n=this,r=t.apiKey,i=t.authType,s=t.clientID,a=t.eventCallback,o=t.logger,c=t.messageCallback,u=t.recoverCallback,l=t.tokenManager,f=t.user,h=t.userAgent,d=t.userID,p=t.wsBaseURL;y()(this,e),_()(this,"apiKey",void 0),_()(this,"authType",void 0),_()(this,"clientID",void 0),_()(this,"eventCallback",void 0),_()(this,"logger",void 0),_()(this,"messageCallback",void 0),_()(this,"recoverCallback",void 0),_()(this,"tokenManager",void 0),_()(this,"user",void 0),_()(this,"userAgent",void 0),_()(this,"userID",void 0),_()(this,"wsBaseURL",void 0),_()(this,"connectionID",void 0),_()(this,"connectionOpen",void 0),_()(this,"consecutiveFailures",void 0),_()(this,"healthCheckInterval",void 0),_()(this,"healthCheckIntervalRef",void 0),_()(this,"isConnecting",void 0),_()(this,"isHealthy",void 0),_()(this,"isResolved",void 0),_()(this,"lastEvent",void 0),_()(this,"monitorInterval",void 0),_()(this,"monitorIntervalRef",void 0),_()(this,"rejectPromise",void 0),_()(this,"resolvePromise",void 0),_()(this,"totalFailures",void 0),_()(this,"ws",void 0),_()(this,"wsID",void 0),_()(this,"_buildUrl",(function(){var e={user_id:n.user.id,user_details:n.user,user_token:n.tokenManager.getToken(),server_determines_connection_id:!0},t=encodeURIComponent(JSON.stringify(e)),r=n.tokenManager.getToken();return"".concat(n.wsBaseURL,"/connect?json=").concat(t,"&api_key=").concat(n.apiKey,"&authorization=").concat(r,"&stream-auth-type=").concat(n.authType,"&x-stream-client=").concat(n.userAgent)})),_()(this,"onlineStatusChanged",(function(e){"offline"===e.type?(n.logger("info","connection:onlineStatusChanged() - Status changing to offline",{tags:["connection"]}),n._setHealth(!1)):"online"===e.type&&(n.logger("info","connection:onlineStatusChanged() - Status changing to online. isHealthy: ".concat(n.isHealthy),{tags:["connection"]}),n.isHealthy||n._reconnect({interval:10}))})),_()(this,"onopen",(function(e){n.wsID===e&&(n.logger("info","connection:onopen() - onopen callback",{tags:["connection"],wsID:e}),n._setHealth(!0))})),_()(this,"onmessage",(function(e,t){if(n.wsID===e){if(!n.isResolved&&"string"===typeof t.data){var r,i,s=JSON.parse(t.data);if(null!=s.error)return void(null===(r=n.rejectPromise)||void 0===r||r.call(n,n._errorFromWSEvent(s,!1)));null===(i=n.resolvePromise)||void 0===i||i.call(n,t)}n.lastEvent=new Date,n.logger("info","connection:onmessage() - onmessage callback",{tags:["connection"],event:t,wsID:e}),n.messageCallback(t)}})),_()(this,"onclose",(function(e,t){if(n.logger("info","connection:onclose() - onclose callback - "+t.code,{tags:["connection"],event:t,wsID:e}),n.wsID===e)if(t.code===X.WS_CLOSED_SUCCESS){var r,i=new Error("WS connection reject with error ".concat(t.reason));i.reason=t.reason,null===(r=n.rejectPromise)||void 0===r||r.call(n,i),n.logger("info","connection:onclose() - WS connection reject with error ".concat(t.reason),{tags:["connection"],event:t})}else{var s;n.consecutiveFailures+=1,n.totalFailures+=1,n._setHealth(!1),null===(s=n.rejectPromise)||void 0===s||s.call(n,n._errorFromWSEvent(t)),n.logger("info","connection:onclose() - WS connection closed. Calling reconnect ...",{tags:["connection"],event:t}),n._reconnect()}})),_()(this,"onerror",(function(e,t){var r;n.wsID===e&&(n.consecutiveFailures+=1,n.totalFailures+=1,n._setHealth(!1),null===(r=n.rejectPromise)||void 0===r||r.call(n,n._errorFromWSEvent(t)),n.logger("info","connection:onerror() - WS connection resulted into error",{tags:["connection"],event:t}),n._reconnect())})),_()(this,"_setHealth",(function(e){e&&!n.isHealthy&&(n.isHealthy=!0,n.eventCallback({type:"connection.changed",online:!0})),!e&&n.isHealthy&&(n.isHealthy=!1,setTimeout((function(){n.isHealthy||n.eventCallback({type:"connection.changed",online:!1})}),5e3))})),_()(this,"_errorFromWSEvent",(function(e){var t,r,i,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ge(e)&&(t=e.code,r="unknown",i=e.reason),ye(e)&&(t=e.error.code,r=e.error.StatusCode,i=e.error.message),n.logger("warn","connection:_errorFromWSEvent() - WS failed with code ".concat(t),{tags:["connection"],event:e});var a=new Error("WS failed with code ".concat(t," and reason - ").concat(i));return a.code=t,a.StatusCode=r,a.isWSFailure=s,a})),_()(this,"_listenForConnectionChanges",(function(){"undefined"!==typeof window&&null!=window&&null!=window.addEventListener&&(window.addEventListener("offline",n.onlineStatusChanged),window.addEventListener("online",n.onlineStatusChanged))})),_()(this,"_removeConnectionListeners",(function(){"undefined"!==typeof window&&null!=window&&null!=window.addEventListener&&(window.removeEventListener("offline",n.onlineStatusChanged),window.removeEventListener("online",n.onlineStatusChanged))})),_()(this,"_retryInterval",(function(){var e=Math.min(500+2e3*n.consecutiveFailures,25e3),t=Math.min(Math.max(250,2e3*(n.consecutiveFailures-1)),25e3);return Math.floor(Math.random()*(e-t)+t)})),_()(this,"_setupConnectionPromise",(function(){var e=n;n.isResolved=!1,n.connectionOpen=new Promise((function(t,n){e.resolvePromise=t,e.rejectPromise=n})).then((function(e){if(e.data&&"string"===typeof e.data){var t=JSON.parse(e.data);if(t&&null!=t.error)throw new Error(JSON.stringify(t.error));return t}}),(function(e){throw e}))})),this.wsBaseURL=p,this.clientID=s,this.userID=d,this.user=f,this.authType=i,this.userAgent=h,this.apiKey=r,this.tokenManager=l,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isHealthy=!1,this.recoverCallback=u,this.messageCallback=c,this.eventCallback=a,this.logger=o,this.wsID=1,this.lastEvent=null,this.healthCheckInterval=3e4,this.monitorInterval=1e3,this._listenForConnectionChanges()}return b()(e,[{key:"connect",value:function(){var e=m()(p.a.mark((function e(){var t;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isConnecting){e.next=2;break}throw Error("You've called connect twice, can only attempt 1 connection at the time");case 2:return e.prev=2,this.isConnecting=!0,e.next=6,this._connect();case 6:return t=e.sent,this.isConnecting=!1,this.consecutiveFailures=0,this._startMonitor(),this._startHealthCheck(),this.logger("info","connection:connect() - Established ws connection with healthcheck: ".concat(t),{tags:["connection"]}),e.abrupt("return",t);case 15:if(e.prev=15,e.t0=e["catch"](2),this.isConnecting=!1,this.isHealthy=!1,this.consecutiveFailures+=1,e.t0.code!==X.TOKEN_EXPIRED||this.tokenManager.isStatic()){e.next=23;break}return this.logger("info","connection:connect() - WS failure due to expired token, so going to try to reload token and reconnect",{tags:["connection"]}),e.abrupt("return",this._reconnect({refreshToken:!0}));case 23:if(e.t0.isWSFailure){e.next=25;break}throw new Error(JSON.stringify({code:e.t0.code,StatusCode:e.t0.StatusCode,message:e.t0.message,isWSFailure:e.t0.isWSFailure}));case 25:case"end":return e.stop()}}),e,this,[[2,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(e){var t,n=this;this.logger("info","connection:disconnect() - Closing the websocket connection for wsID ".concat(this.wsID),{tags:["connection"]}),this.wsID+=1,this.healthCheckIntervalRef&&clearInterval(this.healthCheckIntervalRef),this.monitorIntervalRef&&clearInterval(this.monitorIntervalRef),this._removeConnectionListeners(),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();var r=this.ws;return r&&r.close&&r.readyState===r.OPEN?(t=new Promise((function(t){var i=function(e){n.logger("info","connection:disconnect() - resolving isClosedPromise ".concat(e?"with":"without"," close frame"),{tags:["connection"],event:e}),t()};r.onclose=i,setTimeout(i,null!=e?e:1e3)})),this.logger("info","connection:disconnect() - Manually closed connection by calling client.disconnect()",{tags:["connection"]}),r.close(X.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this.logger("info","connection:disconnect() - ws connection doesn't exist or it is already closed.",{tags:["connection"]}),t=Promise.resolve()),delete this.ws,t}},{key:"_connect",value:function(){var e=m()(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.tokenManager.tokenReady();case 2:return this._setupConnectionPromise(),t=this._buildUrl(),this.ws=new U.a(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID),e.next=11,this.connectionOpen;case 11:if(n=e.sent,!n){e.next=15;break}return this.connectionID=n.connection_id,e.abrupt("return",n);case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_reconnect",value:function(){var e=m()(p.a.mark((function e(){var t,n,r,i=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},this.logger("info","connection:_reconnect() - Initiating the reconnect",{tags:["connection"]}),!this.isConnecting&&!this.isHealthy){e.next=5;break}return this.logger("info","connection:_reconnect() - Abort (1) since already connecting or healthy",{tags:["connection"]}),e.abrupt("return");case 5:return n=t.interval,n||(n=this._retryInterval()),e.next=9,Q(n);case 9:if(!this.isConnecting&&!this.isHealthy){e.next=12;break}return this.logger("info","connection:_reconnect() - Abort (2) since already connecting or healthy",{tags:["connection"]}),e.abrupt("return");case 12:if(this.isConnecting=!0,this.logger("info","connection:_reconnect() - Destroying current WS connection",{tags:["connection"]}),this._destroyCurrentWSConnection(),!t.refreshToken){e.next=18;break}return e.next=18,this.tokenManager.loadToken();case 18:return e.prev=18,e.next=21,this._connect();case 21:if(r=e.sent,!this.recoverCallback){e.next=27;break}return this.logger("info","connection:_reconnect() - Waiting for recoverCallBack",{tags:["connection"]}),e.next=26,this.recoverCallback(r);case 26:this.logger("info","connection:_reconnect() - Finished recoverCallBack",{tags:["connection"]});case 27:this.isConnecting=!1,this.consecutiveFailures=0,e.next=40;break;case 31:if(e.prev=31,e.t0=e["catch"](18),this.isConnecting=!1,this.isHealthy=!1,this.consecutiveFailures+=1,e.t0.code!==X.TOKEN_EXPIRED||this.tokenManager.isStatic()){e.next=39;break}return this.logger("info","connection:_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect",{tags:["connection"]}),e.abrupt("return",this._reconnect({refreshToken:!0}));case 39:e.t0.isWSFailure&&(this.logger("info","connection:_reconnect() - WS failure, so going to try to reconnect",{tags:["connection"]}),this._reconnect());case 40:this.logger("info","connection:_reconnect() - == END ==",{tags:["connection"]});case 41:case"end":return e.stop()}}),e,this,[[18,31]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_destroyCurrentWSConnection",value:function(){this.wsID+=1;try{this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners(),this.ws&&this.ws.close&&this.ws.close()}catch(e){}}},{key:"_startHealthCheck",value:function(){var e=this;this.healthCheckIntervalRef=setInterval((function(){var t=[{type:"health.check",client_id:e.clientID,user_id:e.userID}];try{var n;null===(n=e.ws)||void 0===n||n.send(JSON.stringify(t))}catch(r){}}),e.healthCheckInterval)}},{key:"_startMonitor",value:function(){var e=this,t=this;this.monitorIntervalRef=setInterval((function(){var n=new Date;t.lastEvent&&n.getTime()-t.lastEvent.getTime()>e.healthCheckInterval+1e4&&(e.logger("info","connection:_startMonitor - going to reconnect",{tags:["connection"]}),t._setHealth(!1),t._reconnect())}),t.monitorInterval)}}]),e}(),be=null,xe=null;function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!==typeof t)throw new TypeError("userId should be a string");ke({user_id:t},n);throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.")}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={server:!0},r=a()({algorithm:"HS256",noTimestamp:!0},t);return be.sign(n,e,r)}function Ee(e){var t=e.split(".");if(3!==t.length)return"";var n=t[1],r=L(n),i=JSON.parse(r);return i.user_id}function Oe(e){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",P(JSON.stringify({user_id:e})),"devtoken"].join(".")}function Te(t,n,r){var i=e.from(n,"ascii"),s=xe.createHmac("sha256",i).update(t).digest("hex");return s===r}var Me=function e(t){var n=this;y()(this,e),_()(this,"loadTokenPromise",void 0),_()(this,"type",void 0),_()(this,"secret",void 0),_()(this,"token",void 0),_()(this,"tokenProvider",void 0),_()(this,"user",void 0),_()(this,"setTokenOrProvider",function(){var e=m()(p.a.mark((function e(t,r){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.validateToken(t,r),n.user=r,K(t)&&(n.tokenProvider=t,n.type="provider"),"string"===typeof t&&(n.token=t,n.type="static"),!t&&n.user&&n.secret&&(n.token=Ce(n.secret,r.id,{},{}),n.type="static"),e.next=7,n.loadToken();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_()(this,"reset",(function(){n.token=void 0,n.user=void 0,n.loadTokenPromise=null})),_()(this,"validateToken",(function(e,t){if(!t||!t.anon||e){if(!n.secret&&!e)throw new Error("User token can not be empty");if(e&&"string"!==typeof e&&!K(e))throw new Error("user token should either be a string or a function");if("string"===typeof e){if(t.anon&&""===e)return;var r=Ee(e);if(null!=e&&(null==r||""===r||r!==t.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}})),_()(this,"tokenReady",(function(){return n.loadTokenPromise})),_()(this,"loadToken",(function(){return n.loadTokenPromise=new Promise(function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("static"!==n.type){e.next=2;break}return e.abrupt("return",t(n.token));case 2:if(!n.tokenProvider||"string"===typeof n.tokenProvider){e.next=7;break}return e.next=5,n.tokenProvider();case 5:n.token=e.sent,t(n.token);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.loadTokenPromise})),_()(this,"getToken",(function(){if(n.token)return n.token;if(n.user&&n.user.anon&&!n.token)return n.token;if(n.secret)return Se(n.secret);throw new Error("Both secret and user tokens are not set. Either client.setUser wasn't called or client.disconnect was called")})),_()(this,"isStatic",(function(){return"static"===n.type})),this.loadTokenPromise=null,t&&(this.secret=t),this.type="static",this.secret&&(this.token=Se(this.secret))};function Ae(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Re(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function Re(e,t){if(e){if("string"===typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return"string"===typeof e||e instanceof String}var Pe=function(){function t(e,n,i){var s=this;y()(this,t),_()(this,"_user",void 0),_()(this,"activeChannels",void 0),_()(this,"anonymous",void 0),_()(this,"axiosInstance",void 0),_()(this,"baseURL",void 0),_()(this,"browser",void 0),_()(this,"cleaningIntervalRef",void 0),_()(this,"clientID",void 0),_()(this,"configs",void 0),_()(this,"connecting",void 0),_()(this,"connectionEstablishedCount",void 0),_()(this,"connectionID",void 0),_()(this,"failures",void 0),_()(this,"key",void 0),_()(this,"listeners",void 0),_()(this,"logger",void 0),_()(this,"recoverStateOnReconnect",void 0),_()(this,"mutedChannels",void 0),_()(this,"mutedUsers",void 0),_()(this,"node",void 0),_()(this,"options",void 0),_()(this,"secret",void 0),_()(this,"setUserPromise",void 0),_()(this,"state",void 0),_()(this,"tokenManager",void 0),_()(this,"user",void 0),_()(this,"userAgent",void 0),_()(this,"userID",void 0),_()(this,"wsBaseURL",void 0),_()(this,"wsConnection",void 0),_()(this,"wsPromise",void 0),_()(this,"_setupConnection",(function(){return s.clientID="".concat(s.userID,"--").concat(ae()),s.wsPromise=s.connect(),s._startCleaning(),s.wsPromise})),_()(this,"_hasConnectionID",(function(){return Boolean(s.connectionID)})),_()(this,"connectUser",(function(e,t){if(!e.id)throw new Error('The "id" field on the user is missing');if(s.userID===e.id&&s.setUserPromise)return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),s.setUserPromise;if(s.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");!s._isUsingServerAuth()&&!s.node||s.options.allowServerSideConnect||console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),s.userID=e.id,s.anonymous=!1;var n=s._setToken(e,t);s._setUser(e);var r=s._setupConnection();return s.setUserPromise=Promise.all([n,r]).then((function(e){return e[1]})),s.setUserPromise})),_()(this,"setUser",(function(e,t){return s.connectUser(e,t)})),_()(this,"_setToken",(function(e,t){return s.tokenManager.setTokenOrProvider(t,e)})),_()(this,"connectAnonymousUser",(function(){!s._isUsingServerAuth()&&!s.node||s.options.allowServerSideConnect||console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),s.anonymous=!0,s.userID=ae();var e={id:s.userID,anon:!0};return s._setToken(e,""),s._setUser(e),s._setupConnection()})),_()(this,"setAnonymousUser",(function(){return s.connectAnonymousUser()})),_()(this,"doAxiosRequest",function(){var e=m()(p.a.mark((function e(t,n,r){var i,a,o,c=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=3,s.tokenManager.tokenReady();case 3:a=s._enrichAxiosOptions(i),e.prev=4,s._logApiRequest(t,n,r,a),e.t0=t,e.next="get"===e.t0?9:"delete"===e.t0?13:"post"===e.t0?17:"put"===e.t0?21:"patch"===e.t0?25:"options"===e.t0?29:33;break;case 9:return e.next=11,s.axiosInstance.get(n,a);case 11:return o=e.sent,e.abrupt("break",34);case 13:return e.next=15,s.axiosInstance.delete(n,a);case 15:return o=e.sent,e.abrupt("break",34);case 17:return e.next=19,s.axiosInstance.post(n,r,a);case 19:return o=e.sent,e.abrupt("break",34);case 21:return e.next=23,s.axiosInstance.put(n,r,a);case 23:return o=e.sent,e.abrupt("break",34);case 25:return e.next=27,s.axiosInstance.patch(n,r,a);case 27:return o=e.sent,e.abrupt("break",34);case 29:return e.next=31,s.axiosInstance.options(n,a);case 31:return o=e.sent,e.abrupt("break",34);case 33:throw new Error("Invalid request type");case 34:return s._logApiResponse(t,n,o),e.abrupt("return",s.handleResponse(o));case 38:if(e.prev=38,e.t1=e["catch"](4),s._logApiError(t,n,e.t1),!e.t1.response){e.next=50;break}if(e.t1.response.data.code!==X.TOKEN_EXPIRED||s.tokenManager.isStatic()){e.next=47;break}return s.tokenManager.loadToken(),e.next=46,s.doAxiosRequest(t,n,r,i);case 46:return e.abrupt("return",e.sent);case 47:return e.abrupt("return",s.handleResponse(e.t1.response));case 50:throw e.t1;case 51:case"end":return e.stop()}}),e,null,[[4,38]])})));return function(t,n,r){return e.apply(this,arguments)}}()),_()(this,"dispatchEvent",(function(e){s._handleClientEvent(e);var t=e.cid,n=t?s.activeChannels[t]:void 0;n&&n._handleChannelEvent(e),s._callClientListeners(e),n&&n._callChannelListeners(e)})),_()(this,"handleEvent",(function(e){var t=e.data,n=JSON.parse(t);n.received_at=new Date,s.dispatchEvent(n)})),_()(this,"_callClientListeners",(function(e){var t=s,n=[];t.listeners.all&&n.push.apply(n,h()(t.listeners.all)),t.listeners[e.type]&&n.push.apply(n,h()(t.listeners[e.type]));for(var r=0,i=n;r<i.length;r++){var a=i[r];a(e)}})),_()(this,"recoverState",m()(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.logger("info","client:recoverState() - Start of recoverState with connectionID ".concat(null===(t=s.wsConnection)||void 0===t?void 0:t.connectionID),{tags:["connection"]}),s.connectionID=null===(n=s.wsConnection)||void 0===n?void 0:n.connectionID,r=Object.keys(s.activeChannels),!r.length||!s.recoverStateOnReconnect){e.next=11;break}return s.logger("info","client:recoverState() - Start the querying of ".concat(r.length," channels"),{tags:["connection","client"]}),e.next=7,s.queryChannels({cid:{$in:r}},{last_message_at:-1},{limit:30});case 7:s.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),s.dispatchEvent({type:"connection.recovered"}),e.next=12;break;case 11:s.dispatchEvent({type:"connection.recovered"});case 12:s.wsPromise=Promise.resolve(),s.setUserPromise=Promise.resolve();case 14:case"end":return e.stop()}}),e)})))),_()(this,"getChannelByMembers",(function(e,t){var n=h()(t.members||[]).sort().join(","),r="".concat(e,":!members-").concat(n);if(!n)throw Error("Please specify atleast one member when creating unique conversation");for(var i in s.activeChannels){var a=s.activeChannels[i];if(i===r)return a;if(0===i.indexOf("".concat(e,":!members-"))){var o=Object.keys(a.state.members).sort().join(",");if(o===n)return a}}var c=new he(s,e,void 0,t);return s.activeChannels[r]=c,c})),_()(this,"getChannelById",(function(e,t,n){if("string"===typeof t&&~t.indexOf(":"))throw Error("Invalid channel id ".concat(t,", can't contain the : character"));var r="".concat(e,":").concat(t);if(r in s.activeChannels){var i=s.activeChannels[r];return Object.keys(n).length>0&&(i.data=n,i._data=n),i}var a=new he(s,e,t,n);return s.activeChannels[a.cid]=a,a})),_()(this,"_isUsingServerAuth",(function(){return!!s.secret})),this.key=e,this.listeners={},this.state=new me,this.mutedChannels=[],this.mutedUsers=[],n&&De(n)&&(this.secret=n);var a=i||(n&&!De(n)?n:{});this.browser="undefined"!==typeof a.browser?a.browser:"undefined"!==typeof window,this.node=!this.browser,this.options=je({timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0},a),this.node&&(this.options.httpsAgent=new N.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=C.a.create(this.options),this.setBaseURL("https://chat-us-east-1.stream-io-api.com"),"undefined"!==typeof r&&Object({NODE_ENV:"production",BASE_URL:"/"}).STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),"undefined"!==typeof r&&Object({NODE_ENV:"production",BASE_URL:"/"}).STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+Object({NODE_ENV:"production",BASE_URL:"/"}).STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.tokenManager=new Me(this.secret),this.logger=K(a.logger)?a.logger:function(){return null},this.recoverStateOnReconnect=this.options.recoverStateOnReconnect}return b()(t,[{key:"devToken",value:function(e){return Oe(e)}},{key:"getAuthType",value:function(){return this.anonymous?"anonymous":"jwt"}},{key:"setBaseURL",value:function(e){this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws")}},{key:"_setUser",value:function(e){this.user=e,this._user=je({},e)}},{key:"updateAppSettings",value:function(){var t=m()(p.a.mark((function t(n){var r;return p.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null!==(r=n.apn_config)&&void 0!==r&&r.p12_cert&&(n.apn_config.p12_cert=e.from(n.apn_config.p12_cert).toString("base64")),t.next=3,this.patch(this.baseURL+"/app",n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getAppSettings",value:function(){var e=m()(p.a.mark((function e(){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"testPushSettings",value:function(){var e=m()(p.a.mark((function e(t){var n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/check_push",je(je(je(je(je({user_id:t},n.messageID?{message_id:n.messageID}:{}),n.apnTemplate?{apn_template:n.apnTemplate}:{}),n.firebaseTemplate?{firebase_template:n.firebaseTemplate}:{}),n.firebaseDataTemplate?{firebase_data_template:n.firebaseDataTemplate}:{}),n.skipDevices?{skip_devices:!0}:{}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"testSQSSettings",value:function(){var e=m()(p.a.mark((function e(){var t,n=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.post(this.baseURL+"/check_sqs",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(e){this.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete this.user,delete this._user,delete this.userID,null!=this.cleaningIntervalRef&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),this.anonymous=!1,this.connectionEstablishedCount=0;for(var t=0,n=Object.values(this.activeChannels);t<n.length;t++){var r=n[t];r._disconnect()}return this.activeChannels={},this.state=new me,this.tokenManager.reset(),this.wsConnection?this.wsConnection.disconnect(e):Promise.resolve()}},{key:"setGuestUser",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.anonymous=!0,e.prev=1,e.next=4,this.post(this.baseURL+"/guest",{user:t});case 4:n=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),this.anonymous=!1,e.t0;case 11:return this.anonymous=!1,r=n.user,r.created_at,r.updated_at,r.last_active,r.online,i=l()(r,["created_at","updated_at","last_active","online"]),e.next=15,this.connectUser(i,n.access_token);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createToken",value:function(e,t){if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");var n={};return t&&(n.exp=t),Ce(this.secret,e,n,{})}},{key:"on",value:function(e,t){var n=this,r=t?e:"all",i=Z(r);if(!i)throw Error("Invalid event type ".concat(r));var s=t||e;return r in this.listeners||(this.listeners[r]=[]),this.logger("info","Attaching listener for ".concat(r," event"),{tags:["event","client"]}),this.listeners[r].push(s),{unsubscribe:function(){n.listeners[r]=n.listeners[r].filter((function(e){return e!==s}))}}}},{key:"off",value:function(e,t){var n=t?e:"all",r=Z(n);if(!r)throw Error("Invalid event type ".concat(n));var i=t||e;n in this.listeners||(this.listeners[n]=[]),this.logger("info","Removing listener for ".concat(n," event"),{tags:["event","client"]}),this.listeners[n]=this.listeners[n].filter((function(e){return e!==i}))}},{key:"_logApiRequest",value:function(e,t,n,r){this.logger("info","client: ".concat(e," - Request - ").concat(t),{tags:["api","api_request","client"],url:t,payload:n,config:r})}},{key:"_logApiResponse",value:function(e,t,n){this.logger("info","client:".concat(e," - Response - url: ").concat(t," > status ").concat(n.status),{tags:["api","api_response","client"],url:t,response:n})}},{key:"_logApiError",value:function(e,t,n){this.logger("error","client:".concat(e," - Error - url: ").concat(t),{tags:["api","api_response","client"],url:t,error:n})}},{key:"get",value:function(e,t){return this.doAxiosRequest("get",e,null,{params:t})}},{key:"put",value:function(e,t){return this.doAxiosRequest("put",e,t)}},{key:"post",value:function(e,t){return this.doAxiosRequest("post",e,t)}},{key:"patch",value:function(e,t){return this.doAxiosRequest("patch",e,t)}},{key:"delete",value:function(e,t){return this.doAxiosRequest("delete",e,null,{params:t})}},{key:"sendFile",value:function(e,t,n,r,i){var s=re(t,n,r);return null!=i&&s.append("user",JSON.stringify(i)),this.doAxiosRequest("post",e,s,{headers:s.getHeaders?s.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}},{key:"errorFromResponse",value:function(e){var t;return t=new Error("StreamChat error HTTP code: ".concat(e.status)),e.data&&e.data.code&&(t=new Error("StreamChat error code ".concat(e.data.code,": ").concat(e.data.message)),t.code=e.data.code),t.response=e,t.status=e.status,t}},{key:"handleResponse",value:function(e){var t=e.data;if("2"!==(e.status+"")[0])throw this.errorFromResponse(e);return t}},{key:"_handleClientEvent",value:function(e){var t,n,r,i=this;(this.logger("info","client:_handleClientEvent - Received event of type { ".concat(e.type," }"),{tags:["event","client"],event:e}),!e.user||"user.presence.changed"!==e.type&&"user.updated"!==e.type)||((null===(r=e.user)||void 0===r?void 0:r.id)===this.userID&&(this.user=this.user&&je(je({},this.user),e.user),Object.keys(e.user).forEach((function(t){i._user&&t in i._user&&(i._user[t]=e.user[t])}))),i.state.updateUser(e.user),i._updateUserReferences(e.user));"health.check"===e.type&&e.me&&(i.user=e.me,i.state.updateUser(e.me),i.mutedChannels=e.me.channel_mutes,i.mutedUsers=e.me.mutes),e.channel&&"notification.message_new"===e.type&&(this.configs[e.channel.type]=e.channel.config),"notification.channel_mutes_updated"===e.type&&null!==(t=e.me)&&void 0!==t&&t.channel_mutes&&(this.mutedChannels=e.me.channel_mutes),"notification.mutes_updated"===e.type&&null!==(n=e.me)&&void 0!==n&&n.mutes&&(this.mutedUsers=e.me.mutes)}},{key:"_muteStatus",value:function(e){var t;return this.mutedChannels.forEach((function(n){var r;if((null===(r=n.channel)||void 0===r?void 0:r.cid)===e){var i=!0;n.expires&&(i=new Date(n.expires).getTime()>(new Date).getTime()),t={muted:i,createdAt:n.created_at?new Date(n.created_at):new Date,expiresAt:n.expires?new Date(n.expires):null}}})),t||{muted:!1,createdAt:null,expiresAt:null}}},{key:"_updateUserReferences",value:function(e){for(var t=this.state.userChannelReferences[e.id]||{},n=Object.keys(t),r=0,i=n;r<i.length;r++){var s=i[r],a=this.activeChannels[s];a&&a.state&&(a.state.members[e.id]&&(a.state.members=a.state.members.setIn([e.id,"user"],e)),a.state.watchers[e.id]&&(a.state.watchers=a.state.watchers.setIn([e.id,"user"],e)))}}},{key:"connect",value:function(){var e=m()(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.connecting=!0,t=this,this.failures=0,null!=t.userID&&null!=this._user){e.next=5;break}throw Error("Call connectUser or connectAnonymousUser before starting the connection");case 5:if(null!=t.wsBaseURL){e.next=7;break}throw Error("Websocket base url not set");case 7:if(null!=t.clientID){e.next=9;break}throw Error("clientID is not set");case 9:return this.wsConnection=new we({wsBaseURL:t.wsBaseURL,clientID:t.clientID,userID:t.userID,tokenManager:t.tokenManager,user:this._user,authType:this.getAuthType(),userAgent:this.getUserAgent(),apiKey:this.key,recoverCallback:this.recoverState,messageCallback:this.handleEvent,eventCallback:this.dispatchEvent,logger:this.logger}),this.options.warmUp&&(n=this.doAxiosRequest("options",this.baseURL+"/connect")),e.next=13,this.wsConnection.connect();case 13:return r=e.sent,e.prev=14,e.next=17,n;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](14),this.logger("error","Warmup request failed",{error:e.t0});case 22:return this.connectionID=this.wsConnection.connectionID,e.abrupt("return",r);case 24:case"end":return e.stop()}}),e,this,[[14,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"queryUsers",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i,s,a=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:[],r=a.length>2&&void 0!==a[2]?a[2]:{},i={presence:!1},e.next=5,this.setUserPromise;case 5:return this._hasConnectionID()||(i.presence=!1),e.next=8,this.get(this.baseURL+"/users",{payload:je(je({filter_conditions:t,sort:ie(n)},i),r)});case 8:return s=e.sent,this.state.updateUsers(s.users),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"queryChannels",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i,s,a,o,c,u,l,f,h,d,v,m=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=m.length>1&&void 0!==m[1]?m[1]:[],r=m.length>2&&void 0!==m[2]?m[2]:{},i={state:!0,watch:!0,presence:!1},e.next=5,this.setUserPromise;case 5:return this._hasConnectionID()||(i.watch=!1),s=je(je({filter_conditions:t,sort:ie(n)},i),r),e.next=9,this.post(this.baseURL+"/channels",s);case 9:a=e.sent,o=[],c=Ae(a.channels);try{for(c.s();!(u=c.n()).done;)l=u.value,this._addChannelConfig(l)}catch(p){c.e(p)}finally{c.f()}f=Ae(a.channels);try{for(f.s();!(h=f.n()).done;)d=h.value,v=this.channel(d.channel.type,d.channel.id),v.data=d.channel,v.initialized=!0,v._initializeState(d),o.push(v)}catch(p){f.e(p)}finally{f.f()}return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"search",value:function(){var e=m()(p.a.mark((function e(t,n){var r,i,s=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:{},i=je({filter_conditions:t},r),"string"!==typeof n){e.next=6;break}i.query=n,e.next=11;break;case 6:if("object"!==c()(n)){e.next=10;break}i.message_filter_conditions=n,e.next=11;break;case 10:throw Error("Invalid type ".concat(c()(n)," for query parameter"));case 11:return e.next=13,this.setUserPromise;case 13:return e.next=15,this.get(this.baseURL+"/search",{payload:i});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"addDevice",value:function(){var e=m()(p.a.mark((function e(t,n,r){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/devices",je({id:t,push_provider:n},null!=r?{user_id:r}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"getDevices",value:function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/devices",t?{user_id:t}:{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeDevice",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/devices",je({id:t},n?{user_id:n}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_addChannelConfig",value:function(e){this.configs[e.channel.type]=e.channel.config}},{key:"channel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~e.indexOf(":"))throw Error("Invalid channel group ".concat(e,", can't contain the : character"));return null==t||""===t?new he(this,e,void 0,n):"object"===c()(t)?this.getChannelByMembers(e,t):this.getChannelById(e,t,n)}},{key:"updateUser",value:function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.upsertUsers([t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"partialUpdateUser",value:function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.partialUpdateUsers([t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"upsertUsers",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i,s;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={},r=Ae(t),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=11;break}if(s=i.value,s.id){e.next=8;break}throw Error("User ID is required when updating a user");case 8:n[s.id]=s;case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:return e.next=21,this.post(this.baseURL+"/users",{users:n});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,this,[[2,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"upsertUser",value:function(e){return this.upsertUsers([e])}},{key:"updateUsers",value:function(e){return this.upsertUsers(e)}},{key:"partialUpdateUsers",value:function(){var e=m()(p.a.mark((function e(t){var n,r,i;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ae(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}if(i=r.value,i.id){e.next=7;break}throw Error("User ID is required when updating a user");case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:return e.next=19,this.patch(this.baseURL+"/users",{users:t});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteUser",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/users/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"reactivateUser",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/".concat(t,"/reactivate"),je({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deactivateUser",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/".concat(t,"/deactivate"),je({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"exportUser",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/users/".concat(t,"/export"),je({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"banUser",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return void 0!==(null===n||void 0===n?void 0:n.user_id)&&(n.banned_by_id=n.user_id,delete n.user_id,console.warn("banUser: 'user_id' is deprecated, please consider switching to 'banned_by_id'")),void 0!==(null===n||void 0===n?void 0:n.user)&&(n.banned_by=n.user,delete n.user,console.warn("banUser: 'user' is deprecated, please consider switching to 'banned_by'")),e.next=4,this.post(this.baseURL+"/moderation/ban",je({target_user_id:t},n));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unbanUser",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/moderation/ban",je({target_user_id:t},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"shadowBan",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.banUser(t,je({shadow:!0},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"removeShadowBan",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.unbanUser(t,je({shadow:!0},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"muteUser",value:function(){var e=m()(p.a.mark((function e(t,n){var r,i=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,this.post(this.baseURL+"/moderation/mute",je(je({target_id:t},n?{user_id:n}:{}),r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unmuteUser",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/moderation/unmute",je({target_id:t},n?{user_id:n}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"userMuteStatus",value:function(e){if(!this.user||!this.wsPromise)throw new Error("Make sure to await setUser() first.");for(var t=0;t<this.mutedUsers.length;t+=1)if(this.mutedUsers[t].target.id===e)return!0;return!1}},{key:"flagMessage",value:function(){var e=m()(p.a.mark((function e(t){var n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/flag",je({target_message_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"flagUser",value:function(){var e=m()(p.a.mark((function e(t){var n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/flag",je({target_user_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unflagMessage",value:function(){var e=m()(p.a.mark((function e(t){var n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/unflag",je({target_message_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unflagUser",value:function(){var e=m()(p.a.mark((function e(t){var n,r=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/unflag",je({target_user_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"markAllRead",value:function(){var e=m()(p.a.mark((function e(){var t,n=arguments;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.post(this.baseURL+"/channels/read",je({},t));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createCommand",value:function(e){return this.post(this.baseURL+"/commands",e)}},{key:"getCommand",value:function(e){return this.get(this.baseURL+"/commands/".concat(e))}},{key:"updateCommand",value:function(e,t){return this.put(this.baseURL+"/commands/".concat(e),t)}},{key:"deleteCommand",value:function(e){return this.delete(this.baseURL+"/commands/".concat(e))}},{key:"listCommands",value:function(){return this.get(this.baseURL+"/commands")}},{key:"createChannelType",value:function(e){var t=a()({},{commands:["all"]},e);return this.post(this.baseURL+"/channeltypes",t)}},{key:"getChannelType",value:function(e){return this.get(this.baseURL+"/channeltypes/".concat(e))}},{key:"updateChannelType",value:function(e,t){return this.put(this.baseURL+"/channeltypes/".concat(e),t)}},{key:"deleteChannelType",value:function(e){return this.delete(this.baseURL+"/channeltypes/".concat(e))}},{key:"listChannelTypes",value:function(){return this.get(this.baseURL+"/channeltypes")}},{key:"translateMessage",value:function(){var e=m()(p.a.mark((function e(t,n){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/messages/".concat(t,"/translate"),{language:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"pinMessage",value:function(e,t){var n;if("number"===typeof t){var r=new Date;r.setSeconds(r.getSeconds()+t),n=r.toISOString()}else De(t)?n=t:t instanceof Date&&(n=t.toISOString());return this.updateMessage(je(je({},e),{},{pinned:!0,pin_expires:n}))}},{key:"unpinMessage",value:function(e){return this.updateMessage(je(je({},e),{},{pinned:!1}))}},{key:"updateMessage",value:function(){var e=m()(p.a.mark((function e(t,n){var r,i;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}throw Error("Please specify the message id when calling updateMessage");case 2:return r=a()({},t),delete r.id,i=["command","created_at","html","latest_reactions","own_reactions","reaction_counts","reply_count","type","updated_at","user"],i.forEach((function(e){null!=r[e]&&delete r[e]})),null!=n&&(De(n)?r.user_id=n:r.user={id:n.id}),e.next=9,this.post(this.baseURL+"/messages/".concat(t.id),{message:r});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deleteMessage",value:function(){var e=m()(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},n&&(r={hard:!0}),e.next=4,this.delete(this.baseURL+"/messages/".concat(t),r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getMessage",value:function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/messages/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_userAgent",value:function(){return this.getUserAgent()}},{key:"getUserAgent",value:function(){return this.userAgent||"stream-chat-javascript-client-".concat(this.node?"node":"browser","-","2.12.0")}},{key:"setUserAgent",value:function(e){this.userAgent=e}},{key:"_enrichAxiosOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{params:{},headers:{},config:{}},t=this._getToken();return je({params:je(je({user_id:this.userID},e.params),{},{api_key:this.key,connection_id:this.connectionID}),headers:je({Authorization:t,"stream-auth-type":this.getAuthType(),"x-stream-client":this._userAgent()},e.headers)},e.config)}},{key:"_getToken",value:function(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}},{key:"_startCleaning",value:function(){var e=this;null==this.cleaningIntervalRef&&(this.cleaningIntervalRef=setInterval((function(){for(var t=0,n=Object.values(e.activeChannels);t<n.length;t++){var r=n[t];r.clean()}}),500))}},{key:"verifyWebhook",value:function(e,t){return!!this.secret&&Te(e,this.secret,t)}},{key:"getPermission",value:function(e){return this.get("".concat(this.baseURL,"/custom_permission/").concat(e))}},{key:"createPermission",value:function(e){return this.post("".concat(this.baseURL,"/custom_permission"),je({},e))}},{key:"updatePermission",value:function(e,t){return this.post("".concat(this.baseURL,"/custom_permission/").concat(e),je({},t))}},{key:"deletePermission",value:function(e){return this.delete("".concat(this.baseURL,"/custom_permission/").concat(e))}},{key:"listPermissions",value:function(){return this.get("".concat(this.baseURL,"/custom_permission"))}},{key:"createRole",value:function(e){return this.post("".concat(this.baseURL,"/custom_role"),{name:e})}},{key:"listRoles",value:function(){return this.get("".concat(this.baseURL,"/custom_role"))}},{key:"deleteRole",value:function(e){return this.delete("".concat(this.baseURL,"/custom_role/").concat(e))}},{key:"sync",value:function(e,t){return this.post("".concat(this.baseURL,"/sync"),{channel_cids:e,last_sync_at:t})}},{key:"createBlockList",value:function(e){return this.post("".concat(this.baseURL,"/blocklists"),e)}},{key:"listBlockLists",value:function(){return this.get("".concat(this.baseURL,"/blocklists"))}},{key:"getBlockList",value:function(e){return this.get("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"updateBlockList",value:function(e,t){return this.put("".concat(this.baseURL,"/blocklists/").concat(e),t)}},{key:"deleteBlockList",value:function(e){return this.delete("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"exportChannels",value:function(e){var t={channels:e};return this.post("".concat(this.baseURL,"/export_channels"),t)}},{key:"exportChannel",value:function(e){return this.exportChannels([e])}},{key:"getExportChannelStatus",value:function(e){return this.get("".concat(this.baseURL,"/export_channels/").concat(e))}}],[{key:"getInstance",value:function(e,n,r){return t._instance||(t._instance="string"===typeof n?new t(e,n,r):new t(e,n)),t._instance}}]),t}();_()(Pe,"_instance",void 0);var Le="Allow",Ne="Deny",$e=["*"],qe=["*"],Fe=999,Be=1,Ve=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qe,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Le;y()(this,e),_()(this,"name",void 0),_()(this,"action",void 0),_()(this,"owner",void 0),_()(this,"priority",void 0),_()(this,"resources",void 0),_()(this,"roles",void 0),this.name=t,this.action=a,this.owner=s,this.priority=n,this.resources=r,this.roles=i};new Ve("Allow all",Fe,$e,qe,!1,Le),new Ve("Deny all",Be,$e,qe,!1,Ne)}).call(this,n("b639").Buffer,n("4362"))},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),s=n("825a"),a=n("df75");e.exports=r?Object.defineProperties:function(e,t){s(e);var n,r=a(t),o=r.length,c=0;while(o>c)i.f(e,n=r[c++],t[n]);return e}},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},3934:function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("69f3"),s=n("7dd0"),a="String Iterator",o=i.set,c=i.getterFor(a);s(String,"String",(function(e){o(this,{type:a,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},"3fe3":function(e,t,n){(function(t){var n=null;"undefined"!==typeof WebSocket?n=WebSocket:"undefined"!==typeof MozWebSocket?n=MozWebSocket:"undefined"!==typeof t?n=t.WebSocket||t.MozWebSocket:"undefined"!==typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!==typeof self&&(n=self.WebSocket||self.MozWebSocket),e.exports=n}).call(this,n("c8ba"))},4082:function(e,t,n){n("a4d3");var r=n("f0e4");function i(e,t){if(null==e)return{};var n,i,s=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},"428f":function(e,t,n){var r=n("da84");e.exports=r},"433e":function(e){e.exports=JSON.parse('{"frequent":[{"id":"smile","class":"fas fa-smile cs-react-yellow"},{"id":"smile-wink","class":"fas fa-smile-wink cs-react-yellow"},{"id":"smile-beam","class":"fas fa-smile-beam cs-react-yellow"},{"id":"grin","class":"fas fa-grin cs-react-yellow"},{"id":"grin-alt","class":"fas fa-grin-alt cs-react-yellow"},{"id":"grin-beam","class":"fas fa-grin-beam cs-react-yellow"},{"id":"grin-wink","class":"fas fa-grin-wink cs-react-yellow"},{"id":"laugh","class":"fas fa-laugh cs-react-yellow"},{"id":"grin-squint","class":"fas fa-grin-squint cs-react-yellow"},{"id":"grin-beam-sweat","class":"fas fa-grin-beam-sweat cs-react-yellow"},{"id":"grin-tears","class":"fas fa-grin-tears cs-react-yellow"},{"id":"grin-squint-tears","class":"fas fa-grin-squint-tears cs-react-yellow"},{"id":"grin-tongue-squint","class":"fas fa-grin-tongue-squint cs-react-yellow"},{"id":"grin-tongue-wink","class":"fas fa-grin-tongue-wink cs-react-yellow"},{"id":"angry","class":"fas fa-angry cs-react-yellow"},{"id":"grimace","class":"fas fa-grimace cs-react-yellow"},{"id":"kiss-wink-heart","class":"fas fa-kiss-wink-heart cs-react-yellow"},{"id":"grin-hearts","class":"fas fa-grin-hearts cs-react-yellow"},{"id":"frown","class":"fas fa-frown cs-react-yellow"},{"id":"sad-tear","class":"fas fa-sad-tear cs-react-yellow"},{"id":"check","class":"fas fa-check cs-react-green"},{"id":"check-circle","class":"fas fa-check-circle cs-react-green"},{"id":"times","class":"fas fa-times cs-react-red"},{"id":"fire","class":"fas fa-fire cs-react-yellow"},{"id":"times-circle","class":"fas fa-times-circle cs-react-red"},{"id":"exclamation","class":"fas fa-exclamation cs-react-red"},{"id":"exclamation-circle","class":"fas fa-exclamation-circle cs-react-red"},{"id":"dollar-sign","class":"fas fa-dollar-sign cs-react-green"},{"id":"sack-dollar","class":"fas fa-sack-dollar cs-react-yellow"},{"id":"star","class":"fas fa-star cs-react-yellow"},{"id":"heart","class":"fas fa-heart cs-react-yellow"},{"id":"heart-red","class":"fas fa-heart cs-react-red"},{"id":"heart-broken","class":"fas fa-heart-broken cs-react-yellow"},{"id":"hand-peace","class":"fas fa-hand-peace cs-react-yellow"},{"id":"thumbs-up","class":"fas fa-thumbs-up cs-react-yellow"},{"id":"thumbs-down","class":"fas fa-thumbs-down cs-react-yellow"},{"id":"drum","class":"fas fa-drum cs-react-yellow"},{"id":"medal","class":"fas fa-medal cs-react-yellow"},{"id":"stars","class":"fas fa-stars cs-react-yellow"},{"id":"graduation-cap","class":"fas fa-graduation-cap cs-react-yellow"}],"people":[{"id":"smile","class":"fas fa-smile cs-react-yellow"},{"id":"smile-wink","class":"fas fa-smile-wink cs-react-yellow"},{"id":"smile-beam","class":"fas fa-smile-beam cs-react-yellow"},{"id":"grin","class":"fas fa-grin cs-react-yellow"},{"id":"grin-alt","class":"fas fa-grin-alt cs-react-yellow"},{"id":"grin-beam","class":"fas fa-grin-beam cs-react-yellow"},{"id":"grin-wink","class":"fas fa-grin-wink cs-react-yellow"},{"id":"laugh","class":"fas fa-laugh cs-react-yellow"},{"id":"grin-squint","class":"fas fa-grin-squint cs-react-yellow"},{"id":"grin-beam-sweat","class":"fas fa-grin-beam-sweat cs-react-yellow"},{"id":"grin-tears","class":"fas fa-grin-tears cs-react-yellow"},{"id":"grin-squint-tears","class":"fas fa-grin-squint-tears cs-react-yellow"},{"id":"grin-tongue-squint","class":"fas fa-grin-tongue-squint cs-react-yellow"},{"id":"grin-tongue-wink","class":"fas fa-grin-tongue-wink cs-react-yellow"},{"id":"grin-tongue","class":"fas fa-grin-tongue cs-react-yellow"},{"id":"kiss","class":"fas fa-kiss cs-react-yellow"},{"id":"kiss-wink-heart","class":"fas fa-kiss-wink-heart cs-react-yellow"},{"id":"grin-hearts","class":"fas fa-grin-hearts cs-react-yellow"},{"id":"frown","class":"fas fa-frown cs-react-yellow"},{"id":"sad-tear","class":"fas fa-sad-tear cs-react-yellow"},{"id":"sad-cry","class":"fas fa-sad-cry cs-react-yellow"},{"id":"frown-open","class":"fas fa-frown-open cs-react-yellow"},{"id":"angry","class":"fas fa-angry cs-react-yellow"},{"id":"dizzy","class":"fas fa-dizzy cs-react-yellow"},{"id":"flushed","class":"fas fa-flushed cs-react-yellow"},{"id":"grimace","class":"fas fa-grimace cs-react-yellow"},{"id":"grin-stars","class":"fas fa-grin-stars cs-react-yellow"},{"id":"grin-wink","class":"fas fa-grin-wink cs-react-yellow"},{"id":"laugh","class":"fas fa-laugh cs-react-yellow"},{"id":"laugh-beam","class":"fas fa-laugh-beam cs-react-yellow"},{"id":"laugh-wink","class":"fas fa-laugh-wink cs-react-yellow"},{"id":"meh","class":"fas fa-meh cs-react-yellow"},{"id":"meh-blank","class":"fas fa-meh-blank cs-react-yellow"},{"id":"meh-rolling-eyes","class":"fas fa-meh-rolling-eyes cs-react-yellow"},{"id":"surprise","class":"fas fa-surprise cs-react-yellow"},{"id":"tired","class":"fas fa-tired cs-react-yellow"},{"id":"heart","class":"fas fa-heart cs-react-yellow"},{"id":"heart-red","class":"fas fa-heart cs-react-red"},{"id":"heart-broken","class":"fas fa-heart-broken cs-react-yellow"},{"id":"thumbs-up","class":"fas fa-thumbs-up cs-react-yellow"},{"id":"thumbs-down","class":"fas fa-thumbs-down cs-react-yellow"},{"id":"handshake","class":"fas fa-handshake cs-react-yellow"},{"id":"hands-wash","class":"fas fa-hands-wash cs-react-yellow"},{"id":"hand-point-up","class":"fas fa-hand-point-up cs-react-yellow"},{"id":"hand-point-down","class":"fas fa-hand-point-down cs-react-yellow"},{"id":"hand-peace","class":"fas fa-hand-peace cs-react-yellow"}],"music":[{"id":"music","class":"fas fa-music cs-react-yellow"},{"id":"drum","class":"fas fa-drum cs-react-yellow"},{"id":"headphones-alt","class":"fas fa-headphones-alt cs-react-yellow"},{"id":"guitar-electric","class":"fas fa-guitar-electric cs-react-yellow"},{"id":"guitar","class":"fas fa-guitar cs-react-yellow"},{"id":"drum-steelpan","class":"fas fa-drum-steelpan cs-react-yellow"},{"id":"boombox","class":"fas fa-boombox cs-react-yellow"},{"id":"piano-keyboard","class":"fas fa-piano-keyboard cs-react-yellow"},{"id":"guitars","class":"fas fa-guitars cs-react-yellow"},{"id":"banjo","class":"fas fa-banjo cs-react-yellow"},{"id":"piano","class":"fas fa-piano cs-react-yellow"},{"id":"mandolin","class":"fas fa-mandolin cs-react-yellow"},{"id":"microphone-stand","class":"fas fa-microphone-stand cs-react-yellow"},{"id":"bells","class":"fas fa-bells cs-react-yellow"},{"id":"microphone-alt","class":"fas fa-microphone-alt cs-react-yellow"}],"symbols":[{"id":"check","class":"fas fa-check cs-react-green"},{"id":"check-circle","class":"fas fa-check-circle cs-react-green"},{"id":"times","class":"fas fa-times cs-react-red"},{"id":"fire","class":"fas fa-fire cs-react-orange"},{"id":"times-circle","class":"fas fa-times-circle cs-react-red"},{"id":"exclamation","class":"fas fa-exclamation cs-react-red"},{"id":"exclamation-circle","class":"fas fa-exclamation-circle cs-react-red"},{"id":"dollar-sign","class":"fas fa-dollar-sign cs-react-green"},{"id":"sack-dollar","class":"fas fa-sack-dollar cs-react-yellow"},{"id":"star","class":"fas fa-star cs-react-yellow"},{"id":"stars","class":"fas fa-stars cs-react-yellow"},{"id":"medal","class":"fas fa-medal cs-react-yellow"},{"id":"sword","class":"fas fa-sword cs-react-yellow"},{"id":"beer","class":"fas fa-beer cs-react-yellow"},{"id":"camera-alt","class":"fas fa-camera-alt cs-react-yellow"},{"id":"cloud","class":"fas fa-cloud cs-react-yellow"},{"id":"graduation-cap","class":"fas fa-graduation-cap cs-react-yellow"},{"id":"paper-plane","class":"fas fa-paper-plane cs-react-yellow"}]}')},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"448a":function(e,t,n){var r=n("2236"),i=n("11b0"),s=n("6613"),a=n("0676");function o(e){return r(e)||i(e)||s(e)||a()}e.exports=o,e.exports["default"]=e.exports,e.exports.__esModule=!0},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),s="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),s=n("9bf2"),a=r("unscopables"),o=Array.prototype;void 0==o[a]&&s.f(o,a,{configurable:!0,value:i(null)}),e.exports=function(e){o[a][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),s=n("b622"),a=s("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},"467f":function(e,t,n){"use strict";var r=n("2d83");e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),s=n("b622"),a=s("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[a])?t:i(n)}},4930:function(e,t,n){var r=n("605d"),i=n("2d00"),s=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!s((function(){return!Symbol.sham&&(r?38===i:i>37&&i<41)}))},"498a":function(e,t,n){"use strict";var r=n("23e7"),i=n("58a8").trim,s=n("c8d2");r({target:"String",proto:!0,forced:s("trim")},{trim:function(){return i(this)}})},"4a7b":function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],s=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(s,u),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),r.forEach(o,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var l=i.concat(s).concat(a).concat(o),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,u),n}},"4d63":function(e,t,n){var r=n("83ab"),i=n("da84"),s=n("94ca"),a=n("7156"),o=n("9bf2").f,c=n("241c").f,u=n("44e7"),l=n("ad6d"),f=n("9f7f"),h=n("6eeb"),d=n("d039"),p=n("69f3").set,v=n("2626"),m=n("b622"),g=m("match"),y=i.RegExp,w=y.prototype,b=/a/g,x=/a/g,_=new y(b)!==b,k=f.UNSUPPORTED_Y,C=r&&s("RegExp",!_||k||d((function(){return x[g]=!1,y(b)!=b||y(x)==x||"/a/i"!=y(b,"i")})));if(C){var S=function(e,t){var n,r=this instanceof S,i=u(e),s=void 0===t;if(!r&&i&&e.constructor===S&&s)return e;_?i&&!s&&(e=e.source):e instanceof S&&(s&&(t=l.call(e)),e=e.source),k&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var o=a(_?new y(e,t):y(e,t),r?this:w,S);return k&&n&&p(o,{sticky:n}),o},E=function(e){e in S||o(S,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},O=c(y),T=0;while(O.length>T)E(O[T++]);w.constructor=S,S.prototype=w,h(i,"RegExp",S)}v("RegExp")},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),s=n("23cb"),a=function(e){return function(t,n,a){var o,c=r(t),u=i(c.length),l=s(a,u);if(e&&n!=n){while(u>l)if(o=c[l++],o!=o)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,s=n("1dde"),a=s("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),s=n("9bdd"),a=n("e95a"),o=n("50c4"),c=n("8418"),u=n("35a1");e.exports=function(e){var t,n,l,f,h,d,p=i(e),v="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,y=void 0!==g,w=u(p),b=0;if(y&&(g=r(g,m>2?arguments[2]:void 0,2)),void 0==w||v==Array&&a(w))for(t=o(p.length),n=new v(t);t>b;b++)d=y?g(p[b],b):p[b],c(n,b,d);else for(f=w.call(p),h=f.next,n=new v;!(l=h.call(f)).done;b++)d=y?s(f,g,[l.value,b],!0):l.value,c(n,b,d);return n.length=b,n}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5270:function(e,t,n){"use strict";var r=n("c532"),i=n("c401"),s=n("2e67"),a=n("2444");function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){o(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return o(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(o(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5319:function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),s=n("50c4"),a=n("a691"),o=n("1d80"),c=n("8aa5"),u=n("0cb2"),l=n("14c3"),f=Math.max,h=Math.min,d=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var p=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,m=p?"$":"$0";return[function(n,r){var i=o(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!p&&v||"string"===typeof r&&-1===r.indexOf(m)){var o=n(t,e,this,r);if(o.done)return o.value}var g=i(e),y=String(this),w="function"===typeof r;w||(r=String(r));var b=g.global;if(b){var x=g.unicode;g.lastIndex=0}var _=[];while(1){var k=l(g,y);if(null===k)break;if(_.push(k),!b)break;var C=String(k[0]);""===C&&(g.lastIndex=c(y,s(g.lastIndex),x))}for(var S="",E=0,O=0;O<_.length;O++){k=_[O];for(var T=String(k[0]),M=f(h(a(k.index),y.length),0),A=[],R=1;R<k.length;R++)A.push(d(k[R]));var U=k.groups;if(w){var I=[T].concat(A,M,y);void 0!==U&&I.push(U);var j=String(r.apply(void 0,I))}else j=u(T,y,M,A,U,r);M>=E&&(S+=y.slice(E,M)+j,E=M+T.length)}return S+y.slice(E)}]}))},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.10.0",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),s=n("7418"),a=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=s.f;return n?t.concat(n(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),i=n("5899"),s="["+i+"]",a=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),c=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5a43":function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"5bc3":function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5f02":function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),s=n("df75"),a=n("7418"),o=n("d1e7"),c=n("7b0b"),u=n("44ad"),l=Object.assign,f=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||s(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,f=a.f,h=o.f;while(i>l){var d,p=u(arguments[l++]),v=f?s(p).concat(f(p)):s(p),m=v.length,g=0;while(m>g)d=v[g++],r&&!h.call(p,d)||(n[d]=p[d])}return n}:l},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),s=function(e){return function(t,n){var s,a,o=String(i(t)),c=r(n),u=o.length;return c<0||c>=u?e?"":void 0:(s=o.charCodeAt(c),s<55296||s>56319||c+1===u||(a=o.charCodeAt(c+1))<56320||a>57343?e?o.charAt(c):s:e?o.slice(c,c+2):a-56320+(s-55296<<10)+65536)}};e.exports={codeAt:s(!1),charAt:s(!0)}},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),s=n("b622"),a=s("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},6613:function(e,t,n){n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var r=n("5a43");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},"69f3":function(e,t,n){var r,i,s,a=n("7f9a"),o=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),f=n("c6cd"),h=n("f772"),d=n("d012"),p=o.WeakMap,v=function(e){return s(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var g=f.state||(f.state=new p),y=g.get,w=g.has,b=g.set;r=function(e,t){return t.facade=e,b.call(g,e,t),t},i=function(e){return y.call(g,e)||{}},s=function(e){return w.call(g,e)}}else{var x=h("state");d[x]=!0,r=function(e,t){return t.facade=e,u(e,x,t),t},i=function(e){return l(e,x)?e[x]:{}},s=function(e){return l(e,x)}}e.exports={set:r,get:i,has:s,enforce:v,getterFor:m}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),s=n("5135"),a=n("ce4e"),o=n("8925"),c=n("69f3"),u=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,o){var c,u=!!o&&!!o.unsafe,h=!!o&&!!o.enumerable,d=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof t||s(n,"name")||i(n,"name",t),c=l(n),c.source||(c.source=f.join("string"==typeof t?t:""))),e!==r?(u?!d&&e[t]&&(h=!0):delete e[t],h?e[t]=n:i(e,t,n)):h?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||o(this)}))},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),s=n("fc6a"),a=n("d1e7").f,o=function(e){return function(t){var n,o=s(t),c=i(o),u=c.length,l=0,f=[];while(u>l)n=c[l++],r&&!a.call(o,n)||f.push(e?[n,o[n]]:o[n]);return f}};e.exports={entries:o(!0),values:o(!1)}},7037:function(e,t,n){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),r(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("e260"),n("ddb0"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},7156:function(e,t,n){var r=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var s,a;return i&&"function"==typeof(s=t.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&i(e,a),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),s=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:s.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a77":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7aac":function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,s,a){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(i)&&o.push("path="+i),r.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),s=n("37e8"),a=n("7839"),o=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),f=">",h="<",d="prototype",p="script",v=l("IE_PROTO"),m=function(){},g=function(e){return h+p+f+e+h+"/"+p+f},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},w=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=r?y(r):w();var e=a.length;while(e--)delete b[d][a[e]];return b()};o[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[d]=i(e),n=new m,m[d]=null,n[v]=e):n=b(),void 0===t?n:s(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),s=n("e163"),a=n("d2bb"),o=n("d44e"),c=n("9112"),u=n("6eeb"),l=n("b622"),f=n("c430"),h=n("3f8c"),d=n("ae93"),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g="keys",y="values",w="entries",b=function(){return this};e.exports=function(e,t,n,l,d,x,_){i(n,t,l);var k,C,S,E=function(e){if(e===d&&R)return R;if(!v&&e in M)return M[e];switch(e){case g:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case w:return function(){return new n(this,e)}}return function(){return new n(this)}},O=t+" Iterator",T=!1,M=e.prototype,A=M[m]||M["@@iterator"]||d&&M[d],R=!v&&A||E(d),U="Array"==t&&M.entries||A;if(U&&(k=s(U.call(new e)),p!==Object.prototype&&k.next&&(f||s(k)===p||(a?a(k,p):"function"!=typeof k[m]&&c(k,m,b)),o(k,O,!0,!0),f&&(h[O]=b))),d==y&&A&&A.name!==y&&(T=!0,R=function(){return A.call(this)}),f&&!_||M[m]===R||c(M,m,R),h[t]=R,d)if(C={values:E(y),keys:x?R:E(g),entries:E(w)},_)for(S in C)(v||T||!(S in M))&&u(M,S,C[S]);else r({target:t,proto:!0,forced:v||T},C);return C}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),s=r.WeakMap;e.exports="function"===typeof s&&/native code/.test(i(s))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,n){"use strict";var r=n("d925"),i=n("e683");e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),s=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,s(0,n)):e[a]=n}},"841c":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),s=n("1d80"),a=n("129f"),o=n("14c3");r("search",1,(function(e,t,n){return[function(t){var n=s(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var s=i(e),c=String(this),u=s.lastIndex;a(u,0)||(s.lastIndex=0);var l=o(s,c);return a(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]}))},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8875:function(e,t,n){var r,i,s;(function(n,a){i=[],r=a,s="function"===typeof r?r.apply(t,i):r,void 0===s||(e.exports=s)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var n,r,i,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,o=s.exec(d.stack)||a.exec(d.stack),c=o&&o[1]||!1,u=o&&o[2]||!1,l=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");c===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var h=0;h<f.length;h++){if("interactive"===f[h].readyState)return f[h];if(f[h].src===c)return f[h];if(c===l&&f[h].innerHTML&&f[h].innerHTML.trim()===i)return f[h]}return null}}return e}))},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8df4":function(e,t,n){"use strict";var r=n("7a77");function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),s=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,c=(1<<o)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=256*s+e[t+f],f+=h,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===s)s=1-u;else{if(s===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),s-=u}return(d?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var a,o,c,u=8*s-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+f>=1?h/c:h*Math.pow(2,1-f),t*c>=2&&(a++,c/=2),a+f>=l?(o=0,a=l):a+f>=1?(o=(t*c-1)*Math.pow(2,i),a+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&o,d+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*v}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),s=n("5692"),a=RegExp.prototype.exec,o=s("native-string-replace",String.prototype.replace),c=a,u=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,f=void 0!==/()??/.exec("")[1],h=u||f||l;h&&(c=function(e){var t,n,i,s,c=this,h=l&&c.sticky,d=r.call(c),p=c.source,v=0,m=e;return h&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),m=String(e).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==e[c.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,v++),n=new RegExp("^(?:"+p+")",d)),f&&(n=new RegExp("^"+p+"$(?!\\s)",d)),u&&(t=c.lastIndex),i=a.call(h?n:c,m),h?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:u&&i&&(c.lastIndex=c.global?i.index+i[0].length:t),f&&i&&i.length>1&&o.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=c},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,s=function(e,t){var n=o[a(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},o=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},9523:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(U){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,s=Object.create(i.prototype),a=new M(r||[]);return s._invoke=S(e,n,a),s}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(U){return{type:"throw",arg:U}}}e.wrap=u;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var w={};w[s]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(A([])));x&&x!==n&&r.call(x,s)&&(w=x);var _=y.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,s,a,o){var c=l(e[i],e,s);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,o)}))}o(c.arg)}var i;function s(e,r){function s(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(s,s):s()}this._invoke=s}function S(e,t,n){var r=f;return function(i,s){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw s;return R()}n.method=i,n.arg=s;while(1){var a=n.delegate;if(a){var o=E(a,n);if(o){if(o===v)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var n=e[s];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=_.constructor=y,y.constructor=g,g.displayName=c(y,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(C.prototype),C.prototype[a]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var a=new C(u(t,n,r,i),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),c(_,o,"Generator"),_[s]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return o.type="throw",o.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"970b":function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),s=n("e8b5"),a=n("861d"),o=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),f=n("1dde"),h=n("b622"),d=n("2d00"),p=h("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",g=d>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=f("concat"),w=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)},b=!g||!y;r({target:"Array",proto:!0,forced:b},{concat:function(e){var t,n,r,i,s,a=o(this),f=l(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(s=-1===t?a:arguments[t],w(s)){if(i=c(s.length),h+i>v)throw TypeError(m);for(n=0;n<i;n++,h++)n in s&&u(f,h,s[n])}else{if(h>=v)throw TypeError(m);u(f,h++,s)}return f.length=h,f}})},"9b42":function(e,t,n){function r(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,s=c}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw s}}return n}}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("e260"),n("ddb0"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"9bdd":function(e,t,n){var r=n("825a"),i=n("2a62");e.exports=function(e,t,n,s){try{return s?t(r(n)[0],n[1]):t(n)}catch(a){throw i(e),a}}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),s=n("825a"),a=n("c04e"),o=Object.defineProperty;t.f=r?o:function(e,t,n){if(s(e),t=a(t,!0),s(n),i)try{return o(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),s=n("5c6c"),a=n("d44e"),o=n("3f8c"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:s(1,n)}),a(e,u,!1,!0),o[u]=c,e}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("44ad"),s=n("fc6a"),a=n("a640"),o=[].join,c=i!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return o.call(s(this),void 0===e?",":e)}})},a34a:function(e,t,n){e.exports=n("96cf")},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),s=n("a691"),a=n("50c4"),o=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),f=l("splice"),h=Math.max,d=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,l,f,m,g,y=o(this),w=a(y.length),b=i(e,w),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=w-b):(n=x-2,r=d(h(s(t),0),w-b)),w+n-r>p)throw TypeError(v);for(l=c(y,r),f=0;f<r;f++)m=b+f,m in y&&u(l,f,y[m]);if(l.length=r,n<r){for(f=b;f<w-r;f++)m=f+r,g=f+n,m in y?y[g]=y[m]:delete y[g];for(f=w;f>w-r+n;f--)delete y[f-1]}else if(n>r)for(f=w-r;f>b;f--)m=f+r-1,g=f+n-1,m in y?y[g]=y[m]:delete y[g];for(f=0;f<n;f++)y[f+b]=arguments[f+2];return y.length=w-r+n,l}})},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),s=n("d066"),a=n("c430"),o=n("83ab"),c=n("4930"),u=n("fdbf"),l=n("d039"),f=n("5135"),h=n("e8b5"),d=n("861d"),p=n("825a"),v=n("7b0b"),m=n("fc6a"),g=n("c04e"),y=n("5c6c"),w=n("7c73"),b=n("df75"),x=n("241c"),_=n("057f"),k=n("7418"),C=n("06cf"),S=n("9bf2"),E=n("d1e7"),O=n("9112"),T=n("6eeb"),M=n("5692"),A=n("f772"),R=n("d012"),U=n("90e3"),I=n("b622"),j=n("e538"),D=n("746f"),P=n("d44e"),L=n("69f3"),N=n("b727").forEach,$=A("hidden"),q="Symbol",F="prototype",B=I("toPrimitive"),V=L.set,z=L.getterFor(q),H=Object[F],Z=i.Symbol,W=s("JSON","stringify"),Y=C.f,J=S.f,G=_.f,Q=E.f,K=M("symbols"),X=M("op-symbols"),ee=M("string-to-symbol-registry"),te=M("symbol-to-string-registry"),ne=M("wks"),re=i.QObject,ie=!re||!re[F]||!re[F].findChild,se=o&&l((function(){return 7!=w(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(H,t);r&&delete H[t],J(e,t,n),r&&e!==H&&J(H,t,r)}:J,ae=function(e,t){var n=K[e]=w(Z[F]);return V(n,{type:q,tag:e,description:t}),o||(n.description=t),n},oe=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Z},ce=function(e,t,n){e===H&&ce(X,t,n),p(e);var r=g(t,!0);return p(n),f(K,r)?(n.enumerable?(f(e,$)&&e[$][r]&&(e[$][r]=!1),n=w(n,{enumerable:y(0,!1)})):(f(e,$)||J(e,$,y(1,{})),e[$][r]=!0),se(e,r,n)):J(e,r,n)},ue=function(e,t){p(e);var n=m(t),r=b(n).concat(pe(n));return N(r,(function(t){o&&!fe.call(n,t)||ce(e,t,n[t])})),e},le=function(e,t){return void 0===t?w(e):ue(w(e),t)},fe=function(e){var t=g(e,!0),n=Q.call(this,t);return!(this===H&&f(K,t)&&!f(X,t))&&(!(n||!f(this,t)||!f(K,t)||f(this,$)&&this[$][t])||n)},he=function(e,t){var n=m(e),r=g(t,!0);if(n!==H||!f(K,r)||f(X,r)){var i=Y(n,r);return!i||!f(K,r)||f(n,$)&&n[$][r]||(i.enumerable=!0),i}},de=function(e){var t=G(m(e)),n=[];return N(t,(function(e){f(K,e)||f(R,e)||n.push(e)})),n},pe=function(e){var t=e===H,n=G(t?X:m(e)),r=[];return N(n,(function(e){!f(K,e)||t&&!f(H,e)||r.push(K[e])})),r};if(c||(Z=function(){if(this instanceof Z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=U(e),n=function(e){this===H&&n.call(X,e),f(this,$)&&f(this[$],t)&&(this[$][t]=!1),se(this,t,y(1,e))};return o&&ie&&se(H,t,{configurable:!0,set:n}),ae(t,e)},T(Z[F],"toString",(function(){return z(this).tag})),T(Z,"withoutSetter",(function(e){return ae(U(e),e)})),E.f=fe,S.f=ce,C.f=he,x.f=_.f=de,k.f=pe,j.f=function(e){return ae(I(e),e)},o&&(J(Z[F],"description",{configurable:!0,get:function(){return z(this).description}}),a||T(H,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Z}),N(b(ne),(function(e){D(e)})),r({target:q,stat:!0,forced:!c},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=Z(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!o},{create:le,defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:he}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:l((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(v(e))}}),W){var ve=!c||l((function(){var e=Z();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));r({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,n){var r,i=[e],s=1;while(arguments.length>s)i.push(arguments[s++]);if(r=t,(d(t)||void 0!==e)&&!oe(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!oe(t))return t}),i[1]=t,W.apply(null,i)}})}Z[F][B]||O(Z[F],B,Z[F].valueOf),P(Z,q),R[$]=!0},a559:function(e,t,n){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports["default"]=e.exports,e.exports.__esModule=!0,r.apply(this,arguments)}n("cca6"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),s=n("1c7e"),a=!s((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae93:function(e,t,n){"use strict";var r,i,s,a=n("d039"),o=n("e163"),c=n("9112"),u=n("5135"),l=n("b622"),f=n("c430"),h=l("iterator"),d=!1,p=function(){return this};[].keys&&(s=[].keys(),"next"in s?(i=o(o(s)),i!==Object.prototype&&(r=i)):d=!0);var v=void 0==r||a((function(){var e={};return r[h].call(e)!==e}));v&&(r={}),f&&!v||u(r,h)||c(r,h,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,s=Function.prototype,a=s.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in s)&&i(s,c,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(e){return""}}})},b50d:function(e,t,n){"use strict";var r=n("c532"),i=n("467f"),s=n("7aac"),a=n("30b5"),o=n("83b9"),c=n("c345"),u=n("3934"),l=n("2d83");e.exports=function(e){return new Promise((function(t,n){var f=e.data,h=e.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+v)}var m=o(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,s=e.responseType&&"text"!==e.responseType?d.response:d.responseText,a={data:s,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,a),d=null}},d.onabort=function(){d&&(n(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||u(m))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;g&&(h[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(h,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(y){if("json"!==e.responseType)throw y}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),f||(f=null),d.send(f)}))}},b575:function(e,t,n){var r,i,s,a,o,c,u,l,f=n("da84"),h=n("06cf").f,d=n("2cf4").set,p=n("1cdc"),v=n("a4b4"),m=n("605d"),g=f.MutationObserver||f.WebKitMutationObserver,y=f.document,w=f.process,b=f.Promise,x=h(f,"queueMicrotask"),_=x&&x.value;_||(r=function(){var e,t;m&&(e=w.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?a():s=void 0,n}}s=void 0,e&&e.enter()},p||m||v||!g||!y?b&&b.resolve?(u=b.resolve(void 0),l=u.then,a=function(){l.call(u,r)}):a=m?function(){w.nextTick(r)}:function(){d.call(f,r)}:(o=!0,c=y.createTextNode(""),new g(r).observe(c,{characterData:!0}),a=function(){c.data=o=!o})),e.exports=_||function(e){var t={fn:e,next:void 0};s&&(s.next=t),i||(i=t,a()),s=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),s=n("5135"),a=n("90e3"),o=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){return s(u,e)&&(o||"string"==typeof u[e])||(o&&s(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),s=n("e3db");function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,n,r):"string"===typeof t?p(e,t,n):g(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,n,r){return f(t),t<=0?c(e,t):void 0!==n?"string"===typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}function d(e,t){if(f(t),e=c(e,t<0?0:0|y(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(t,n);e=c(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function v(e,t){var n=t.length<0?0:0|y(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function m(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=v(e,t),e}function g(e,t){if(u.isBuffer(t)){var n=0|y(t.length);return e=c(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?c(e,0):v(e,t);if("Buffer"===t.type&&s(t.data))return v(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function w(e){return+e!=e&&(e=0),u.alloc(+e)}function b(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(r)return G(e).length;t=(""+t).toLowerCase(),r=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return U(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function k(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){var s,a=1,o=e.length,c=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(s=n;s<o;s++)if(u(e,s)===u(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*a}else-1!==l&&(s-=s-l),l=-1}else for(n+c>o&&(n=o-c),s=n;s>=0;s--){for(var f=!0,h=0;h<c;h++)if(u(e,s+h)!==u(t,h)){f=!1;break}if(f)return s}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[n+a]=o}return a}function E(e,t,n,r){return ee(G(t,e.length-n),e,n,r)}function O(e,t,n,r){return ee(Q(t),e,n,r)}function T(e,t,n,r){return O(e,t,n,r)}function M(e,t,n,r){return ee(X(t),e,n,r)}function A(e,t,n,r){return ee(K(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function U(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var s,a,o,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:s=e[i+1],128===(192&s)&&(c=(31&u)<<6|63&s,c>127&&(l=c));break;case 3:s=e[i+1],a=e[i+2],128===(192&s)&&128===(192&a)&&(c=(15&u)<<12|(63&s)<<6|63&a,c>2047&&(c<55296||c>57343)&&(l=c));break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],128===(192&s)&&128===(192&a)&&128===(192&o)&&(c=(15&u)<<18|(63&s)<<12|(63&a)<<6|63&o,c>65535&&c<1114112&&(l=c))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return j(r)}t.Buffer=u,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return h(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?U(this,0,e):x.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,o=Math.min(s,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<o;++f)if(c[f]!==l[f]){s=c[f],a=l[f];break}return s<a?-1:a<s?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return k(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return k(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return O(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return M(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function j(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function L(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=J(e[s]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function $(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function q(e,t,n,r,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function V(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,s){return s||V(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,s){return s||V(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);var r=this[e],i=1,s=0;while(++s<t&&(i*=256))r+=this[e+s]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||$(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||$(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||$(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||$(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);var r=this[e],i=1,s=0;while(++s<t&&(i*=256))r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);var r=t,i=1,s=this[e+--r];while(r>0&&(i*=256))s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return t||$(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||$(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||$(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||$(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||$(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||$(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||$(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;q(this,e,t,n,i,0)}var s=1,a=0;this[t]=255&e;while(++a<n&&(s*=256))this[t+a]=e/s&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;q(this,e,t,n,i,0)}var s=n-1,a=1;this[t+s]=255&e;while(--s>=0&&(a*=256))this[t+s]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);q(this,e,t,n,i-1,-i)}var s=0,a=1,o=0;this[t]=255&e;while(++s<n&&(a*=256))e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);q(this,e,t,n,i-1,-i)}var s=n-1,a=1,o=0;this[t+s]=255&e;while(--s>=0&&(a*=256))e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=u.isBuffer(e)?e:G(new u(e,r).toString()),o=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%o]}return this};var Z=/[^+\/0-9A-Za-z-_]/g;function W(e){if(e=Y(e).replace(Z,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function J(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,s=[],a=0;a<e.length;++a){if((t-=2)<0)break;n=e.charCodeAt(a),r=n>>8,i=n%256,s.push(i),s.push(r)}return s}function X(e){return r.toByteArray(W(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),s=n("df75"),a=n("d039"),o=a((function(){s(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(e){return s(i(e))}})},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),s=n("7b0b"),a=n("50c4"),o=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,f=6==e,h=7==e,d=5==e||f;return function(p,v,m,g){for(var y,w,b=s(p),x=i(b),_=r(v,m,3),k=a(x.length),C=0,S=g||o,E=t?S(p,k):n||h?S(p,0):void 0;k>C;C++)if((d||C in x)&&(y=x[C],w=_(y,C,b),e))if(t)E[C]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return C;case 2:c.call(E,y)}else switch(e){case 4:return!1;case 7:c.call(E,y)}return f?-1:u||l?l:E}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},bc3a:function(e,t,n){e.exports=n("cee4")},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c135:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},c240:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},c345:function(e,t,n){"use strict";var r=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,a={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},c401:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},c430:function(e,t){e.exports=!1},c532:function(e,t,n){"use strict";var r=n("1d2b"),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function o(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return"undefined"!==typeof FormData&&e instanceof FormData}function l(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function f(e){return"string"===typeof e}function h(e){return"number"===typeof e}function d(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function v(e){return"[object Date]"===i.call(e)}function m(e){return"[object File]"===i.call(e)}function g(e){return"[object Blob]"===i.call(e)}function y(e){return"[object Function]"===i.call(e)}function w(e){return d(e)&&y(e.pipe)}function b(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function x(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function C(){var e={};function t(t,n){p(e[n])&&p(t)?e[n]=C(e[n],t):p(t)?e[n]=C({},t):s(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)k(arguments[n],t);return e}function S(e,t,n){return k(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e}function E(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:s,isArrayBuffer:c,isBuffer:o,isFormData:u,isArrayBufferView:l,isString:f,isNumber:h,isObject:d,isPlainObject:p,isUndefined:a,isDate:v,isFile:m,isBlob:g,isFunction:y,isStream:w,isURLSearchParams:b,isStandardBrowserEnv:_,forEach:k,merge:C,extend:S,trim:x,stripBOM:E}},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),s="__core-js_shared__",a=r[s]||i(s,{});e.exports=a},c8af:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c8d2:function(e,t,n){var r=n("d039"),i=n("5899"),s="";e.exports=function(e){return r((function(){return!!i[e]()||s[e]()!=s||i[e].name!==e}))}},c973:function(e,t,n){function r(e,t,n,r,i,s,a){try{var o=e[s](a),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var a=e.apply(t,n);function o(e){r(a,i,s,o,c,"next",e)}function c(e){r(a,i,s,o,c,"throw",e)}o(void 0)}))}}n("e6cf"),n("d3b7"),e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),s=n("4d64").indexOf,a=n("d012");e.exports=function(e,t){var n,o=i(e),c=0,u=[];for(n in o)!r(a,n)&&r(o,n)&&u.push(n);while(t.length>c)r(o,n=t[c++])&&(~s(u,n)||u.push(n));return u}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,s=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),s=r.document,a=i(s)&&i(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),s=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=s.f(e),a=n.resolve;return a(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},cee4:function(e,t,n){"use strict";var r=n("c532"),i=n("1d2b"),s=n("0a06"),a=n("4a7b"),o=n("2444");function c(e){var t=new s(e),n=i(s.prototype.request,t);return r.extend(n,s.prototype,t),r.extend(n,t),n}var u=c(o);u.Axios=s,u.create=function(e){return c(a(u.defaults,e))},u.Cancel=n("7a77"),u.CancelToken=n("8df4"),u.isCancel=n("2e67"),u.all=function(e){return Promise.all(e)},u.spread=n("0df6"),u.isAxiosError=n("5f02"),e.exports=u,e.exports.default=u},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e])||s(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!r.call({1:2},1);t.f=s?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(s){}return function(n,s){return r(n),i(s),t?e.call(n,s):n.__proto__=s,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),s=n("b041");r||i(Object.prototype,"toString",s,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),s=n("b622"),a=s("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),s=n("44ad"),a=n("50c4"),o=function(e){return function(t,n,o,c){r(n);var u=i(t),l=s(u),f=a(u.length),h=e?f-1:0,d=e?-1:1;if(o<2)while(1){if(h in l){c=l[h],h+=d;break}if(h+=d,e?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=d)h in l&&(c=n(c,l[h],h,u));return c}};e.exports={left:o(!1),right:o(!0)}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),s=n("b622"),a=n("9263"),o=n("9112"),c=s("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=s("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var p=s(e),v=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),m=v&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!v||!m||"replace"===e&&(!u||!l||h)||"split"===e&&!d){var g=/./[p],y=n(p,""[e],(function(e,t,n,r,i){return t.exec===a?v&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),w=y[0],b=y[1];r(String.prototype,e,w),r(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}f&&o(RegExp.prototype[p],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,s=n("1dde"),a=s("map");r({target:"Array",proto:!0,forced:!a},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),s=n("56ef"),a=n("fc6a"),o=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=a(e),i=o.f,u=s(r),l={},f=0;while(u.length>f)n=i(r,t=u[f++]),void 0!==n&&c(l,t,n);return l}})},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),s=n("e260"),a=n("9112"),o=n("b622"),c=o("iterator"),u=o("toStringTag"),l=s.values;for(var f in i){var h=r[f],d=h&&h.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(v){d[c]=l}if(d[u]||a(d,u,f),i[f])for(var p in s)if(d[p]!==s[p])try{a(d,p,s[p])}catch(v){d[p]=s[p]}}}},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var a=s>=0?arguments[s]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===s(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),s=r(n.split("/")),a=Math.min(i.length,s.length),o=a,c=0;c<a;c++)if(i[c]!==s[c]){o=c;break}var u=[];for(c=o;c<i.length;c++)u.push("..");return u=u.concat(s.slice(o)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),47===t){if(!i){r=s;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,s=0,a=e.length-1;a>=0;--a){var o=e.charCodeAt(a);if(47!==o)-1===r&&(i=!1,r=a+1),46===o?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===s||1===s&&t===r-1&&t===n+1?"":e.slice(t,r)};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),s=n("da84"),a=n("5135"),o=n("861d"),c=n("9bf2").f,u=n("e893"),l=s.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};u(h,l);var d=h.prototype=l.prototype;d.constructor=h;var p=d.toString,v="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=p.call(e);if(a(f,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),s=n("f772"),a=n("e177"),o=s("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),s=n("3f8c"),a=n("69f3"),o=n("7dd0"),c="Array Iterator",u=a.set,l=a.getterFor(c);e.exports=o(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),s=n("fc6a"),a=n("06cf").f,o=n("83ab"),c=i((function(){a(1)})),u=!o||c;r({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a(s(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},e556:function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e6cf:function(e,t,n){"use strict";var r,i,s,a,o=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),f=n("fea9"),h=n("6eeb"),d=n("e2cc"),p=n("d44e"),v=n("2626"),m=n("861d"),g=n("1c0b"),y=n("19aa"),w=n("8925"),b=n("2266"),x=n("1c7e"),_=n("4840"),k=n("2cf4").set,C=n("b575"),S=n("cdf9"),E=n("44de"),O=n("f069"),T=n("e667"),M=n("69f3"),A=n("94ca"),R=n("b622"),U=n("605d"),I=n("2d00"),j=R("species"),D="Promise",P=M.get,L=M.set,N=M.getterFor(D),$=f,q=u.TypeError,F=u.document,B=u.process,V=l("fetch"),z=O.f,H=z,Z=!!(F&&F.createEvent&&u.dispatchEvent),W="function"==typeof PromiseRejectionEvent,Y="unhandledrejection",J="rejectionhandled",G=0,Q=1,K=2,X=1,ee=2,te=A(D,(function(){var e=w($)!==String($);if(!e){if(66===I)return!0;if(!U&&!W)return!0}if(c&&!$.prototype["finally"])return!0;if(I>=51&&/native code/.test($))return!1;var t=$.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[j]=n,!(t.then((function(){}))instanceof n)})),ne=te||!x((function(e){$.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;C((function(){var r=e.value,i=e.state==Q,s=0;while(n.length>s){var a,o,c,u=n[s++],l=i?u.ok:u.fail,f=u.resolve,h=u.reject,d=u.domain;try{l?(i||(e.rejection===ee&&ce(e),e.rejection=X),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),c=!0)),a===u.promise?h(q("Promise-chain cycle")):(o=re(a))?o.call(a,f,h):f(a)):h(r)}catch(p){d&&!c&&d.exit(),h(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ae(e)}))}},se=function(e,t,n){var r,i;Z?(r=F.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!W&&(i=u["on"+e])?i(r):e===Y&&E("Unhandled promise rejection",n)},ae=function(e){k.call(u,(function(){var t,n=e.facade,r=e.value,i=oe(e);if(i&&(t=T((function(){U?B.emit("unhandledRejection",r,n):se(Y,n,r)})),e.rejection=U||oe(e)?ee:X,t.error))throw t.value}))},oe=function(e){return e.rejection!==X&&!e.parent},ce=function(e){k.call(u,(function(){var t=e.facade;U?B.emit("rejectionHandled",t):se(J,t,e.value)}))},ue=function(e,t,n){return function(r){e(t,r,n)}},le=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=K,ie(e,!0))},fe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw q("Promise can't be resolved itself");var r=re(t);r?C((function(){var n={done:!1};try{r.call(t,ue(fe,n,e),ue(le,n,e))}catch(i){le(n,i,e)}})):(e.value=t,e.state=Q,ie(e,!1))}catch(i){le({done:!1},i,e)}}};te&&($=function(e){y(this,$,D),g(e),r.call(this);var t=P(this);try{e(ue(fe,t),ue(le,t))}catch(n){le(t,n)}},r=function(e){L(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:G,value:void 0})},r.prototype=d($.prototype,{then:function(e,t){var n=N(this),r=z(_(this,$));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=U?B.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=G&&ie(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=ue(fe,t),this.reject=ue(le,t)},O.f=z=function(e){return e===$||e===s?new i(e):H(e)},c||"function"!=typeof f||(a=f.prototype.then,h(f.prototype,"then",(function(e,t){var n=this;return new $((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S($,V.apply(u,arguments))}}))),o({global:!0,wrap:!0,forced:te},{Promise:$}),p($,D,!1,!0),v(D),s=l(D),o({target:D,stat:!0,forced:te},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),o({target:D,stat:!0,forced:c||te},{resolve:function(e){return S(c&&this===s?$:this,e)}}),o({target:D,stat:!0,forced:ne},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,s=T((function(){var n=g(t.resolve),s=[],a=0,o=1;b(e,(function(e){var c=a++,u=!1;s.push(void 0),o++,n.call(t,e).then((function(e){u||(u=!0,s[c]=e,--o||r(s))}),i)})),--o||r(s)}));return s.error&&i(s.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=T((function(){var i=g(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),s=n("06cf"),a=n("9bf2");e.exports=function(e,t){for(var n=i(t),o=a.f,c=s.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||o(e,l,c(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),s=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[s]===e)}},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f0e4:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n("b64b"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),s=n("b622"),a=s("toStringTag"),o="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f6b4:function(e,t,n){"use strict";var r=n("c532");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var s=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(n.p=s[1])}n("159b"),n("b64b");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cs-container tw-relative tw-h-full tw-w-full tw-flex tw-flex-col vuesora-override"},[n("div",{staticClass:"cs-top tw-flex-none"},[n("div",{staticClass:"tw-h-full tw-w-full tw-flex tw-flex-row tw-items-center tw-place-content-between"},[n("div",{staticClass:"tw-h-full tw-ml-4 tw-flex tw-flex-row tw-items-end tw-space-x-4 cs-text-sm"},[n("a",{staticClass:"tw-no-underline tw-px-3 tw-border-b-2 tw-h-full tw-flex tw-flex-row tw-items-center",class:e.getTabClasses("chat"),attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setCurrentTab("chat")}}},[e._v("Chat")]),n("a",{staticClass:"tw-no-underline tw-px-3 tw-border-b-2 tw-h-full tw-flex tw-flex-row tw-items-center",class:e.getTabClasses("questions"),attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setCurrentTab("questions")}}},[e._v("Questions")])]),n("a",{staticClass:"tw-no-underline tw-font-semibold tw-px-4 cs-text-gray tw-border-b-2 tw-border-transparent tw-h-full tw-flex tw-flex-row tw-items-center",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleChatMenu()}}},[n("i",{staticClass:"fas fa-ellipsis-v"})])]),n("div",{staticClass:"tw-relative"},[e.chatMenu?n("div",{staticClass:"cs-top-menu cs-text-sm tw-leading-relaxed tw-absolute tw-right-4 tw-p-3 tw-flex tw-flex-col tw-bg-black tw-rounded-lg tw-text-white tw-z-30"},[e.isAdministrator?n("div",{staticClass:"tw-mb-2 tw-font-semibold tw-cursor-default"},[e._v("Moderation")]):e._e(),n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleShowMembers()}}},[e._v("Participants")]),n("a",{staticClass:"tw-mb-1 tw-text-white tw-no-underline",attrs:{target:"_blank",href:e.embedUrl}},[e._v("Pop Out Chat")]),e.isAdministrator?n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleShowBannedUsers()}}},[e._v("Blocked Students")]):e._e(),"questions"==e.currentTab&&e.isAdministrator?n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeAllQuestions()}}},[e._v("Clear All Questions")]):e._e()]):e._e()])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showThread,expression:"showThread"}],staticClass:"tw-absolute tw-top-0 tw-right-0 tw-left-0 tw-flex tw-flex-col tw-z-40"},[n("div",{staticClass:"cs-top tw-flex-none"},[n("div",{staticClass:"tw-h-full tw-w-full tw-flex tw-flex-row tw-place-items-center tw-justify-between"},[n("a",{staticClass:"tw-ml-3 tw-no-underline tw-text-white",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hideMessageThread()}}},[n("i",{staticClass:"fas fa-arrow-left"}),n("span",{staticClass:"tw-ml-1"},[e._v("Thread")]),n("span",{staticClass:"tw-ml-3"},[e._v(e._s(e.$_reply_count_label))])]),n("div",{staticClass:"tw-mr-3"},[n("i",{staticClass:"fal fa-times tw-text-white tw-font-semibold tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hideMessageThread()}}})])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMembers,expression:"showMembers"}],staticClass:"tw-absolute tw-inset-0 tw-flex tw-flex-col tw-z-40"},[n("div",{staticClass:"cs-top tw-flex-none"},[n("div",{staticClass:"tw-h-full tw-w-full tw-flex tw-flex-row tw-items-center"},[n("a",{staticClass:"tw-ml-3 tw-no-underline tw-text-white",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleShowMembers()}}},[n("i",{staticClass:"fas fa-arrow-left"}),n("span",{staticClass:"tw-ml-1"},[e._v("Participants")])])])]),n("div",{staticClass:"cs-body tw-flex-grow tw-overflow-y-auto"},[n("div",{staticClass:"cs-members-container tw-mt-1 tw-p-3"},e._l(e.$_watchers,(function(e){return n("div",{key:e.id,staticClass:"tw-py-2"},[n("chat-user",{attrs:{user:e}})],1)})),0)]),n("div",{staticClass:"cs-footer tw-flex-none tw-h-8"},[n("div",{staticClass:"tw-h-full tw-flex tw-flex-row tw-items-center tw-px-3"},[n("span",{staticClass:"cs-text-gray tw-text-xs"},[e._v(e._s(e.$_watcher_count)+" Online")])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showBannedUsers,expression:"showBannedUsers"}],staticClass:"tw-absolute tw-inset-0 tw-flex tw-flex-col tw-z-40"},[n("div",{staticClass:"cs-top tw-flex-none"},[n("div",{staticClass:"tw-h-full tw-w-full tw-flex tw-flex-row tw-items-center"},[n("a",{staticClass:"tw-ml-3 tw-no-underline tw-text-white",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleShowBannedUsers()}}},[n("i",{staticClass:"fas fa-arrow-left"}),n("span",{staticClass:"tw-ml-1"},[e._v("Blocked Students")])])])]),n("div",{staticClass:"cs-body tw-flex-grow tw-overflow-y-auto"},[e.fetchingBannedUsers||0==e.$_banned_users_count?n("div",{staticClass:"tw-mt-1 tw-p-3 cs-text-gray"},[e.fetchingBannedUsers?n("span",[e._v("Fetching blocked students information...")]):e._e(),e.fetchingBannedUsers||0!=e.$_banned_users_count?e._e():n("span",[e._v("There are no students blocked from this chat.")])]):e._e(),!e.fetchingBannedUsers&&e.$_banned_users_count>0?n("div",{staticClass:"cs-members-container tw-mt-1 tw-p-3"},e._l(e.bannedUsers,(function(t){return n("div",{key:t.id,staticClass:"tw-py-2"},[n("div",{staticClass:"cs-user tw-p-3 tw-rounded-md"},[n("chat-user",{attrs:{user:t}},[n("div",{staticClass:"tw-flex-grow tw-text-right"},[n("a",{staticClass:"cs-user-unblock tw-text-sm",attrs:{href:"#"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.unblockUser(t)}}},[n("span",[e._v("Unblock")]),n("i",{staticClass:"tw-ml-1 fas fa-times-circle"})])])])],1)])})),0):e._e()]),n("div",{staticClass:"cs-footer tw-flex-none tw-h-8"},[n("div",{staticClass:"tw-h-full tw-flex tw-flex-row tw-items-center tw-px-3"},[n("span",{staticClass:"cs-text-gray tw-text-xs"},[e._v(e._s(e.$_watcher_count)+" Online")])])])]),n("div",{staticClass:"cs-body tw-flex-grow tw-flex tw-flex-col tw-overflow-hidden"},[e.showThread?n("div",{ref:"threadMessages",staticClass:"cs-messages-container tw-pt-4 tw-overflow-y-scroll tw-z-40"},[n("div",{staticClass:"tw-border-b tw-border-gray-600"},[n("div",{staticClass:"tw-my-4"},[n("chat-message",{attrs:{"is-administrator":e.isAdministrator,message:e.messageThread,"user-id":e.userId,"show-upvote":!1,"show-menu":!1,"show-thread":!1}})],1)]),n("div",{staticClass:"cs-messages-container tw-mt-4"},e._l(e.$_message_thread_replies,(function(t){return n("div",{key:t.id},[n("chat-message",{attrs:{"is-administrator":e.isAdministrator,message:t,"user-id":e.userId,"show-upvote":!1,"show-thread":!1}})],1)})),0)]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.$_pinned_messages.length&&"chat"==e.currentTab&&!e.showThread,expression:"$_pinned_messages.length && currentTab == 'chat' && !showThread"}],staticClass:"cs-messages-container cs-fit tw-pt-4 tw-pb-2 tw-z-20"},e._l(e.$_pinned_messages,(function(t){return n("div",{key:t.key},[n("chat-message",{attrs:{"is-administrator":e.isAdministrator,message:t,"user-id":e.userId,"show-upvote":!1,"show-thread":e.enableThread,"dropdown-menu":!0}})],1)})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:"chat"==e.currentTab&&!e.showThread,expression:"currentTab == 'chat' && !showThread"}],ref:"messages",staticClass:"cs-messages-container tw-pt-4 tw-overflow-y-scroll"},[e._l(e.$_messages,(function(t,r){return n("div",{key:t.key},[n("chat-message",{attrs:{"is-administrator":e.isAdministrator,message:t,"user-id":e.userId,"show-upvote":!1,"show-thread":e.enableThread,"dropdown-menu":r<=1}})],1)})),e._l(e.messageErrors,(function(t,r){return n("div",{key:"error-message-"+r,staticClass:"tw-p-3 tw-text-red-400"},[e._v(e._s(t))])}))],2),n("div",{directives:[{name:"show",rawName:"v-show",value:"questions"==e.currentTab&&!e.showThread,expression:"currentTab == 'questions' && !showThread"}],ref:"questions",staticClass:"cs-messages-container tw-pt-4 tw-overflow-y-scroll"},[e._l(e.$_questions,(function(t,r){return n("div",{key:t.key},[n("chat-message",{attrs:{"is-administrator":e.isAdministrator,message:t,"user-id":e.userId,"show-upvote":!0,"show-thread":e.enableThread,"dropdown-menu":r<1}})],1)})),e._l(e.questionErrors,(function(t,r){return n("div",{key:"error-question-"+r,staticClass:"tw-p-3 tw-text-red-400"},[e._v(e._s(t))])}))],2)]),e.showDialog?n("div",{staticClass:"cs-dialog-container tw-absolute tw-inset-0 tw-z-50"},[n("div",{staticClass:"tw-w-full tw-h-full tw-relative"},[n("div",{staticClass:"cs-dialog-overlay tw-absolute tw-inset-0 tw-opacity-100 tw-z-20",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeDialog()}}}),n("div",{staticClass:"tw-w-full tw-h-full tw-flex tw-flex-col tw-place-content-center tw-place-items-center"},[n("div",{staticClass:"cs-dialog-window tw-rounded-lg tw-flex-none tw-bg-black tw-z-30 tw-relative"},[n("div",{staticClass:"tw-absolute tw-top-2 tw-right-3 tw-text-white"},[n("i",{staticClass:"fal fa-times tw-font-semibold tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeDialog()}}})]),null!=e.messageRemove?n("div",{staticClass:"tw-mt-6 tw-mx-8 tw-text-center tw-text-white tw-tracking-tight tw-leading-relaxed"},[e._v("Are you sure you want to delete this message from the chat?")]):e._e(),null!=e.userDeleteMessages?n("div",{staticClass:"tw-mt-6 tw-mx-8 tw-text-center tw-text-white tw-tracking-tight tw-leading-relaxed"},[e._v("Are you sure you want to delete all user's messages from the chat?")]):e._e(),null!=e.questionRemove?n("div",{staticClass:"tw-mt-6 tw-mx-8 tw-text-center tw-text-white tw-tracking-tight tw-leading-relaxed"},[e._v("Are you sure you want to mark this question as answered?")]):e._e(),null!=e.userBlock?n("div",{staticClass:"tw-mt-6 tw-mx-6 tw-text-center tw-text-white tw-tracking-tight tw-leading-relaxed",class:{"tw-pb-2":e.$_short_username}},[e._v("Are you sure you want to block "),n("span",{staticClass:"tw-font-bold"},[e._v(e._s(e.userBlock.displayName))]),e._v(" from this chat?")]):e._e(),n("div",{staticClass:"tw-mt-3 tw-flex tw-flex-row tw-justify-center"},[n("div",{staticClass:"cs-btn tw-cursor-pointer tw-cursor-pointer tw-rounded-full tw-leading-none tw-tracking-normal tw-font-bold focus:tw-outline-none focus:tw-shadow-outline tw-uppercase tw-text-white tw-w-28 tw-flex tw-justify-center",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeDialog(!0)}}},[e._v("confirm")])])])])])]):e._e(),n("chat-emoji",{attrs:{"show-window":e.showEmoji}}),n("div",{staticClass:"cs-new-message-container tw-flex-none box-border"},[n("div",{staticClass:"tw-h-full tw-flex tw-flex-col tw-place-content-between tw-py-2 tw-px-4 tw-relative"},[n("div",{staticClass:"cs-new-message-wrapper tw-rounded"},["chat"==e.currentTab?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"newMessage",staticClass:"tw-resize-none tw-text-sm ",attrs:{placeholder:"Say something...",wrap:"off",rows:"1"},domProps:{value:e.message},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage()},input:function(t){t.target.composing||(e.message=t.target.value)}}}):e._e(),"questions"==e.currentTab?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"question"}],staticClass:"tw-resize-none tw-text-sm",attrs:{placeholder:"Ask a question...",wrap:"off",rows:"1"},domProps:{value:e.question},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendQuestion()},input:function(t){t.target.composing||(e.question=t.target.value)}}}):e._e()]),n("div",{staticClass:"cs-new-message-menu tw-absolute tw-text-lg"},["chat"==e.currentTab?n("a",{staticClass:"cs-text-gray tw-mr-2",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleShowEmoji()}}},[n("i",{staticClass:"fal fa-smile"})]):e._e(),"chat"==e.currentTab?n("a",{staticClass:"cs-text-gray",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.sendMessage()}}},[n("i",{staticClass:"fas fa-arrow-right"})]):e._e(),"questions"==e.currentTab?n("a",{staticClass:"cs-text-gray",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.sendQuestion()}}},[n("i",{staticClass:"fas fa-arrow-right"})]):e._e()]),n("div",[n("span",{staticClass:"cs-text-gray tw-text-xs"},[e._v(e._s(e.$_watcher_count)+" Online")])])])])],1)},o=[];n("a4d3"),n("4de4"),n("e439"),n("dbb4");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){if(Array.isArray(e))return f(e)}n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("e260"),n("ddb0"),n("a630");function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n("fb6a"),n("b0c0");function p(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){return h(e)||d(e)||p(e)||v()}n("498a"),n("841c"),n("ac1f"),n("a434"),n("d81d"),n("13d5"),n("07ac"),n("99af"),n("5319");var g=n("1315"),y=n("36c4"),w=n("bc3a"),b=n.n(w),x={banUser:function(e){return b.a.post("/chat/ban-user",{user_id:e})},unbanUser:function(e){return b.a.post("/chat/unban-user",{user_id:e})},deleteUserMessages:function(e){return b.a.post("/chat/delete-user-messages",{user_id:e})}},_=(n("4d63"),n("25f0"),n("a15b"),n("433e")),k={};for(var C in _)_[C].forEach((function(e){k[":".concat(e.id,":")]=e.class}));var S=[],E=/[[\]{}()*+?.\\|^$\-,&#\s]/g;for(var O in k)k[O]&&S.push("("+O.replace(E,"\\$&")+")");var T={parseEmoji:function(e){return e.replace(new RegExp(S.join("|"),"g"),(function(e){return"undefined"!=typeof k[e]?'<i class="'.concat(k[e],'" title="').concat(e,'"></i>'):e}))},parseUrls:function(e){return e.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z09+&@#/%=~_|])/gim,'<a href="$1">$1</a>')}},M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tw-relative"},[e.showWindow?n("div",{staticClass:"cs-emoji tw-absolute tw-right-0 tw-bottom-4 tw-rounded-md"},[n("div",{staticClass:"cs-emoji-tabs tw-flex tw-flex-row tw-items-center tw-justify-between tw-border-b tw-border-gray-800 tw-text-lg"},[n("div",[n("a",{staticClass:"tw-p-3 tw-cursor-pointer",class:{"cs-text-gray":"frequent"!=e.currentTab,"cs-text-blue":"frequent"==e.currentTab},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setCurrentTab("frequent")}}},[n("i",{staticClass:"fal fa-clock"})]),n("a",{staticClass:"tw-p-3 tw-cursor-pointer",class:{"cs-text-gray":"people"!=e.currentTab,"cs-text-blue":"people"==e.currentTab},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setCurrentTab("people")}}},[n("i",{staticClass:"fal fa-smile"})]),n("a",{staticClass:"tw-p-3 tw-cursor-pointer",class:{"cs-text-gray":"music"!=e.currentTab,"cs-text-blue":"music"==e.currentTab},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setCurrentTab("music")}}},[n("i",{staticClass:"fal fa-music"})]),n("a",{staticClass:"tw-p-3 tw-cursor-pointer",class:{"cs-text-gray":"symbols"!=e.currentTab,"cs-text-blue":"symbols"==e.currentTab},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setCurrentTab("symbols")}}},[n("i",{staticClass:"fal fa-hexagon"})])]),n("a",{staticClass:"tw-p-2 cs-text-gray tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeEmoji()}}},[n("i",{staticClass:"fal fa-backspace"})])]),n("div",{staticClass:"tw-p-3"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"tw-resize-none tw-whitespace-nowrap tw-overflow-x-auto tw-rounded-full tw-text-sm",attrs:{placeholder:"Seach emoji",wrap:"off",rows:"1"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),n("div",[n("div",{staticClass:"tw-px-3 tw-text-white tw-font-semibold"},[e._v(e._s(e.$_current_tab_label))]),n("div",{staticClass:"tw-py-3 tw-px-2 tw-grid tw-grid-cols-10 tw-gap-y-3 tw-text-lg"},e._l(e.$_emoji,(function(t){return n("a",{key:t.id,staticClass:"tw-text-center tw-cursor-pointer",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.insertEmoji(t)}}},[n("i",{class:t.class})])})),0)])]):e._e()])},A=[],R=(n("caad"),n("2532"),{name:"ChatEmoji",props:{showWindow:{type:Boolean,default:function(){return!1}}},data:function(){return{emojiData:{},tabs:{frequent:"Frequently Used",people:"People",music:"Music",symbols:"Symbols"},currentTab:"frequent",search:""}},computed:{$_emoji:{cache:!1,get:function(){var e=this;return this.emojiData[this.currentTab].filter((function(t){return!e.search||t.id.includes(e.search)}))}},$_current_tab_label:{cache:!1,get:function(){return this.tabs[this.currentTab]}}},mounted:function(){this.emojiData=_},methods:{setCurrentTab:function(e){this.currentTab=e},insertEmoji:function(e){var t=e.id;this.$root.$emit("insertEmoji",{emoji:t})},removeEmoji:function(){this.$root.$emit("removeEmoji",{})}}}),U=R;function I(e,t,n,r,i,s,a,o){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=o?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}var j=I(U,M,A,!1,null,null,null),D=j.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cs-message tw-p-3 tw-rounded-md tw-relative tw-top-0",on:{mouseleave:function(t){return e.closeMessageMenus()}}},[e.message.pinned?n("div",{staticClass:"tw-max-w-full"},[n("div",{staticClass:"cs-pin-container"},[n("a",{staticClass:"cs-text-sm cs-text-gray tw-flex tw-flex-row tw-items-center",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unpinMessage()}}},[n("i",{staticClass:"fal fa-thumbtack"}),n("span",{staticClass:"tw-ml-1 leading-none"},[e._v("Pinned")])])])]):e._e(),e.messageEdit.id!=e.message.id&&"system"!=e.message.type?n("div",{staticClass:"tw-flex tw-flex-col tw-max-w-full"},[n("chat-user",{attrs:{user:e.message.user},scopedSlots:e._u([{key:"footer",fn:function(){return[n("div",{staticClass:"tw-whitespace-normal tw-text-sm",domProps:{innerHTML:e._s(e.message.text)}}),e.$_has_reactions||e.showUpvote?n("div",{staticClass:"tw-inline-flex tw-items-center tw-mt-1"},[e.showUpvote?n("div",{staticClass:"cs-upvote tw-cursor-pointer tw-flex tw-flex-row tw-items-center tw-px-3 tw-rounded-full cs-text-xs",class:e.$_message_upvote_class,on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleMessageReaction("upvote")}}},[n("i",{staticClass:"cs-icon fas fa-arrow-up"}),n("span",{staticClass:"cs-reaction-count"},[e._v(e._s(e.$_message_upvote))])]):e._e(),e.$_has_reactions?n("div",{staticClass:"tw-flex tw-flex-row tw-text-gray-500 tw-cursor-pointer"},e._l(e.$_message_reactions,(function(t,r){return n("div",{key:"message-reaction-"+r,staticClass:"tw-flex tw-flex-row tw-place-content-center tw-p-1",attrs:{title:e.getReactionUsers(r)},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleMessageReaction(r)}}},[n("i",{class:e.getReactionClasses(r)}),t>1?n("span",{staticClass:"tw-text-xs tw-text-white tw-ml-1"},[e._v(e._s(t))]):e._e()])})),0):e._e()]):e._e(),e.message.reply_count&&e.showThread?n("div",{staticClass:"tw-inline-flex"},[n("a",{staticClass:"tw-flex tw-flex-row tw-content-end",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.messageThread()}}},[n("div",{staticClass:"tw-transform tw--rotate-180"},[n("i",{staticClass:"fal fa-reply"})]),n("span",{staticClass:"tw-ml-1 tw-text-sm"},[e._v(e._s(e.$_reply_count_label))])])]):e._e()]},proxy:!0}],null,!1,4130756163)}),e.showMenu?n("chat-message-menu",{attrs:{"is-administrator":e.isAdministrator,message:e.message,"message-reactions":e.messageReactions,"user-id":e.userId,"show-thread":e.showThread,"show-upvote":e.showUpvote,"dropdown-menu":e.dropdownMenu}}):e._e()],1):e._e(),e.messageEdit.id==e.message.id?n("div",[n("div",{staticClass:"cs-message-edit"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messageEdit.text,expression:"messageEdit.text"}],domProps:{value:e.messageEdit.text},on:{input:function(t){t.target.composing||e.$set(e.messageEdit,"text",t.target.value)}}}),n("div",{staticClass:"tw-flex tw-flex-row tw-justify-end tw-mt-2"},[n("div",{staticClass:"tw-cursor-pointer tw-rounded-full tw-leading-none tw-font-bold focus:tw-outline-none focus:tw-shadow-outline tw-uppercase tw-border-2 tw-border-blue-600 tw-text-blue-600 tw-py-2 tw-w-24 tw-flex tw-justify-center tw-mr-2",attrs:{title:"Cancel message edit"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.cancelMessageEdit()}}},[e._v("Cancel")]),n("div",{staticClass:"tw-cursor-pointer tw-cursor-pointer tw-rounded-full tw-leading-none tw-font-bold focus:tw-outline-none focus:tw-shadow-outline tw-uppercase tw-border-2 tw-border-blue-600 tw-text-white tw-bg-blue-600 tw-py-2 tw-w-24 tw-flex tw-justify-center",attrs:{title:"Save message updates"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.saveMessageEdit()}}},[e._v("Save")])])])]):e._e(),"system"==e.message.type?n("div",{staticClass:"tw-py-2 tw-text-white"},[e._v(" "+e._s(e.message.text)+" ")]):e._e()])},L=[],N=(n("1276"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cs-message-menu tw-absolute tw-text-base"},[n("div",{staticClass:"tw-relative"},[e.messageMenu?n("div",{staticClass:"cs-sub-menu tw-absolute tw-right-0 tw-bottom-0 tw-w-44 tw-p-3 tw-flex tw-flex-col tw-bg-black tw-rounded-lg tw-text-white cs-text-sm",class:{"cs-downdown":e.dropdownMenu}},[e.message.user.id==e.userId||e.isAdministrator?e._e():n("div",[n("a",{staticClass:"tw-no-underline tw-text-white",attrs:{href:e.message.user.profileUrl,target:"_blank"}},[e._v("View Profile")])]),e.message.user.id==e.userId?n("div",{class:{"tw-mb-2":e.isAdministrator}},[n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editMessage()}}},[e._v("Edit Message")]),n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeMessage()}}},[e._v("Delete")])]):e._e(),e.isAdministrator?n("div",[n("div",{staticClass:"tw-mb-2 tw-font-semibold tw-cursor-default"},[e._v("Moderation")]),e.$_show_pin?n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.pinMessage()}}},[e._v("Pin Message")]):e._e(),e.$_show_unpin?n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unpinMessage()}}},[e._v("Unpin Message")]):e._e(),e.message.user.id!=e.userId?n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeMessage()}}},[e._v("Remove Message")]):e._e(),e.message.user.id!=e.userId?n("div",{staticClass:"tw-mb-1 tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeAllMessages()}}},[e._v("Remove All Messages")]):e._e(),e.message.user.id!=e.userId?n("div",{staticClass:"tw-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.blockUser()}}},[e._v("Block Student")]):e._e()]):e._e()]):e._e(),e.messageReact?n("div",{staticClass:"cs-react-menu tw-absolute tw-right-0",class:{"cs-downdown":e.dropdownMenu}},[n("div",{staticClass:"tw-flex tw-flex-row tw-bg-black tw-rounded-full tw-text-center space-x-1 tw-py-2 tw-px-3 tw-mb-4"},e._l(e.messageReactions,(function(t,r){return n("div",{key:"add-reaction-"+r,staticClass:"tw-text-2xl tw-cursor-pointer tw-p-1",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.reactToMessage(r)}}},[n("i",{class:t})])})),0)]):e._e()]),n("div",{staticClass:"cs-main-menu tw-flex tw-flex-row tw-rounded-full tw-divide-x tw-divide-gray-400 tw-cursor-pointer tw-px-1"},[n("div",{staticClass:"tw-px-2 cs-text-xs tw-flex tw-flex-row tw-items-center tw-cursor-default"},[n("span",[e._v(e._s(e.$_message_time))])]),e.showUpvote&&e.isAdministrator?n("div",{staticClass:"tw-px-2 tw-text-sm",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.markAsAnswered()}}},[n("i",{staticClass:"fas fa-check"})]):e._e(),e.showUpvote?e._e():n("div",{staticClass:"cs-tooltip-container tw-px-2 tw-text-sm tw-relative",class:{"menu-active":e.messageReact},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleMessageReact()}}},[n("i",{staticClass:"fas fa-smile-plus"}),n("div",{staticClass:"cs-tooltip tw-absolute tw-rounded-md tw-px-2 tw-py-1 tw-text-xs tw-text-white tw-overflow-hidden tw-whitespace-nowrap"},[e._v("Add Reaction")]),n("div",{staticClass:"cs-tooltip-arrow tw-absolute tw-transform tw-rotate-45"})]),e.showThread?n("div",{staticClass:"tw-px-2 tw-text-sm",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.messageThread()}}},[n("i",{staticClass:"fal fa-reply-all"})]):e._e(),n("div",{staticClass:"tw-px-2 tw-text-sm",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleMessageMenu()}}},[n("i",{staticClass:"fas fa-ellipsis-h"})])])])}),$=[],q={name:"ChatMessageMenu",props:{message:{type:Object,default:function(){return{id:"",type:"",text:"",user:{displayName:"",avatarUrl:"",profileUrl:"",role:"",accessLevelName:""}}}},messageReactions:{type:Object,default:function(){return{}}},userId:{type:String},isAdministrator:{type:Boolean,default:function(){return!1}},showThread:{type:Boolean,default:function(){return!0}},dropdownMenu:{type:Boolean,default:function(){return!1}},showUpvote:{type:Boolean,default:function(){return!0}}},data:function(){return{messageMenu:!1,messageReact:!1}},computed:{$_message_time:{get:function(){return this.message.createdAt.toFormat("hh:mma")}},$_show_pin:{get:function(){return this.isAdministrator&&!this.message.pinned&&"reply"!=this.message.type}},$_show_unpin:{get:function(){return this.isAdministrator&&this.message.pinned&&"reply"!=this.message.type}}},mounted:function(){var e=this;this.$root.$on("messageMenuToggled",(function(t){var n=t.message;n.id!=e.message.id&&(e.messageReact=!1,e.messageMenu=!1)})),this.$root.$on("messageThread",(function(){e.messageReact=!1,e.messageMenu=!1})),this.$root.$on("closeMessageMenus",(function(){e.messageReact=!1,e.messageMenu=!1}))},methods:{toggleMessageMenu:function(){this.$root.$emit("messageMenuToggled",{message:this.message}),this.messageMenu=!this.messageMenu,this.messageReact=!1},toggleMessageReact:function(){this.$root.$emit("messageMenuToggled",{message:this.message}),this.messageReact=!this.messageReact,this.messageMenu=!1},messageThread:function(){this.$root.$emit("messageThread",{message:this.message}),this.messageReact=!1,this.messageMenu=!1},editMessage:function(){this.$root.$emit("editMessage",{message:this.message})},removeMessage:function(){this.$root.$emit("removeMessage",{message:this.message})},removeAllMessages:function(){this.$root.$emit("removeAllMessages",{user:this.message.user})},blockUser:function(){this.$root.$emit("blockUser",{user:this.message.user})},reactToMessage:function(e){this.$root.$emit("toggleMessageReaction",{message:this.message,reaction:e})},pinMessage:function(){this.$root.$emit("pinMessage",{message:this.message})},unpinMessage:function(){this.$root.$emit("unpinMessage",{message:this.message})},markAsAnswered:function(){this.$root.$emit("markAsAnswered",{message:this.message})}}},F=q,B=I(F,N,$,!1,null,null,null),V=B.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tw-flex tw-flex-row tw-items-center"},[n("div",{staticClass:"tw-flex-none tw-mr-3 tw-relative tw-overflow-hidden cs-user-avatar",class:e.getUserMembershipClass()},[n("a",{staticClass:"tw-no-underline",attrs:{href:e.user.profileUrl,target:"_blank"}},[n("img",{staticClass:"tw-max-w-full tw-h-auto",attrs:{src:e.user.avatarUrl}})])]),n("div",{staticClass:"tw-flex-grow tw-text-sm tw-text-white tw-flex tw-flex-col"},[n("div",{staticClass:"tw-flex tw-flex-row"},[n("a",{staticClass:"tw-flex-none tw-no-underline hover:tw-underline tw-text-white tw-font-semibold",attrs:{href:e.user.profileUrl,target:"_blank"}},[e._v(e._s(e.user.displayName))]),e._t("default")],2),e._t("footer")],2)])},H=[],Z={name:"ChatUser",props:{user:{type:Object,default:function(){return{displayName:"",avatarUrl:"",profileUrl:"",role:"",accessLevelName:""}}}},methods:{getUserMembershipClass:function(){return"cs-membership-"+this.user.accessLevelName}}},W=Z,Y=I(W,z,H,!1,null,null,null),J=Y.exports,G={name:"ChatMessage",components:{ChatMessageMenu:V,ChatUser:J},props:{message:{type:Object,default:function(){return{id:"",type:"",text:"",user:{displayName:"",avatarUrl:"",profileUrl:"",role:"",accessLevelName:""},own_reactions:[],reaction_counts:{}}}},userId:{type:String},isAdministrator:{type:Boolean,default:function(){return!1}},showMenu:{type:Boolean,default:function(){return!0}},showThread:{type:Boolean,default:function(){return!0}},showUpvote:{type:Boolean,default:function(){return!0}},dropdownMenu:{type:Boolean,default:function(){return!1}}},data:function(){return{messageEdit:{id:null,text:""},messageReactions:{thumb:"fas fa-thumbs-up cs-react-blue","thumbs-down":"fas fa-thumbs-down cs-react-blue",heart:"fas fa-heart cs-react-red",fire:"fas fa-fire cs-react-yellow","meh-rolling-eyes":"fas fa-meh-rolling-eyes cs-react-yellow","grin-hearts":"fas fa-grin-hearts cs-react-yellow","sad-cry":"fas fa-sad-cry cs-react-yellow","grin-squint":"fas fa-grin-squint cs-react-yellow","grin-tears":"fas fa-grin-tears cs-react-yellow"}}},computed:{$_message_reactions:{cache:!1,get:function(){var e=l({},this.message.reaction_counts);return delete e.upvote,e}},$_message_upvote:{cache:!1,get:function(){return this.message.reaction_counts.upvote||0}},$_message_upvote_class:{cache:!1,get:function(){return{active:this.hasOwnReaction("upvote")}}},$_has_reactions:{cache:!1,get:function(){return this.message&&this.message.reaction_counts&&Object.keys(this.message.reaction_counts).filter((function(e){return"upvote"!=e})).length>0}},$_reply_count_label:{cache:!1,get:function(){return this.message.reply_count+(this.message.reply_count>1?" replies":" reply")}}},mounted:function(){var e=this;"system"!=this.message.type&&(this.$root.$on("editMessage",(function(t){var n=t.message;n.id==e.message.id?e.messageEdit={id:n.id,text:n.text}:e.cancelMessageEdit()})),this.$root.$on("messageOwnReactionUpdate",(function(t){var n=t.message;n.id==e.message.id&&(e.upvoteNewScore=null)})))},methods:{cancelMessageEdit:function(){this.messageEdit={id:null,text:""}},saveMessageEdit:function(){this.$root.$emit("updateMessage",{message:this.message,text:this.messageEdit.text}),this.messageEdit={id:null,text:""}},getReactionClasses:function(e){return this.messageReactions[e]},toggleMessageReaction:function(e){this.$root.$emit("toggleMessageReaction",{message:this.message,reaction:e})},hasOwnReaction:function(e){var t=!1;return this.message.own_reactions.forEach((function(n){t=t||n.type==e})),t},formatReactionUsers:function(e,t){var n;switch(e.length){case 0:break;case 1:n=e[0];break;case 2:n=e[0]+" and "+e[1];break;case 3:n=e[0]+", "+e[1]+" and "+e[2];break;default:n=e[0]+", "+e[1]+" and "+(e.length-2)+" others"}return this.hasOwnReaction(t)&&(n=0==e.length?"You":1==e.length?"You and "+n:"You, "+n),n},getReactionUsers:function(e){var t=this,n=[];return this.message.reactions&&this.message.reactions.length&&(n=this.message.reactions.filter((function(n){return n.type==e&&n.user.id!=t.userId})).map((function(e){return e.user.displayName}))),n.length||this.hasOwnReaction(e)?this.formatReactionUsers(n,e):"Fetching user information..."},messageThread:function(){this.$root.$emit("messageThread",{message:this.message})},unpinMessage:function(){this.$root.$emit("unpinMessage",{message:this.message})},firstWordLength:function(){return this.message.text?this.message.text.split(" ")[0].length:0},closeMessageMenus:function(){this.$root.$emit("closeMessageMenus",{})}}},Q=G,K=I(Q,P,L,!1,null,null,null),X=K.exports,ee={name:"Chat",components:{ChatEmoji:D,ChatMessage:X,ChatUser:J},props:{apiKey:{type:String},token:{type:String},userId:{type:String},chatChannelName:{type:String},questionsChannelName:{type:String},isAdministrator:{type:Boolean,default:function(){return!1}},enableThread:{type:Boolean,default:function(){return!1}},userData:{type:Object,default:function(){return{displayName:"",avatarUrl:"",profileUrl:"",role:"",accessLevelName:""}}},embedUrl:{type:String,default:function(){return""}}},data:function(){return{message:"",messages:[],question:"",questions:[],streamClient:null,chatChannel:null,questionsChannel:null,showMembers:!1,showBannedUsers:!1,showDialog:!1,showThread:!1,showPinned:!1,showEmoji:!1,currentTab:"chat",messageThread:null,messageErrors:[],messageRemove:null,questionRemove:null,questionErrors:[],userBlock:null,userDeleteMessages:null,channelWatchers:{},fetchingBannedUsers:!1,bannedUsers:{},chatMenu:!1,userMessageId:0,userQuestionId:0,insertedEmoji:[]}},computed:{$_messages:{cache:!1,get:function(){return this.messages.filter((function(e){return!e.pinned}))}},$_messages_count:{cache:!1,get:function(){return this.messages.length}},$_pinned_messages:{cache:!1,get:function(){return this.messages.filter((function(e){return e.pinned}))}},$_questions:{cache:!1,get:function(){var e=m(this.questions);return e.sort((function(e,t){var n,r,i=(null===e||void 0===e||null===(n=e.reaction_counts)||void 0===n?void 0:n.upvote)||0,s=(null===t||void 0===t||null===(r=t.reaction_counts)||void 0===r?void 0:r.upvote)||0;return s-i}))}},$_questions_count:{cache:!1,get:function(){return this.questions.length}},$_watchers:{cache:!1,get:function(){return this.channelWatchers}},$_watcher_count:{cache:!1,get:function(){return Object.keys(this.channelWatchers).length}},$_banned_users_count:{cache:!1,get:function(){return Object.keys(this.bannedUsers).length}},$_errors_count:{cache:!1,get:function(){return this.messageErrors.length}},$_message_thread_replies:{cache:!1,get:function(){return this.messageThread.replies.filter((function(e){return"reply"==e.type}))}},$_reply_count_label:{cache:!1,get:function(){var e="";return this.messageThread&&this.messageThread.reply_count&&(e=this.messageThread.reply_count+(this.messageThread.reply_count>1?" replies":" reply")),e}},$_short_username:{get:function(){return null!=this.userBlock&&this.userBlock.displayName.length<=12}}},mounted:function(){this.setupChat(),this.$root.$on("updateMessage",this.updateMessage),this.$root.$on("removeMessage",this.removeMessage),this.$root.$on("removeAllMessages",this.removeAllMessages),this.$root.$on("blockUser",this.blockUser),this.$root.$on("toggleMessageReaction",this.toggleMessageReaction),this.$root.$on("messageThread",this.showMessageThread),this.$root.$on("pinMessage",this.pinMessage),this.$root.$on("unpinMessage",this.unpinMessage),this.$root.$on("insertEmoji",this.insertEmoji),this.$root.$on("removeEmoji",this.removeEmoji),this.$root.$on("markAsAnswered",this.markAsAnswered),this.$root.$on("postQuestion",this.postQuestion)},watch:{$_messages_count:function(){this.scrollMessages()},$_errors_count:function(){this.scrollMessages()},$_reply_count_label:function(){this.scrollThreadMessages()},$_questions_count:function(){this.scrollQuestions()}},methods:{scrollMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$refs.messages;(e||Math.ceil(t.scrollHeight-t.scrollTop)===t.clientHeight)&&this.$nextTick((function(){t.scroll({top:t.scrollHeight,behavior:"smooth"})}))},scrollQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$refs.questions;(e||Math.ceil(t.scrollHeight-t.scrollTop)===t.clientHeight)&&this.$nextTick((function(){t.scroll({top:t.scrollHeight,behavior:"smooth"})}))},scrollThreadMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$refs.threadMessages;t&&(e||Math.ceil(t.scrollHeight-t.scrollTop)===t.clientHeight)&&this.$nextTick((function(){t.scroll({top:t.scrollHeight,behavior:"smooth"})}))},removeAllQuestions:function(){var e=this;if(this.questions.length){this.chatMenu=!1;var t=this.questions[0];this.streamClient.deleteMessage(t.id).then((function(){e.deleteMessage({message:t,collection:e.questions}),e.removeAllQuestions()})).catch((function(t){var n=t.response;e.errorHandler(n,"Mark question as answered error")}))}},sendMessage:function(){var e=this,t={text:this.message.trim()};this.message="",t.text&&(this.messageThread&&(t.parent_id=this.messageThread.id,t.show_in_channel=!1),this.chatChannel.sendMessage(t).then((function(){e.messageErrors=[]})).catch((function(t){var n=t.response;e.errorHandler(n,"Message send error")})));var n={id:"",type:"regular",text:this.getParsedMessage(t.text),reply_count:0,pinned:!1,user:this.userData,reaction_counts:{},reaction_scores:{},own_reactions:[],createdAt:g["DateTime"].now(),pinnedAt:null,reactions:[],replies:[],key:"user-"+this.userId+this.userMessageId++};this.messages.push(n),this.insertedEmoji=[],this.$nextTick((function(){e.scrollMessages(!0)}))},sendQuestion:function(){var e=this,t=this.question.trim();this.question="",t&&this.questionsChannel.sendMessage({text:t}).then((function(){e.questionErrors=[]})).catch((function(t){var n=t.response;e.errorHandler(n,"Question send error")}));var n={id:"",type:"regular",text:this.getParsedMessage(t),reply_count:0,pinned:!1,user:this.userData,reaction_counts:{},reaction_scores:{},own_reactions:[],createdAt:g["DateTime"].now(),pinnedAt:null,reactions:[],replies:[],key:"user-"+this.userId+this.userQuestionId++};this.questions.push(n),this.$nextTick((function(){e.scrollQuestions(!0)}))},postQuestion:function(e){var t=e.text;this.question=t,this.currentTab="questions",this.sendQuestion()},errorHandler:function(e,t){var n,r,i="".concat(t,", please try again, if the error persists contact support.");e&&(null!==(n=e.data)&&void 0!==n&&n.code?i=17==e.data.code?"".concat(t,", your account is currently suspended from chat, please contact support."):i+" Error code: "+e.data.code:null!==(r=e.data)&&void 0!==r&&r.StatusCode&&(i=i+" Error status code: "+e.data.StatusCode));this.messageErrors.push(i)},attachChatEventHandlers:function(e,t,n){var r=this;e.on("message.new",(function(e){var i=e.message;r.pushMessage({message:i,collection:t,category:n})})),e.on("message.updated",(function(e){var n=e.message;r.updateMessageState({message:n,collection:t})})),e.on("message.deleted",(function(e){var n=e.message;r.deleteMessage({message:n,collection:t})})),e.on("reaction.new",(function(e){var n=e.message,i=e.reaction;r.pushMessageReaction({message:n,reaction:i,collection:t})})),e.on("reaction.deleted",(function(e){var n=e.message,i=e.reaction;r.deleteMessageReaction({message:n,reaction:i,collection:t})})),e.on("reaction.updated",(function(e){var n=e.message,i=e.reaction;r.updateMessageReaction({message:n,reaction:i,collection:t})})),e.on((function(e){var t=e.type,n=e.channel_id,i=e.user;"delete_user_messages"==t&&(n==r.chatChannelName?r.deleteUserMessages(i):n==r.questionsChannelName&&r.deleteUserQuestions(i))}))},setupChat:function(){var e=this;this.streamClient=new y["a"](this.apiKey,{timeout:6e3}),this.streamClient.connectUser({id:this.userId},this.token).then((function(){return e.chatChannel=e.streamClient.channel("messaging",e.chatChannelName,{}),e.chatChannel.watch()})).then((function(t){e.fetchWatchers(),e.fetchPinnedMessages(),e.processMessages(t,e.messages,"message");var n={id:"greeting",type:"system",text:"Welcome to chat!"};e.messages.push(n),e.chatChannel.on("user.watching.start",(function(t){var n=t.user;e.$set(e.channelWatchers,n.id,n)})),e.chatChannel.on("user.watching.stop",(function(t){var n=t.user;e.channelWatchers[n.id]&&e.$delete(e.channelWatchers,n.id)})),e.attachChatEventHandlers(e.chatChannel,e.messages,"message"),e.setupQuestionsChannel()}))},setupQuestionsChannel:function(){var e=this;this.questionsChannel=this.streamClient.channel("messaging",this.questionsChannelName,{}),this.questionsChannel.watch().then((function(t){e.processMessages(t,e.questions,"question"),e.attachChatEventHandlers(e.questionsChannel,e.questions,"question")}))},fetchWatchers:function(){var e=this,t=1e3;this.chatChannel.query({watchers:{limit:t,offset:0}}).then((function(t){var n=t.watchers;n&&n.forEach((function(t){e.$set(e.channelWatchers,t.id,t)}))}))},fetchBannedUsers:function(){var e=this;this.fetchingBannedUsers=!0,this.bannedUsers={};var t=1e3;this.streamClient.queryUsers({banned:!0},{},{limit:t,offset:0}).then((function(t){var n=t.users;n.forEach((function(t){e.$set(e.bannedUsers,t.id,t)})),e.fetchingBannedUsers=!1}))},fetchPinnedMessages:function(){var e=this,t=1e3;this.chatChannel.search({pinned:!0},null,{limit:t,offset:0}).then((function(t){var n=t.results;n.forEach((function(t){var n=t.message;"regular"==n.type&&e.insertMessage(n)})),e.unpinMessages()}))},deleteUserMessages:function(e){var t=this;this.messages.forEach((function(n,r){var i;(null===(i=n.user)||void 0===i?void 0:i.id)==e.id&&t.messages.splice(r,1)}))},deleteUserQuestions:function(e){var t=this;this.questions.forEach((function(n,r){var i;(null===(i=n.user)||void 0===i?void 0:i.id)==e.id&&t.questions.splice(r,1)}))},unpinMessages:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if(this.$_pinned_messages.length>t){var n=this.$_pinned_messages.map((function(e){var t=e.id,n=e.text,r=e.pinnedAt;return{id:t,text:n,pinnedAt:r}})).sort((function(e,t){return t.pinnedAt-e.pinnedAt}));n.forEach((function(n,r){r>t-1&&e.unpinMessage({message:n})}))}},processMessages:function(e,t,n){var r=this,i=e.messages;i.forEach((function(e){"regular"==e.type&&r.pushMessage({message:e,collection:t,category:n})}))},getParsedMessage:function(e){var t=T.parseUrls(e);return T.parseEmoji(t)},getUserCopy:function(e){var t=e.id,n=e.displayName,r=e.avatarUrl,i=e.profileUrl,s=e.role,a=e.accessLevelName;return{id:t,displayName:n,avatarUrl:r,profileUrl:i,role:s,accessLevelName:a}},getMessageCopy:function(e){var t=this,n=function(e){var t=e.id,n=e.type,r=e.text,i=e.reply_count,s=e.pinned;return{id:t,type:n,text:r,reply_count:i,pinned:s}}(e);n.user=this.getUserCopy(e.user),n.originalText=n.text,n.text=this.getParsedMessage(n.text),n.reaction_counts=l({},e.reaction_counts),n.reaction_scores=l({},e.reaction_scores),n.own_reactions=e.own_reactions.map((function(e){var t=e.type,n=e.score;return{type:t,score:n}})),n.createdAt=g["DateTime"].fromISO(e.created_at),n.pinnedAt=g["DateTime"].fromISO(e.pinned_at);var r=Object.values(e.reaction_counts||{}).reduce((function(e,t){return e+t}),0);return n.reactions=[],n.replies=[],e.latest_reactions.length==r?e.latest_reactions.forEach((function(e){n.reactions.push({type:e.type,user:t.getUserCopy(e.user)})})):this.chatChannel.getReactions(e.id,{limit:1e3}).then((function(e){var r=e.reactions;r.forEach((function(e){n.reactions.push({type:e.type,user:t.getUserCopy(e.user)})}))})),n},pushMessage:function(e){var t=this,n=e.message,r=e.collection,i=e.category,s=this.getMessageCopy(n);s.category=i,s.key=s.id,n.reply_count&&this.chatChannel.getReplies(n.id,{limit:1e3}).then((function(e){var n,r=e.messages;r.forEach((function(e){s.replies.push(t.getMessageCopy(e))})),(null===(n=t.messageThread)||void 0===n?void 0:n.id)==s.id&&t.scrollThreadMessages()}));var a,o=!1;n.user.id==this.userId&&("regular"==n.type?(r.forEach((function(e,n){e.id||e.user.id!=t.userId||e.text!=s.text||(a=n,o=!0)})),a&&(s.key=r[a].key,r.splice(a,1,s))):"reply"==n.type&&n.parent_id&&r.forEach((function(e,i){var a;e.id==n.parent_id&&(e.replies.forEach((function(e,n){e.id||e.user.id!=t.userId||e.text!=s.text||(a=n,o=!0)})),a&&(s.key=r[i].replies[a].key,r[i].replies.splice(a,1,s)))})));o||("regular"==n.type?r.push(s):"reply"==n.type&&n.parent_id&&r.forEach((function(e){e.id==n.parent_id&&(e.replies.push(s),e.reply_count=e.reply_count+1)})))},insertMessage:function(e){var t=this,n=!1,r=null,i=g["DateTime"].fromISO(e.created_at);if(this.messages.forEach((function(t,s){e.id==t.id&&(n=!0),null==r&&i<t.createdAt&&(r=s)})),!n){var s=this.getMessageCopy(e);e.reply_count&&this.chatChannel.getReplies(e.id,{limit:1e3}).then((function(e){var n=e.messages;n.forEach((function(e){s.replies.push(t.getMessageCopy(e))}))})),r?this.messages.splice(r,0,s):this.messages.push(s)}},updateMessageState:function(e){var t=this,n=e.message,r=e.collection;r.forEach((function(e){"regular"==n.type&&e.id==n.id?(e.text=t.getParsedMessage(n.text),e.pinned=n.pinned):"reply"==n.type&&n.parent_id&&e.id==n.parent_id&&e.replies.forEach((function(e){e.id==n.id&&(e.text=t.getParsedMessage(n.text))}))}))},deleteMessage:function(e){var t=e.message,n=e.collection,r=null;n.forEach((function(e,n){t.parent_id&&e.id==t.parent_id?(e.replies.forEach((function(e,n){e.id==t.id&&(r=n)})),null!=r&&(e.replies.splice(r,1),e.reply_count=e.reply_count-1,r=null)):e.id==t.id&&(r=n)})),null==r||t.parent_id||n.splice(r,1)},pushMessageReaction:function(e){var t=this,n=e.message,r=e.reaction,i=e.collection;i.forEach((function(e){n.parent_id&&e.id==n.parent_id?e.replies.forEach((function(e){e.id==n.id&&t.addMessageReaction(e,r,l({},n.reaction_counts),l({},n.reaction_scores))})):e.id==n.id&&t.addMessageReaction(e,r,l({},n.reaction_counts),l({},n.reaction_scores))})),this.messageThread&&this.messageThread.id==n.id?this.$nextTick((function(){t.scrollThreadMessages()})):null==this.messageThread&&(this.scrollMessages(),this.scrollQuestions())},addMessageReaction:function(e,t,n,r){e.reactions.push({type:t.type,user:this.getUserCopy(t.user)}),e.reaction_counts=n,e.reaction_scores=r,t.user.id==this.userId&&(e.own_reactions.push({type:t.type,score:t.score}),this.$root.$emit("messageOwnReactionUpdate",{message:e}))},deleteMessageReaction:function(e){var t=this,n=e.message,r=e.reaction,i=e.collection;i.forEach((function(e){n.parent_id&&e.id==n.parent_id?e.replies.forEach((function(e){e.id==n.id&&t.removeMessageReaction(e,r,l({},n.reaction_counts),l({},n.reaction_scores))})):e.id==n.id&&t.removeMessageReaction(e,r,l({},n.reaction_counts),l({},n.reaction_scores))}))},removeMessageReaction:function(e,t,n,r){var i;e.reactions.forEach((function(e,n){e.type==t.type&&e.user.id==t.user.id&&(i=n)})),e.reactions.splice(i,1),e.reaction_counts=n,e.reaction_scores=r,t.user.id==this.userId&&(e.own_reactions.forEach((function(e,n){e.type==t.type&&(i=n)})),e.own_reactions.splice(i,1))},updateMessageReaction:function(e){var t=this,n=e.message,r=e.reaction,i=e.collection;i.forEach((function(e){e.id==n.id&&(e.reaction_counts=l({},n.reaction_counts),e.reaction_scores=l({},n.reaction_scores),r.user.id==t.userId&&(e.own_reactions.forEach((function(e){e.type==r.type&&(e.score=r.score)})),t.$root.$emit("messageOwnReactionUpdate",{message:n})))}))},toggleShowMembers:function(){this.showMembers=!this.showMembers,this.chatMenu=!1},toggleShowBannedUsers:function(){this.showBannedUsers=!this.showBannedUsers,this.chatMenu=!1,this.showBannedUsers&&this.fetchBannedUsers()},toggleShowEmoji:function(){this.showEmoji=!this.showEmoji},updateMessage:function(e){var t=this,n=e.message,r=e.text;this.streamClient.updateMessage({id:n.id,text:r}).then((function(){t.messageErrors=[]})).catch((function(e){var n=e.response;t.errorHandler(n,"Message update error")}))},removeMessage:function(e){var t=e.message;this.messageRemove=t,this.showDialog=!0},blockUser:function(e){var t=e.user;this.userBlock=t,this.showDialog=!0},removeAllMessages:function(e){var t=e.user;this.userDeleteMessages=t,this.showDialog=!0},markAsAnswered:function(e){var t=e.message;this.questionRemove=t,this.showDialog=!0},closeDialog:function(e){var t=this;e&&(this.messageRemove?this.streamClient.deleteMessage(this.messageRemove.id).then((function(){t.messageErrors=[]})).catch((function(e){var n=e.response;t.errorHandler(n,"Message delete error")})):this.userBlock?x.banUser(this.userBlock.id).then((function(){t.messageErrors=[]})).catch((function(e){var n=e.response;t.railErrorHandler(n,"User ban error")})):this.questionRemove?this.streamClient.deleteMessage(this.questionRemove.id).then((function(){t.questionErrors=[]})).catch((function(e){var n=e.response;t.errorHandler(n,"Mark question as answered error")})):this.userDeleteMessages&&x.deleteUserMessages(this.userDeleteMessages.id).then((function(){t.messageErrors=[]})).catch((function(e){var n=e.response;t.railErrorHandler(n,"Delete user messages error")}))),this.showDialog=!1,this.messageRemove=null,this.questionRemove=null,this.userBlock=null,this.userDeleteMessages=null},hasOwnReaction:function(e,t){var n=!1;return e.own_reactions.forEach((function(e){n=n||e.type==t})),n},removeOwnReaction:function(e){var t,n,r=e.message,i=e.reaction,s="message"==r.category?this.messages:this.questions;s.forEach((function(e){e.id==r.id&&(t=e)})),t.reaction_counts[i]>1?t.reaction_counts[i]=t.reaction_counts[i]-1:delete t.reaction_counts[i],t.own_reactions.forEach((function(e,t){var r=e.type;r==i&&(n=t)})),n&&t.own_reactions.splice(n,1)},addOwnReaction:function(e){var t,n=e.message,r=e.reaction,i="message"==n.category?this.messages:this.questions;i.forEach((function(e){e.id==n.id&&(t=e)})),t.reaction_counts[r]=(t.reaction_counts[r]||0)+1,t.own_reactions.push({type:r,score:1})},toggleMessageReaction:function(e){var t=this,n=e.message,r=e.reaction;this.hasOwnReaction(n,r)?(this.removeOwnReaction({message:n,reaction:r}),this.chatChannel.deleteReaction(n.id,r).then((function(){t.messageErrors=[]})).catch((function(e){var n=e.response;t.errorHandler(n,"Message reaction remove error")}))):(this.addOwnReaction({message:n,reaction:r}),this.chatChannel.sendReaction(n.id,{type:r}).then((function(){t.messageErrors=[]})).catch((function(e){var n=e.response;t.errorHandler(n,"Message reaction send error")})))},showMessageThread:function(e){var t=this,n=e.message;this.messageThread=n,this.showMembers=!1,this.showThread=!0,this.$nextTick((function(){t.scrollThreadMessages(!0)}))},hideMessageThread:function(){this.showThread=!1,this.messageThread=null},pinMessage:function(e){var t=this,n=e.message;this.streamClient.pinMessage({id:n.id,text:n.originalText},null).then((function(){t.messageErrors=[],t.unpinMessages(1)})).catch((function(e){var n=e.response;t.errorHandler(n,"Message pin error")}))},unpinMessage:function(e){var t=this,n=e.message;this.streamClient.unpinMessage({id:n.id,text:n.originalText},null).then((function(){t.messageErrors=[]})).catch((function(e){var n=e.response;t.errorHandler(n,"Message unpin error")}))},toggleShowPinned:function(){this.showPinned=!this.showPinned},toggleChatMenu:function(){this.chatMenu=!this.chatMenu,this.showEmoji=!1},unblockUser:function(e){var t=this,n=e.id;x.unbanUser(n).then((function(){t.messageErrors=[],t.fetchBannedUsers()})).catch((function(e){var n=e.response;t.railErrorHandler(n,"User unban error")}))},railErrorHandler:function(e,t){var n,r="".concat(t,", please try again, if the error persists contact support.");e&&null!==(n=e.data)&&void 0!==n&&n.errors&&Array.isArray(e.data.errors)?e.data.errors.forEach((function(e){e.detail?r="".concat(t,": ").concat(e.detail):console.log("Chat::railErrorHandler unknown error message format: %s",JSON.stringify(e))})):console.log("Chat::railErrorHandler unknown error response format: %s",JSON.stringify(e)),this.messageErrors.push(r)},insertEmoji:function(e){var t=e.emoji,n=this.$refs.newMessage,r=n.selectionStart,i=n.selectionEnd;n.setRangeText(":".concat(t,":"),r,i,"end"),this.message=n.value,this.insertedEmoji.push(":".concat(t,":"))},removeEmoji:function(){if(this.insertedEmoji.length){var e=this.insertedEmoji.pop();this.message=this.message.replace(e,"")}},setCurrentTab:function(e){"chat"!=e&&"questions"!=e||(this.currentTab=e),this.chatMenu=!1,this.showEmoji=!1},getTabClasses:function(e){var t=["tw-font-semibold","tw-text-white","tw-border-white"],n=["cs-text-gray","tw-border-transparent"];return this.currentTab==e?t:n}}},te=ee,ne=I(te,a,o,!1,null,null,null),re=ne.exports,ie={Chat:re},se=ie,ae=(n("29d8"),{install:function(e){Object.keys(se).forEach((function(t){e.component(t,se[t])}))}});t["default"]=ae},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),s=n("e8b5"),a=n("23cb"),o=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),f=n("1dde"),h=f("slice"),d=l("species"),p=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,l,f=c(this),h=o(f.length),m=a(e,h),g=a(void 0===t?h:t,h);if(s(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?i(n)&&(n=n[d],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(f,m,g);for(r=new(void 0===n?Array:n)(v(g-m,0)),l=0;m<g;m++,l++)m in f&&u(r,l,f[m]);return r.length=l,r}})},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise},ff91:function(e,t,n){var r;(function(){"use strict";function i(e){var t="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element"),n=60103,r={use_static:!1};function s(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e}function a(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function o(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:n})}function c(e,t){o(e,t,(function(){throw new w("The "+t+" method cannot be invoked on an Immutable data structure.")}))}s(e)&&void 0!==e.use_static&&(r.use_static=Boolean(e.use_static));var u="__immutable_invariants_hold";function l(e){o(e,u,!0)}function f(e){return"object"!==typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,u)))}function h(e,t){return e===t||e!==e&&t!==t}function d(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&!(e instanceof Date)}var p=["setPrototypeOf"],v=["keys"],m=p.concat(["push","pop","sort","splice","shift","unshift","reverse"]),g=v.concat(["map","filter","slice","concat","reduce","reduceRight"]),y=p.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function w(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function b(e,t){for(var n in l(e),t)t.hasOwnProperty(n)&&c(e,t[n]);return Object.freeze(e),e}function x(e,t){var n=e[t];o(e,t,(function(){return Q(n.apply(e,arguments))}))}function _(e,t,n){var r=n&&n.deep;if(e in this&&(r&&this[e]!==t&&d(t)&&d(this[e])&&(t=Q.merge(this[e],t,{deep:!0,mode:"replace"})),h(this[e],t)))return this;var i=A.call(this);return i[e]=Q(t),S(i)}w.prototype=new Error,w.prototype.constructor=Error;var k=Q([]);function C(e,t,n){var r=e[0];if(1===e.length)return _.call(this,r,t,n);var i,s=e.slice(1),a=this[r];if("object"===typeof a&&null!==a)i=Q.setIn(a,s,t);else{var o=s[0];i=""!==o&&isFinite(o)?C.call(k,s,t):L.call(P,s,t)}if(r in this&&a===i)return this;var c=A.call(this);return c[r]=i,S(c)}function S(e){for(var t in g)if(g.hasOwnProperty(t)){var n=g[t];x(e,n)}r.use_static||(o(e,"flatMap",T),o(e,"asObject",R),o(e,"asMutable",A),o(e,"set",_),o(e,"setIn",C),o(e,"update",$),o(e,"updateIn",F),o(e,"getIn",B));for(var i=0,s=e.length;i<s;i++)e[i]=Q(e[i]);return b(e,m)}function E(e){return r.use_static||o(e,"asMutable",O),b(e,y)}function O(){return new Date(this.getTime())}function T(e){if(0===arguments.length)return this;var t,n=[],r=this.length;for(t=0;t<r;t++){var i=e(this[t],t,this);Array.isArray(i)?n.push.apply(n,i):n.push(i)}return S(n)}function M(e){if("undefined"===typeof e&&0===arguments.length)return this;if("function"!==typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,n){"number"===typeof e&&(n[t]=e.toString())})),e=function(e,n){return-1!==t.indexOf(n)}}var n=a(this);for(var r in this)this.hasOwnProperty(r)&&!1===e(this[r],r)&&(n[r]=this[r]);return H(n)}function A(e){var t,n,r=[];if(e&&e.deep)for(t=0,n=this.length;t<n;t++)r.push(U(this[t]));else for(t=0,n=this.length;t<n;t++)r.push(this[t]);return r}function R(e){"function"!==typeof e&&(e=function(e){return e});var t,n={},r=this.length;for(t=0;t<r;t++){var i=e(this[t],t,this),s=i[0],a=i[1];n[s]=a}return H(n)}function U(e){return!e||"object"!==typeof e||!Object.getOwnPropertyDescriptor(e,u)||e instanceof Date?e:Q.asMutable(e,{deep:!0})}function I(e,t){for(var n in e)Object.getOwnPropertyDescriptor(e,n)&&(t[n]=e[n]);return t}function j(e,t){if(0===arguments.length)return this;if(null===e||"object"!==typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var n,r,i=Array.isArray(e),s=t&&t.deep,o=t&&t.mode||"merge",c=t&&t.merger;function u(e,r,i){var o,u=Q(r[i]),l=c&&c(e[i],u,t),f=e[i];void 0===n&&void 0===l&&e.hasOwnProperty(i)&&h(u,f)||(o=void 0!==l?l:s&&d(f)&&d(u)?Q.merge(f,u,t):u,h(f,o)&&e.hasOwnProperty(i)||(void 0===n&&(n=I(e,a(e))),n[i]=o))}function l(e,t){for(var r in e)t.hasOwnProperty(r)||(void 0===n&&(n=I(e,a(e))),delete n[r])}if(i)for(var f=0,p=e.length;f<p;f++){var v=e[f];for(r in v)v.hasOwnProperty(r)&&u(void 0!==n?n:this,v,r)}else{for(r in e)Object.getOwnPropertyDescriptor(e,r)&&u(this,e,r);"replace"===o&&l(this,e)}return void 0===n?this:H(n)}function D(e,t){var n=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!==typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return Q.merge(this,e,{deep:n,mode:"replace"})}var P=Q({});function L(e,t,n){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var r=e[0];if(1===e.length)return N.call(this,r,t,n);var i,s=e.slice(1),o=this[r];if(i=this.hasOwnProperty(r)&&"object"===typeof o&&null!==o?Q.setIn(o,s,t):L.call(P,s,t),this.hasOwnProperty(r)&&o===i)return this;var c=I(this,a(this));return c[r]=i,H(c)}function N(e,t,n){var r=n&&n.deep;if(this.hasOwnProperty(e)&&(r&&this[e]!==t&&d(t)&&d(this[e])&&(t=Q.merge(this[e],t,{deep:!0,mode:"replace"})),h(this[e],t)))return this;var i=I(this,a(this));return i[e]=Q(t),H(i)}function $(e,t){var n=Array.prototype.slice.call(arguments,2),r=this[e];return Q.set(this,e,t.apply(r,[r].concat(n)))}function q(e,t){for(var n=0,r=t.length;null!=e&&n<r;n++)e=e[t[n]];return n&&n==r?e:void 0}function F(e,t){var n=Array.prototype.slice.call(arguments,2),r=q(this,e);return Q.setIn(this,e,t.apply(r,[r].concat(n)))}function B(e,t){var n=q(this,e);return void 0===n?t:n}function V(e){var t,n=a(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(n[t]=U(this[t]));else for(t in this)this.hasOwnProperty(t)&&(n[t]=this[t]);return n}function z(){return{}}function H(e){return r.use_static||(o(e,"merge",j),o(e,"replace",D),o(e,"without",M),o(e,"asMutable",V),o(e,"set",N),o(e,"setIn",L),o(e,"update",$),o(e,"updateIn",F),o(e,"getIn",B)),b(e,p)}function Z(e){return"object"===typeof e&&null!==e&&(e.$$typeof===n||e.$$typeof===t)}function W(e){return"undefined"!==typeof File&&e instanceof File}function Y(e){return"undefined"!==typeof Blob&&e instanceof Blob}function J(e){return"object"===typeof e&&"function"===typeof e.then}function G(e){return e instanceof Error}function Q(e,t,n){if(f(e)||Z(e)||W(e)||Y(e)||G(e))return e;if(J(e))return e.then(Q);if(Array.isArray(e))return S(e.slice());if(e instanceof Date)return E(new Date(e.getTime()));var r=t&&t.prototype,i=r&&r!==Object.prototype?function(){return Object.create(r)}:z,s=i();if(null==n&&(n=64),n<=0)throw new w("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var a in n-=1,e)Object.getOwnPropertyDescriptor(e,a)&&(s[a]=Q(e[a],void 0,n));return H(s)}function K(e){function t(){var t=[].slice.call(arguments),n=t.shift();return e.apply(n,t)}return t}function X(e,t){function n(){var n=[].slice.call(arguments),r=n.shift();return Array.isArray(r)?t.apply(r,n):e.apply(r,n)}return n}function ee(e,t,n){function r(){var r=[].slice.call(arguments),i=r.shift();return Array.isArray(i)?t.apply(i,r):i instanceof Date?n.apply(i,r):e.apply(i,r)}return r}return Q.from=Q,Q.isImmutable=f,Q.ImmutableError=w,Q.merge=K(j),Q.replace=K(D),Q.without=K(M),Q.asMutable=ee(V,A,O),Q.set=X(N,_),Q.setIn=X(L,C),Q.update=K($),Q.updateIn=K(F),Q.getIn=K(B),Q.flatMap=K(T),Q.asObject=K(R),r.use_static||(Q.static=i({use_static:!0})),Object.freeze(Q),Q}var s=i();r=function(){return s}.call(t,n,t,e),void 0===r||(e.exports=r)})()}})["default"]}));
//# sourceMappingURL=chatsora.umd.min.js.map